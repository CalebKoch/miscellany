{"version":3,"file":"/js/editors/summernote.js","mappings":"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","sources":["webpack:///./resources/assets/js/editors/summernote.js"],"sourcesContent":["var summernoteConfig;\nvar advancedRequest = false;\n\n$(document).ready(function () {\n    summernoteConfig = $('#summernote-config');\n    if (summernoteConfig.length > 0) {\n        window.initSummernote();\n    }\n});\n\n/**\n * Initialize summernote when available\n */\nwindow.initSummernote = function() {\n    const $summernote = $('.html-editor').summernote({\n        height: '300px',\n        maximumImageFileSize: parseInt(summernoteConfig.data('filesize')) * 1024,\n        lang: editorLang(summernoteConfig.data('locale')),\n        hintSelect: 'next',\n        placeholder: summernoteConfig.data('placeholder'),\n        dialogsInBody: summernoteConfig.data('dialogs') === 1,\n        toolbar: [\n            ['style', ['style']],\n            ['font', ['bold', 'italic', 'underline', 'strikethrough', 'clear']],\n            ['color', ['color']],\n            ['kanka', ['aroba', (summernoteConfig.data('bragi') !== undefined ? 'bragi' : null)]],\n            ['para', ['ul', 'ol', 'kanka-indent', 'kanka-outdent', 'paragraph']],\n            ['table', ['table', 'spoiler', 'tableofcontent']],\n            ['insert', ['link', 'picture', 'video', 'embed', 'hr']],\n            //['dir', ['ltr', 'rtl']],\n            ['view', ['fullscreen', 'codeview', 'help']],\n            (summernoteConfig.data('gallery') !== '' ? ['extensions', ['summernoteGallery']] : null),\n        ],\n\n        popover: {\n            table: [\n                ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\n                ['delete', ['deleteRow', 'deleteCol', 'deleteTable']],\n                ['custom', ['tableHeaders']],\n                ['custom', ['tableStyles']]\n            ],\n            image: [\n                ['image', ['resizeFull', 'resizeHalf', 'resizeQuarter', 'resizeNone']],\n                ['float', ['floatLeft', 'floatRight', 'floatNone']],\n                ['remove', ['removeMedia']],\n                ['custom', ['imageAttributes']],\n            ],\n        },\n        callbacks: {\n            onImageUpload: function (files) {\n                uploadImage($summernote, files[0]);\n            },\n            onChange: function() {\n                window.entityFormHasUnsavedChanges = true;\n            },\n            onChangeCodeview: function(contents, $editable) {\n                $(this).summernote('code', contents);\n            },\n            /*onBlur: function() {\n                console.log('blury');\n            },*/\n        },\n        summernoteGallery: {\n            source: {\n                // data: [],\n                url: summernoteConfig.data('gallery'),\n                responseDataKey: 'data',\n                nextPageKey: 'links.next',\n            },\n            modal: {\n                loadOnScroll: true,\n                maxHeight: 350,\n                title: summernoteConfig.data('gallery-title'),\n                close_text: summernoteConfig.data('gallery-close'),\n                ok_text: summernoteConfig.data('gallery-add'),\n                selectAll_text: summernoteConfig.data('gallery-select-all'),\n                deselectAll_text: summernoteConfig.data('gallery-deselect-all'),\n                noImageSelected_msg: summernoteConfig.data('gallery-error'),\n            }\n        },\n        bragi: {\n            source: {\n                url: summernoteConfig.data('bragi'),\n            },\n            buttonLabel: '<i class=\"fa-brands fa-pied-piper-hat\"></i>',\n        },\n        hint: [\n            {\n                match: /\\B@(\\S*)$/,\n                search: function (keyword, callback) {\n                    if (keyword.length < 3) {\n                        return [];\n                    }\n                    return hintEntities(keyword, callback);\n                },\n                template: function (item) {\n                    return hintTemplate(item);\n                },\n                content: function (item) {\n                    advancedRequest = false;\n                    return hintContent(item);\n                }\n            },\n            {\n                match: /\\B\\[(\\S[^:]*)$/,\n                search: function (keyword, callback) {\n                    if (keyword.length < 3) {\n                        return [];\n                    }\n                    return hintEntities(keyword, callback);\n                },\n                template: function (item) {\n                    return hintTemplate(item);\n                },\n                content: function (item) {\n                    advancedRequest = true;\n                    return hintContent(item);\n                }\n            },\n            {\n                match: /\\B\\#(\\S*)$/,\n                search: function (keyword, callback) {\n                    return hintMonths(keyword, callback);\n                },\n                template: function (item) {\n                    return hintTemplate(item);\n                },\n                content: function (item) {\n                    advancedRequest = false;\n                    return hintContent(item);\n                }\n            },\n            {\n                match: /\\B{(\\S[^:]*)$/,\n                search: function (keyword, callback) {\n                    return attributeSearch(keyword, callback);\n                },\n                template: function (item) {\n                    return attributeTemplate(item);\n                },\n                content: function (item) {\n                    return attributeContent(item);\n                }\n            },\n        ],\n        keyMap: {\n            pc: {\n                'ESC': 'escape',\n                'ENTER': 'insertParagraph',\n                'CTRL+Z': 'undo',\n                'CTRL+Y': 'redo',\n                'TAB': 'tab',\n                'SHIFT+TAB': 'untab',\n                'CTRL+B': 'bold',\n                'CTRL+I': 'italic',\n                'CTRL+U': 'underline',\n                'CTRL+SHIFT+I': 'strikethrough',\n                'CTRL+BACKSLASH': 'removeFormat',\n                'CTRL+SHIFT+L': 'justifyLeft',\n                'CTRL+SHIFT+E': 'justifyCenter',\n                'CTRL+SHIFT+R': 'justifyRight',\n                'CTRL+SHIFT+J': 'justifyFull',\n                'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n                'CTRL+SHIFT+NUM8': 'insertOrderedList',\n                'CTRL+LEFTBRACKET': 'outdent',\n                'CTRL+RIGHTBRACKET': 'indent',\n                'CTRL+NUM0': 'formatPara',\n                'CTRL+NUM1': 'formatH1',\n                'CTRL+NUM2': 'formatH2',\n                'CTRL+NUM3': 'formatH3',\n                'CTRL+NUM4': 'formatH4',\n                'CTRL+NUM5': 'formatH5',\n                'CTRL+NUM6': 'formatH6',\n                'CTRL+ENTER': 'insertHorizontalRule',\n                'CTRL+K': 'linkDialog.show',\n            },\n\n            mac: {\n                'ESC': 'escape',\n                'ENTER': 'insertParagraph',\n                'CMD+Z': 'undo',\n                'CMD+SHIFT+Z': 'redo',\n                'TAB': 'tab',\n                'SHIFT+TAB': 'untab',\n                'CMD+B': 'bold',\n                'CMD+I': 'italic',\n                'CMD+U': 'underline',\n                'CMD+SHIFT+I': 'strikethrough',\n                'CMD+BACKSLASH': 'removeFormat',\n                'CMD+SHIFT+L': 'justifyLeft',\n                'CMD+SHIFT+E': 'justifyCenter',\n                'CMD+SHIFT+R': 'justifyRight',\n                'CMD+SHIFT+J': 'justifyFull',\n                'CMD+SHIFT+NUM7': 'insertUnorderedList',\n                'CMD+SHIFT+NUM8': 'insertOrderedList',\n                'CMD+LEFTBRACKET': 'outdent',\n                'CMD+RIGHTBRACKET': 'indent',\n                'CMD+NUM0': 'formatPara',\n                'CMD+NUM1': 'formatH1',\n                'CMD+NUM2': 'formatH2',\n                'CMD+NUM3': 'formatH3',\n                'CMD+NUM4': 'formatH4',\n                'CMD+NUM5': 'formatH5',\n                'CMD+NUM6': 'formatH6',\n                'CMD+ENTER': 'insertHorizontalRule',\n                'CMD+K': 'linkDialog.show',\n            },\n        },\n    });\n}\n\n/**\n * Search for entities\n * @param keyword\n * @param callback\n */\nfunction hintEntities(keyword, callback) {\n\n    $.ajax({\n        url: summernoteConfig.data('mention') + '?q=' + keyword + '&new=1',\n        type: 'get',\n        dataType: 'json',\n        async: true\n    }).done(callback);\n}\n\n/**\n * Search for months\n * @param keyword\n * @param callback\n */\nfunction hintMonths(keyword, callback) {\n\n    $.ajax({\n        url: summernoteConfig.data('months') + '?q=' + keyword,\n        type: 'get',\n        dataType: 'json',\n        async: true\n    }).done(callback);\n}\n\n/**\n * Search for attributes\n * @param keyword\n * @param callback\n */\nfunction attributeSearch(keyword, callback) {\n    if (!summernoteConfig.data('attributes')) {\n        //console.log('entity not yet created');\n        return false;\n    }\n\n    $.ajax({\n        url: summernoteConfig.data('attributes') + '?q=' + keyword,\n        type: 'get',\n        dataType: 'json',\n        async: true\n    }).done(callback);\n}\n\n/**\n * Hint template (results displayed in dropdown)\n * @param item\n * @returns {string}\n */\nfunction hintTemplate(item) {\n    let type = (item.type ? ' (' + item.type + ')' : '');\n    if (item.image) {\n        return '<div class=\"entity-hint\">' +\n            item.image +\n            '<div class=\"entity-hint-name\">' +\n            item.fullname +\n            type +\n            '</div>' +\n        '</div>';\n\n    }\n    return item.fullname + type;\n}\n\n/**\n * Attribute template\n * @param item\n * @returns {string}\n */\nfunction attributeTemplate(item) {\n    return item.name +  (item.value ? ' (' + item.value + ')' : '');\n}\n\n/**\n * Hint content that is injected in the editor\n * @param item\n * @returns {string|*}\n */\nfunction hintContent(item) {\n    if (item.id) {\n        let mention = '[' + item.model_type + ':' + item.id + item.fullname + ']';\n        let advancedMention = '[' + item.model_type + ':' + item.id + item.advanced_mention + ']';\n        if (item.alias_id) {\n            mention = '[' + item.model_type + ':' + item.id + item.advanced_mention + '|alias:' + item.alias_id + item.advanced_mention_alias + ']';\n            return $('<span>' + mention + '</span>')[0];\n        }\n        if (summernoteConfig.data('advanced-mention')) {\n            return $('<span>' + advancedMention + '</span>')[0];\n        }\n        if (advancedRequest) {\n            return $('<span>' + advancedMention + '</span>')[0];\n        }\n        //console.log('standard');\n        return $('<a />', {\n            text: item.fullname,\n            href: '#',\n            class: 'mention',\n            'data-name': item.fullname,\n            'data-mention': '[' + item.model_type + ':' + item.id + ']',\n        })[0];\n    } else if (item.url) {\n        if (item.tooltip) {\n            return $('<a />', {\n                text: item.fullname,\n                href: item.url,\n                title: item.tooltip.replace(/[\"]/g, '\\''),\n                'data-toggle': 'tooltip',\n                'data-html': 'true',\n            })[0];\n        }\n        return $('<a />', {\n            text: item.fullname,\n            href: item.url,\n        })[0];\n    } else if (item.inject) {\n        return item.inject;\n    }\n    return item.fullname;\n}\n\n/**\n *\n * @param item\n * @returns {jQuery|HTMLElement}\n */\nfunction attributeContent(item)\n{\n    if (summernoteConfig.data('advanced-mention')) {\n        return '{attribute:' + item.id + '}';\n    }\n    return $('<a />', {\n        href: '#',\n        class: 'attribute attribute-mention',\n        text: '{' + item.name + '}',\n        'data-attribute': '{attribute:' + item.id + '}'\n    })[0]\n}\n\n/**\n * Editor locale\n * @param locale\n * @returns {string}\n */\nfunction editorLang(locale) {\n    if (!locale) {\n        return 'en-US';\n    }\n\n    if (locale == 'he') {\n        return 'he-IL';\n    } else if (locale == 'ca') {\n        return 'ca-ES';\n    } else if (locale == 'el') {\n        return 'el-GR';\n    } else if(locale == 'en') {\n        return 'en-US';\n    } else {\n        return locale + '-' + locale.toUpperCase();\n    }\n}\n\n/**\n * Upload a file through summernote\n * @param file\n */\nfunction uploadImage($summernote, file) {\n    let modal = $('#campaign-imageupload-modal');\n    // Check if the campaign is superboosted\n    if (!summernoteConfig.data('gallery-upload')) {\n        modal.modal();\n        console.warn('Campaign isn\\'t superboosted');\n        return;\n    }\n\n    formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append('_token', $('meta[name=\"csrf-token\"]').attr('content'));\n    $.ajax({\n        url: summernoteConfig.data('gallery-upload'),\n        data: formData,\n        cache: false,\n        contentType: false,\n        processData: false,\n        type: 'POST',\n        success: function(result) {\n            //console.log('result', result);\n            $summernote.summernote('insertImage', result, function ($image) {\n                $image.attr('src', result);\n            });\n        },\n        error: function (jqXHR, textStatus, errorThrown) {\n            // Depending on the error, we need to handle the user differently\n            //console.log(textStatus + \" \" + errorThrown);\n            //console.log(jqXHR);\n            let error = $('#campaign-imageupload-error');\n            let boosted = $('#campaign-imageupload-boosted');\n            let permission = $('#campaign-imageupload-permission');\n\n            error.hide();\n            boosted.hide();\n            permission.hide();\n\n            if (jqXHR.status === 422) {\n                error.text(buildErrors(jqXHR.responseJSON.errors)).show();\n            } else if (jqXHR.status === 403) {\n                permission.show();\n            } else {\n                boosted.show();\n            }\n            //$('#superboosted-error').text(buildErrors(jqXHR.responseJSON.errors));\n            modal.modal();\n        }\n    });\n}\n\n/**\n *\n * @param data\n * @returns {string}\n */\nfunction buildErrors(data) {\n    var errors = '';\n    for (var key in data) {\n        // skip loop if the property is from prototype\n        if (!data.hasOwnProperty(key)) continue;\n\n        errors += data[key] + \"\\n\";\n    }\n    return errors;\n}\n"],"names":["summernoteConfig","advancedRequest","hintEntities","keyword","callback","$","ajax","url","data","type","dataType","async","done","hintTemplate","item","image","fullname","hintContent","id","mention","model_type","advancedMention","advanced_mention","alias_id","advanced_mention_alias","text","href","class","tooltip","title","replace","inject","editorLang","locale","toUpperCase","document","ready","length","window","initSummernote","$summernote","summernote","height","maximumImageFileSize","parseInt","lang","hintSelect","placeholder","dialogsInBody","toolbar","undefined","popover","table","callbacks","onImageUpload","files","file","modal","console","warn","formData","FormData","append","attr","cache","contentType","processData","success","result","$image","error","jqXHR","textStatus","errorThrown","boosted","permission","hide","status","errors","key","hasOwnProperty","buildErrors","responseJSON","show","uploadImage","onChange","entityFormHasUnsavedChanges","onChangeCodeview","contents","$editable","this","summernoteGallery","source","responseDataKey","nextPageKey","loadOnScroll","maxHeight","close_text","ok_text","selectAll_text","deselectAll_text","noImageSelected_msg","bragi","buttonLabel","hint","match","search","template","content","hintMonths","attributeSearch","name","value","attributeTemplate","attributeContent","keyMap","pc","mac"],"sourceRoot":""}