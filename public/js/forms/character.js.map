{"version":3,"file":"/js/forms/character.js","mappings":"mBAEA,IAAIA,EAA0BC,EAA+BC,EAwC7D,SAASC,IAELC,EAAEC,KAAKD,EAAE,mBAAmB,WACxBA,EAAEE,MAAMC,OAAO,SAASA,OAAO,WAC/BH,EAAEE,MAAME,GAAG,SAAS,SAAUC,GAC1BA,EAAEC,iBACFN,EAAEE,MAAMK,QAAQ,eAAeC,QACnC,IAAGJ,GAAG,WAAW,SAAUC,GAET,UAAVA,EAAEI,KAGNT,EAAEE,MAAMQ,OACZ,GACJ,IAGAC,OAAOC,eACPD,OAAOE,mBACX,CAxDAb,EAAEc,UAAUC,OAAM,WAEdjB,EAAyBE,EAAE,4BAGa,KADxCJ,EAA2BI,EAAE,sBACAgB,SAS7BnB,EAAgCG,EAAE,0BAClCJ,EAAyBQ,GAAG,SAAS,SAAUC,GAa3C,OAZAA,EAAEC,iBAEFN,EAAEF,GAAwBmB,OAAO,2BAC7BpB,EAA8BqB,OAC9B,UAGJpB,EAAuBqB,KAAK,YAAYC,YAAY,WAAWC,SAAS,WAGxEtB,KAEO,CACX,IAEAA,IAvBJ,G","sources":["webpack:///./resources/assets/js/forms/character.js"],"sourcesContent":["import ajaxModal from \"../components/ajax-modal\";\n\nvar characterAddOrganisation, characterTemplateOrganisation, characterOrganisations;\n\n\n$(document).ready(function () {\n\n    characterOrganisations = $('.character-organisations');\n\n    characterAddOrganisation = $('#add_organisation');\n    if (characterAddOrganisation.length === 1) {\n        initCharacterOrganisation();\n    }\n});\n\n/**\n *\n */\nfunction initCharacterOrganisation() {\n    characterTemplateOrganisation = $('#template_organisation');\n    characterAddOrganisation.on('click', function (e) {\n        e.preventDefault();\n\n        $(characterOrganisations).append('<div class=\"form-group\">' +\n            characterTemplateOrganisation.html() +\n            '</div>');\n\n        // Replace the temp class with the real class. We need this to avoid having two select2 fields\n        characterOrganisations.find('.tmp-org').removeClass('tmp-org').addClass('select2');\n\n        // Handle deleting already loaded blocks\n        characterDeleteRowHandler();\n\n        return false;\n    });\n\n    characterDeleteRowHandler();\n}\n\n/**\n *\n */\nfunction characterDeleteRowHandler() {\n\n    $.each($('.member-delete'), function () {\n        $(this).unbind('click').unbind('keydown');\n        $(this).on('click', function (e) {\n            e.preventDefault();\n            $(this).closest('.form-group').remove();\n        }).on('keydown', function (e) {\n            // Support for pressing enter on a span\n            if (e.key !== 'Enter') {\n                return;\n            }\n            $(this).click();\n        });;\n    });\n\n    // Always re-calc the sortable traits\n    window.initSortable();\n    window.initForeignSelect();\n}\n\n"],"names":["characterAddOrganisation","characterTemplateOrganisation","characterOrganisations","characterDeleteRowHandler","$","each","this","unbind","on","e","preventDefault","closest","remove","key","click","window","initSortable","initForeignSelect","document","ready","length","append","html","find","removeClass","addClass"],"sourceRoot":""}