import{C as P,t as R}from"./tippy.esm-24ef6cb2.js";var T={grad:.9,turn:360,rad:360/(2*Math.PI)},h=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},u=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},d=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},O=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},k=function(t){return{r:d(t.r,0,255),g:d(t.g,0,255),b:d(t.b,0,255),a:d(t.a)}},v=function(t){return{r:u(t.r),g:u(t.g),b:u(t.b),a:u(t.a,3)}},A=/^#([0-9a-f]{3,8})$/i,f=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},D=function(t){var e=t.r,n=t.g,r=t.b,o=t.a,i=Math.max(e,n,r),s=i-Math.min(e,n,r),a=s?i===e?(n-r)/s:i===n?2+(r-e)/s:4+(e-n)/s:0;return{h:60*(a<0?a+6:a),s:i?s/i*100:0,v:i/255*100,a:o}},L=function(t){var e=t.h,n=t.s,r=t.v,o=t.a;e=e/360*6,n/=100,r/=100;var i=Math.floor(e),s=r*(1-n),a=r*(1-(e-i)*n),p=r*(1-(1-e+i)*n),g=i%6;return{r:255*[r,a,s,s,p,r][g],g:255*[p,r,r,a,s,s][g],b:255*[s,s,p,r,r,a][g],a:o}},S=function(t){return{h:O(t.h),s:d(t.s,0,100),l:d(t.l,0,100),a:d(t.a)}},w=function(t){return{h:u(t.h),s:u(t.s),l:u(t.l),a:u(t.a,3)}},C=function(t){return L((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},b=function(t){return{h:(e=D(t)).h,s:(o=(200-(n=e.s))*(r=e.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:e.a};var e,n,r,o},F=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,J=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,V=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,z=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,I={string:[[function(t){var e=A.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?u(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?u(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=V.exec(t)||z.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:k({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=F.exec(t)||J.exec(t);if(!e)return null;var n,r,o=S({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(T[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return C(o)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,o=t.a,i=o===void 0?1:o;return h(e)&&h(n)&&h(r)?k({r:Number(e),g:Number(n),b:Number(r),a:Number(i)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,o=t.a,i=o===void 0?1:o;if(!h(e)||!h(n)||!h(r))return null;var s=S({h:Number(e),s:Number(n),l:Number(r),a:Number(i)});return C(s)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,o=t.a,i=o===void 0?1:o;if(!h(e)||!h(n)||!h(r))return null;var s=function(a){return{h:O(a.h),s:d(a.s,0,100),v:d(a.v,0,100),a:d(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(i)});return L(s)},"hsv"]]},E=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},B=function(t){return typeof t=="string"?E(t.trim(),I.string):typeof t=="object"&&t!==null?E(t,I.object):[null,void 0]},m=function(t,e){var n=b(t);return{h:n.h,s:d(n.s+100*e,0,100),l:n.l,a:n.a}},y=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},M=function(t,e){var n=b(t);return{h:n.h,s:n.s,l:d(n.l+100*e,0,100),a:n.a}},j=function(){function t(e){this.parsed=B(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return u(y(this.rgba),2)},t.prototype.isDark=function(){return y(this.rgba)<.5},t.prototype.isLight=function(){return y(this.rgba)>=.5},t.prototype.toHex=function(){return e=v(this.rgba),n=e.r,r=e.g,o=e.b,s=(i=e.a)<1?f(u(255*i)):"","#"+f(n)+f(r)+f(o)+s;var e,n,r,o,i,s},t.prototype.toRgb=function(){return v(this.rgba)},t.prototype.toRgbString=function(){return e=v(this.rgba),n=e.r,r=e.g,o=e.b,(i=e.a)<1?"rgba("+n+", "+r+", "+o+", "+i+")":"rgb("+n+", "+r+", "+o+")";var e,n,r,o,i},t.prototype.toHsl=function(){return w(b(this.rgba))},t.prototype.toHslString=function(){return e=w(b(this.rgba)),n=e.h,r=e.s,o=e.l,(i=e.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+i+")":"hsl("+n+", "+r+"%, "+o+"%)";var e,n,r,o,i},t.prototype.toHsv=function(){return e=D(this.rgba),{h:u(e.h),s:u(e.s),v:u(e.v),a:u(e.a,3)};var e},t.prototype.invert=function(){return l({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),l(m(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),l(m(this.rgba,-e))},t.prototype.grayscale=function(){return l(m(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),l(M(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),l(M(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?l({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):u(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=b(this.rgba);return typeof e=="number"?l({h:e,s:n.s,l:n.l,a:n.a}):u(n.h)},t.prototype.isEqual=function(e){return this.toHex()===l(e).toHex()},t}(),l=function(t){return t instanceof j?t:new j(t)};let N,H={};$(document).ready(function(){G(),W()});const G=()=>{Q(),P({el:".picker",format:"hsl",wrap:!1,defaultColor:"#cccccc"}),document.querySelectorAll(".picker").forEach(t=>{t.addEventListener("click",function(e){this.value=window.getComputedStyle(t).backgroundColor})}),document.addEventListener("coloris:pick",t=>{K(t)}),$("#theme-builder").on("submit",function(){return $("#form-submit-main").addClass("loading").prop("disabled",!0),N.val(JSON.stringify(H)),!0})},K=t=>{U(l(t.detail.color),t.detail.currentEl.dataset.target),t.detail.currentEl.value=""},Q=()=>{N=$("#field-theme");let t=N.val();if(!t){console.log("no config");return}let e=JSON.parse(t);Object.entries(e).forEach(([n,r])=>{H[n]=r})},U=(t,e)=>{let n=t.toHslString().replace("hsl(","").replaceAll(",","").replace(")",""),r=x(t.toHslString()).toHsl(),o=q(t.toHslString()).toHsl(),i=["a","s","p","n","si"],s=["in","su","wa","er"];if(i.indexOf(e)!==-1)c(e,n),c(e+"f",r.h+" "+r.s+"% "+r.l+"%"),c(e+"c",o.h+" "+o.s+"% "+o.l+"%");else if(s.indexOf(e)!==-1)c(e,n),c(e+"c",o.h+" "+o.s+"% "+o.l+"%");else if(e==="b"){let a=x(t.toHslString(),.1).toHsl(),p=x(t.toHslString(),.2).toHsl();c(e+"1",n),c(e+"2",a.h+" "+a.s+"% "+a.l+"%"),c(e+"3",p.h+" "+p.s+"% "+p.l+"%"),c(e+"c",o.h+" "+o.s+"% "+o.l+"%")}else if(e==="w"){let a=q(t.toHslString());c("content-wrapper-background",t.toHex()),c("theme-main-text",""+a.toHex()),c("header-text",""+a.toHex())}},c=(t,e)=>{H[t]=e,document.documentElement.style.setProperty("--"+t,e)},q=(t,e=.8)=>l(t).isDark()?l(t).lighten(e):l(t).darken(e),x=(t,e=.2)=>l(t).darken(e),W=()=>{let t=document.querySelector('[data-toggle="tooltip-demo"]');R(t,{content:'<div class="dd-menu flex flex-col gap-1 max-w-2xl">'+X()+"</div>",theme:"kanka",delay:250,placement:t.dataset.direction??"bottom",arrow:!0,allowHTML:!0,interactive:!0})},X=()=>{let t="";return t+='<div class="tooltip-content p-1"><div class="flex gap-2 items-center mb-1"><div class="grow entity-names"> <span class="entity-name text-xl block">Demo tooltip</span><span class="entity-subtitle text-base block">Subtitle</span></div></div><div class="tooltip-text text-sm"><p>Rutrum adipiscing enim pellentesque mi rutrum lacus eget amet nisl dolor maecenas adipiscing diam orci commodo suspendisse tincidunt tristique gravida leo arcu condimentum fusce nunc.</p></div></div>',t};
