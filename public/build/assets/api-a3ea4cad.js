import{_ as w,c as a,a as e,b as h,F as u,r as p,h as b,v,i as y,o as d,t as r,p as x,m as F,d as f,w as S,l as A}from"./_plugin-vue_export-helper-de6cf830.js";const I={data(){return{clients:[],createForm:{errors:[],name:"",redirect:""},editForm:{errors:[],name:"",redirect:""}}},ready(){this.prepareComponent()},mounted(){this.prepareComponent()},methods:{prepareComponent(){this.getClients(),$("#modal-create-client").on("shown.bs.modal",()=>{$("#create-client-name").focus()}),$("#modal-edit-client").on("shown.bs.modal",()=>{$("#edit-client-name").focus()})},getClients(){axios.get("/oauth/clients").then(s=>{this.clients=s.data})},showCreateClientForm(){$("#modal-create-client").modal("show")},store(){this.persistClient("post","/oauth/clients",this.createForm,"#modal-create-client")},edit(s){this.editForm.id=s.id,this.editForm.name=s.name,this.editForm.redirect=s.redirect,$("#modal-edit-client").modal("show")},update(){this.persistClient("put","/oauth/clients/"+this.editForm.id,this.editForm,"#modal-edit-client")},persistClient(s,o,m,k){m.errors=[],axios[s](o,m).then(n=>{this.getClients(),m.name="",m.redirect="",m.errors=[],$(k).modal("hide")}).catch(n=>{typeof n.response.data=="object"?m.errors=_.flatten(_.toArray(n.response.data.errors)):m.errors=["Something went wrong. Please try again."]})},destroy(s){axios.delete("/oauth/clients/"+s.id).then(o=>{this.getClients()})}}},i=s=>(x("data-v-0751a991"),s=s(),F(),s),N={class:"card card-default"},U={class:"card-header"},z={style:{display:"flex","justify-content":"space-between","align-items":"center"}},V=i(()=>e("span",null," OAuth Clients ",-1)),P={class:"card-body"},R={key:0,class:"mb-0"},j={key:1,class:"table table-borderless mb-0"},D=i(()=>e("thead",null,[e("tr",null,[e("th",null,"Client ID"),e("th",null,"Name"),e("th",null,"Secret"),e("th"),e("th")])],-1)),K={style:{"vertical-align":"middle"}},L={style:{"vertical-align":"middle"}},Y={style:{"vertical-align":"middle"}},B={style:{"vertical-align":"middle"}},E=["onClick"],O={style:{"vertical-align":"middle"}},W=["onClick"],M={class:"modal fade",id:"modal-create-client",tabindex:"-1",role:"dialog"},q={class:"modal-dialog"},H={class:"modal-content"},G=i(()=>e("div",{class:"modal-header"},[e("h4",{class:"modal-title"}," Create Client "),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"×")],-1)),J={class:"modal-body"},Q={key:0,class:"alert alert-danger"},X=i(()=>e("p",{class:"mb-0"},[e("strong",null,"Whoops!"),f(" Something went wrong!")],-1)),Z=i(()=>e("br",null,null,-1)),ee={role:"form"},te={class:"form-group row"},se=i(()=>e("label",{class:"col-md-3 col-form-label"},"Name",-1)),oe={class:"col-md-9"},ne=i(()=>e("span",{class:"form-text text-muted"}," Something your users will recognize and trust. ",-1)),le={class:"form-group row"},ae=i(()=>e("label",{class:"col-md-3 col-form-label"},"Redirect URL",-1)),de={class:"col-md-9"},ie=i(()=>e("span",{class:"form-text text-muted"}," Your application's authorization callback URL. ",-1)),re={class:"modal-footer"},ce=i(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close",-1)),me={class:"modal fade",id:"modal-edit-client",tabindex:"-1",role:"dialog"},_e={class:"modal-dialog"},he={class:"modal-content"},ue=i(()=>e("div",{class:"modal-header"},[e("h4",{class:"modal-title"}," Edit Client "),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"×")],-1)),pe={class:"modal-body"},be={key:0,class:"alert alert-danger"},ve=i(()=>e("p",{class:"mb-0"},[e("strong",null,"Whoops!"),f(" Something went wrong!")],-1)),ke=i(()=>e("br",null,null,-1)),ge={role:"form"},ye={class:"form-group row"},fe=i(()=>e("label",{class:"col-md-3 col-form-label"},"Name",-1)),Ce={class:"col-md-9"},we=i(()=>e("span",{class:"form-text text-muted"}," Something your users will recognize and trust. ",-1)),xe={class:"form-group row"},$e=i(()=>e("label",{class:"col-md-3 col-form-label"},"Redirect URL",-1)),Fe={class:"col-md-9"},Te=i(()=>e("span",{class:"form-text text-muted"}," Your application's authorization callback URL. ",-1)),Se={class:"modal-footer"},Ae=i(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close",-1));function Ie(s,o,m,k,n,l){return d(),a("div",null,[e("div",N,[e("div",U,[e("div",z,[V,e("a",{class:"action-link",tabindex:"-1",onClick:o[0]||(o[0]=(...t)=>l.showCreateClientForm&&l.showCreateClientForm(...t))}," Create New Client ")])]),e("div",P,[n.clients.length===0?(d(),a("p",R," You have not created any OAuth clients. ")):h("",!0),n.clients.length>0?(d(),a("table",j,[D,e("tbody",null,[(d(!0),a(u,null,p(n.clients,t=>(d(),a("tr",null,[e("td",K,r(t.id),1),e("td",L,r(t.name),1),e("td",Y,[e("code",null,r(t.secret),1)]),e("td",B,[e("a",{class:"action-link",tabindex:"-1",onClick:g=>l.edit(t)}," Edit ",8,E)]),e("td",O,[e("a",{class:"action-link text-danger",onClick:g=>l.destroy(t)}," Delete ",8,W)])]))),256))])])):h("",!0)])]),e("div",M,[e("div",q,[e("div",H,[G,e("div",J,[n.createForm.errors.length>0?(d(),a("div",Q,[X,Z,e("ul",null,[(d(!0),a(u,null,p(n.createForm.errors,t=>(d(),a("li",null,r(t),1))),256))])])):h("",!0),e("form",ee,[e("div",te,[se,e("div",oe,[b(e("input",{id:"create-client-name",type:"text",class:"form-control",onKeyup:o[1]||(o[1]=y((...t)=>l.store&&l.store(...t),["enter"])),"onUpdate:modelValue":o[2]||(o[2]=t=>n.createForm.name=t)},null,544),[[v,n.createForm.name]]),ne])]),e("div",le,[ae,e("div",de,[b(e("input",{type:"text",class:"form-control",name:"redirect",onKeyup:o[3]||(o[3]=y((...t)=>l.store&&l.store(...t),["enter"])),"onUpdate:modelValue":o[4]||(o[4]=t=>n.createForm.redirect=t)},null,544),[[v,n.createForm.redirect]]),ie])])])]),e("div",re,[ce,e("button",{type:"button",class:"btn btn-primary",onClick:o[5]||(o[5]=(...t)=>l.store&&l.store(...t))}," Create ")])])])]),e("div",me,[e("div",_e,[e("div",he,[ue,e("div",pe,[n.editForm.errors.length>0?(d(),a("div",be,[ve,ke,e("ul",null,[(d(!0),a(u,null,p(n.editForm.errors,t=>(d(),a("li",null,r(t),1))),256))])])):h("",!0),e("form",ge,[e("div",ye,[fe,e("div",Ce,[b(e("input",{id:"edit-client-name",type:"text",class:"form-control",onKeyup:o[6]||(o[6]=y((...t)=>l.update&&l.update(...t),["enter"])),"onUpdate:modelValue":o[7]||(o[7]=t=>n.editForm.name=t)},null,544),[[v,n.editForm.name]]),we])]),e("div",xe,[$e,e("div",Fe,[b(e("input",{type:"text",class:"form-control",name:"redirect",onKeyup:o[8]||(o[8]=y((...t)=>l.update&&l.update(...t),["enter"])),"onUpdate:modelValue":o[9]||(o[9]=t=>n.editForm.redirect=t)},null,544),[[v,n.editForm.redirect]]),Te])])])]),e("div",Se,[Ae,e("button",{type:"button",class:"btn btn-primary",onClick:o[10]||(o[10]=(...t)=>l.update&&l.update(...t))}," Save Changes ")])])])])])}const Ne=w(I,[["render",Ie],["__scopeId","data-v-0751a991"]]);const Ue={data(){return{tokens:[]}},ready(){this.prepareComponent()},mounted(){this.prepareComponent()},methods:{prepareComponent(){this.getTokens()},getTokens(){axios.get("/oauth/tokens").then(s=>{this.tokens=s.data})},revoke(s){axios.delete("/oauth/tokens/"+s.id).then(o=>{this.getTokens()})}}},T=s=>(x("data-v-43f0ecd3"),s=s(),F(),s),ze={key:0},Ve={class:"card card-default"},Pe=T(()=>e("div",{class:"card-header"},"Authorized Applications",-1)),Re={class:"card-body"},je={class:"table table-borderless mb-0"},De=T(()=>e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Scopes"),e("th")])],-1)),Ke={style:{"vertical-align":"middle"}},Le={style:{"vertical-align":"middle"}},Ye={key:0},Be={style:{"vertical-align":"middle"}},Ee=["onClick"];function Oe(s,o,m,k,n,l){return d(),a("div",null,[n.tokens.length>0?(d(),a("div",ze,[e("div",Ve,[Pe,e("div",Re,[e("table",je,[De,e("tbody",null,[(d(!0),a(u,null,p(n.tokens,t=>(d(),a("tr",null,[e("td",Ke,r(t.client.name),1),e("td",Le,[t.scopes.length>0?(d(),a("span",Ye,r(t.scopes.join(", ")),1)):h("",!0)]),e("td",Be,[e("a",{class:"action-link text-danger",onClick:g=>l.revoke(t)}," Revoke ",8,Ee)])]))),256))])])])])])):h("",!0)])}const We=w(Ue,[["render",Oe],["__scopeId","data-v-43f0ecd3"]]);const Me={data(){return{accessToken:null,tokens:[],scopes:[],form:{name:"",scopes:[],errors:[]}}},ready(){this.prepareComponent()},mounted(){this.prepareComponent()},methods:{prepareComponent(){this.getTokens(),this.getScopes(),$("#modal-create-token").on("shown.bs.modal",()=>{$("#create-token-name").focus()})},getTokens(){axios.get("/oauth/personal-access-tokens").then(s=>{this.tokens=s.data})},getScopes(){axios.get("/oauth/scopes").then(s=>{this.scopes=s.data})},showCreateTokenForm(){$("#modal-create-token").modal("show")},store(){this.accessToken=null,this.form.errors=[],axios.post("/oauth/personal-access-tokens",this.form).then(s=>{this.form.name="",this.form.scopes=[],this.form.errors=[],this.tokens.push(s.data.token),this.showAccessToken(s.data.accessToken)}).catch(s=>{typeof s.response.data=="object"?this.form.errors=_.flatten(_.toArray(s.response.data.errors)):this.form.errors=["Something went wrong. Please try again."]})},toggleScope(s){this.scopeIsAssigned(s)?this.form.scopes=_.reject(this.form.scopes,o=>o==s):this.form.scopes.push(s)},scopeIsAssigned(s){return _.indexOf(this.form.scopes,s)>=0},showAccessToken(s){$("#modal-create-token").modal("hide"),this.accessToken=s,$("#modal-access-token").modal("show")},revoke(s){axios.delete("/oauth/personal-access-tokens/"+s.id).then(o=>{this.getTokens()})}}},c=s=>(x("data-v-5722f890"),s=s(),F(),s),qe={class:"card card-default"},He={class:"card-header"},Ge={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Je=c(()=>e("span",null," Personal Access Tokens ",-1)),Qe={class:"card-body"},Xe={key:0,class:"mb-0"},Ze={key:1,class:"table table-borderless mb-0"},et=c(()=>e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th")])],-1)),tt={style:{"vertical-align":"middle"}},st={style:{"vertical-align":"middle"}},ot=["onClick"],nt={class:"modal fade",id:"modal-create-token",tabindex:"-1",role:"dialog"},lt={class:"modal-dialog"},at={class:"modal-content"},dt=c(()=>e("div",{class:"modal-header"},[e("h4",{class:"modal-title"}," Create Token "),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"×")],-1)),it={class:"modal-body"},rt={key:0,class:"alert alert-danger"},ct=c(()=>e("p",{class:"mb-0"},[e("strong",null,"Whoops!"),f(" Something went wrong!")],-1)),mt=c(()=>e("br",null,null,-1)),_t={class:"form-group row"},ht=c(()=>e("label",{class:"col-md-4 col-form-label"},"Name",-1)),ut={class:"col-md-6"},pt={key:0,class:"form-group row"},bt=c(()=>e("label",{class:"col-md-4 col-form-label"},"Scopes",-1)),vt={class:"col-md-6"},kt={class:"checkbox"},gt=["onClick","checked"],yt={class:"modal-footer"},ft=c(()=>e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close",-1)),Ct={class:"modal fade",id:"modal-access-token",tabindex:"-1",role:"dialog"},wt={class:"modal-dialog"},xt={class:"modal-content"},$t=c(()=>e("div",{class:"modal-header"},[e("h4",{class:"modal-title"}," Personal Access Token "),e("button",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"},"×")],-1)),Ft={class:"modal-body"},Tt=c(()=>e("p",null," Here is your new personal access token. This is the only time it will be shown so don't lose it! You may now use this token to make API requests. ",-1)),St={class:"form-control",rows:"10"},At=c(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close")],-1));function It(s,o,m,k,n,l){return d(),a("div",null,[e("div",null,[e("div",qe,[e("div",He,[e("div",Ge,[Je,e("a",{class:"action-link",tabindex:"-1",onClick:o[0]||(o[0]=(...t)=>l.showCreateTokenForm&&l.showCreateTokenForm(...t))}," Create New Token ")])]),e("div",Qe,[n.tokens.length===0?(d(),a("p",Xe," You have not created any personal access tokens. ")):h("",!0),n.tokens.length>0?(d(),a("table",Ze,[et,e("tbody",null,[(d(!0),a(u,null,p(n.tokens,t=>(d(),a("tr",null,[e("td",tt,r(t.name),1),e("td",st,[e("a",{class:"action-link text-danger",onClick:g=>l.revoke(t)}," Delete ",8,ot)])]))),256))])])):h("",!0)])])]),e("div",nt,[e("div",lt,[e("div",at,[dt,e("div",it,[n.form.errors.length>0?(d(),a("div",rt,[ct,mt,e("ul",null,[(d(!0),a(u,null,p(n.form.errors,t=>(d(),a("li",null,r(t),1))),256))])])):h("",!0),e("form",{role:"form",onSubmit:o[2]||(o[2]=S((...t)=>l.store&&l.store(...t),["prevent"]))},[e("div",_t,[ht,e("div",ut,[b(e("input",{id:"create-token-name",type:"text",class:"form-control",name:"name","onUpdate:modelValue":o[1]||(o[1]=t=>n.form.name=t)},null,512),[[v,n.form.name]])])]),n.scopes.length>0?(d(),a("div",pt,[bt,e("div",vt,[(d(!0),a(u,null,p(n.scopes,t=>(d(),a("div",null,[e("div",kt,[e("label",null,[e("input",{type:"checkbox",onClick:g=>l.toggleScope(t.id),checked:l.scopeIsAssigned(t.id)},null,8,gt),f(" "+r(t.id),1)])])]))),256))])])):h("",!0)],32)]),e("div",yt,[ft,e("button",{type:"button",class:"btn btn-primary",onClick:o[3]||(o[3]=(...t)=>l.store&&l.store(...t))}," Create ")])])])]),e("div",Ct,[e("div",wt,[e("div",xt,[$t,e("div",Ft,[Tt,e("textarea",St,r(n.accessToken),1)]),At])])])])}const Nt=w(Me,[["render",It],["__scopeId","data-v-5722f890"]]),C=A({});C.component("passport-clients",Ne);C.component("passport-authorized-clients",We);C.component("passport-personal-access-tokens",Nt);C.mount("#api");
