import{c as Gr,g as Pc}from"./_commonjsHelpers-725317a4.js";function Bc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qa=Bc,Fc=typeof Gr=="object"&&Gr&&Gr.Object===Object&&Gr,zc=Fc,Gc=zc,Hc=typeof self=="object"&&self&&self.Object===Object&&self,qc=Gc||Hc||Function("return this")(),qi=qc,$c=qi,Vc=function(){return $c.Date.now()},Uc=Vc,Yc=/\s/;function Xc(t){for(var e=t.length;e--&&Yc.test(t.charAt(e)););return e}var Wc=Xc,_c=Wc,Kc=/^\s+/;function Zc(t){return t&&t.slice(0,_c(t)+1).replace(Kc,"")}var Qc=Zc,jc=qi,Jc=jc.Symbol,rs=Jc,Ks=rs,gl=Object.prototype,eh=gl.hasOwnProperty,th=gl.toString,ba=Ks?Ks.toStringTag:void 0;function rh(t){var e=eh.call(t,ba),r=t[ba];try{t[ba]=void 0;var n=!0}catch{}var i=th.call(t);return n&&(e?t[ba]=r:delete t[ba]),i}var nh=rh,ah=Object.prototype,ih=ah.toString;function oh(t){return ih.call(t)}var sh=oh,Zs=rs,uh=nh,lh=sh,fh="[object Null]",ch="[object Undefined]",Qs=Zs?Zs.toStringTag:void 0;function hh(t){return t==null?t===void 0?ch:fh:Qs&&Qs in Object(t)?uh(t):lh(t)}var pl=hh;function vh(t){return t!=null&&typeof t=="object"}var dh=vh,gh=pl,ph=dh,yh="[object Symbol]";function mh(t){return typeof t=="symbol"||ph(t)&&gh(t)==yh}var $a=mh,bh=Qc,js=qa,wh=$a,Js=0/0,Eh=/^[-+]0x[0-9a-f]+$/i,xh=/^0b[01]+$/i,Th=/^0o[0-7]+$/i,Ch=parseInt;function Dh(t){if(typeof t=="number")return t;if(wh(t))return Js;if(js(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=js(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=bh(t);var r=xh.test(t);return r||Th.test(t)?Ch(t.slice(2),r?2:8):Eh.test(t)?Js:+t}var Sh=Dh,Lh=qa,So=Uc,eu=Sh,Ah="Expected a function",Nh=Math.max,Mh=Math.min;function Oh(t,e,r){var n,i,o,a,s,u,l=0,f=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(Ah);e=eu(e)||0,Lh(r)&&(f=!!r.leading,h="maxWait"in r,o=h?Nh(eu(r.maxWait)||0,e):o,p="trailing"in r?!!r.trailing:p);function v(d){var C=n,A=i;return n=i=void 0,l=d,a=t.apply(A,C),a}function g(d){return l=d,s=setTimeout(b,e),f?v(d):a}function m(d){var C=d-u,A=d-l,S=e-C;return h?Mh(S,o-A):S}function w(d){var C=d-u,A=d-l;return u===void 0||C>=e||C<0||h&&A>=o}function b(){var d=So();if(w(d))return T(d);s=setTimeout(b,m(d))}function T(d){return s=void 0,p&&n?v(d):(n=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),l=0,n=u=i=s=void 0}function L(){return s===void 0?a:T(So())}function N(){var d=So(),C=w(d);if(n=arguments,i=this,u=d,C){if(s===void 0)return g(u);if(h)return clearTimeout(s),s=setTimeout(b,e),v(u)}return s===void 0&&(s=setTimeout(b,e)),a}return N.cancel=x,N.flush=L,N}var Ih=Oh,Go={},kh={get exports(){return Go},set exports(t){Go=t}},Ho={},Rh={get exports(){return Ho},set exports(t){Ho=t}};(function(t,e){(function(){var r,n,i,o,a,s,u,l,f,h,p,v,g,m,w;i=Math.floor,h=Math.min,n=function(b,T){return b<T?-1:b>T?1:0},f=function(b,T,x,L,N){var d;if(x==null&&(x=0),N==null&&(N=n),x<0)throw new Error("lo must be non-negative");for(L==null&&(L=b.length);x<L;)d=i((x+L)/2),N(T,b[d])<0?L=d:x=d+1;return[].splice.apply(b,[x,x-x].concat(T)),T},s=function(b,T,x){return x==null&&(x=n),b.push(T),m(b,0,b.length-1,x)},a=function(b,T){var x,L;return T==null&&(T=n),x=b.pop(),b.length?(L=b[0],b[0]=x,w(b,0,T)):L=x,L},l=function(b,T,x){var L;return x==null&&(x=n),L=b[0],b[0]=T,w(b,0,x),L},u=function(b,T,x){var L;return x==null&&(x=n),b.length&&x(b[0],T)<0&&(L=[b[0],T],T=L[0],b[0]=L[1],w(b,0,x)),T},o=function(b,T){var x,L,N,d,C,A;for(T==null&&(T=n),d=function(){A=[];for(var S=0,M=i(b.length/2);0<=M?S<M:S>M;0<=M?S++:S--)A.push(S);return A}.apply(this).reverse(),C=[],L=0,N=d.length;L<N;L++)x=d[L],C.push(w(b,x,T));return C},g=function(b,T,x){var L;if(x==null&&(x=n),L=b.indexOf(T),L!==-1)return m(b,0,L,x),w(b,L,x)},p=function(b,T,x){var L,N,d,C,A;if(x==null&&(x=n),N=b.slice(0,T),!N.length)return N;for(o(N,x),A=b.slice(T),d=0,C=A.length;d<C;d++)L=A[d],u(N,L,x);return N.sort(x).reverse()},v=function(b,T,x){var L,N,d,C,A,S,M,k,R;if(x==null&&(x=n),T*10<=b.length){if(d=b.slice(0,T).sort(x),!d.length)return d;for(N=d[d.length-1],M=b.slice(T),C=0,S=M.length;C<S;C++)L=M[C],x(L,N)<0&&(f(d,L,0,null,x),d.pop(),N=d[d.length-1]);return d}for(o(b,x),R=[],A=0,k=h(T,b.length);0<=k?A<k:A>k;0<=k?++A:--A)R.push(a(b,x));return R},m=function(b,T,x,L){var N,d,C;for(L==null&&(L=n),N=b[x];x>T;){if(C=x-1>>1,d=b[C],L(N,d)<0){b[x]=d,x=C;continue}break}return b[x]=N},w=function(b,T,x){var L,N,d,C,A;for(x==null&&(x=n),N=b.length,A=T,d=b[T],L=2*T+1;L<N;)C=L+1,C<N&&!(x(b[L],b[C])<0)&&(L=C),b[T]=b[L],T=L,L=2*T+1;return b[T]=d,m(b,A,T,x)},r=function(){b.push=s,b.pop=a,b.replace=l,b.pushpop=u,b.heapify=o,b.updateItem=g,b.nlargest=p,b.nsmallest=v;function b(T){this.cmp=T??n,this.nodes=[]}return b.prototype.push=function(T){return s(this.nodes,T,this.cmp)},b.prototype.pop=function(){return a(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(T){return this.nodes.indexOf(T)!==-1},b.prototype.replace=function(T){return l(this.nodes,T,this.cmp)},b.prototype.pushpop=function(T){return u(this.nodes,T,this.cmp)},b.prototype.heapify=function(){return o(this.nodes,this.cmp)},b.prototype.updateItem=function(T){return g(this.nodes,T,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var T;return T=new b,T.nodes=this.nodes.slice(0),T},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,T){return t.exports=T()}(this,function(){return r})}).call(Gr)})(Rh);(function(t){t.exports=Ho})(kh);var Ph=Array.isArray,$i=Ph,Bh=$i,Fh=$a,zh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gh=/^\w*$/;function Hh(t,e){if(Bh(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Fh(t)?!0:Gh.test(t)||!zh.test(t)||e!=null&&t in Object(e)}var qh=Hh,$h=pl,Vh=qa,Uh="[object AsyncFunction]",Yh="[object Function]",Xh="[object GeneratorFunction]",Wh="[object Proxy]";function _h(t){if(!Vh(t))return!1;var e=$h(t);return e==Yh||e==Xh||e==Uh||e==Wh}var Kh=_h,Zh=qi,Qh=Zh["__core-js_shared__"],jh=Qh,Lo=jh,tu=function(){var t=/[^.]+$/.exec(Lo&&Lo.keys&&Lo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Jh(t){return!!tu&&tu in t}var ev=Jh,tv=Function.prototype,rv=tv.toString;function nv(t){if(t!=null){try{return rv.call(t)}catch{}try{return t+""}catch{}}return""}var av=nv,iv=Kh,ov=ev,sv=qa,uv=av,lv=/[\\^$.*+?()[\]{}|]/g,fv=/^\[object .+?Constructor\]$/,cv=Function.prototype,hv=Object.prototype,vv=cv.toString,dv=hv.hasOwnProperty,gv=RegExp("^"+vv.call(dv).replace(lv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pv(t){if(!sv(t)||ov(t))return!1;var e=iv(t)?gv:fv;return e.test(uv(t))}var yv=pv;function mv(t,e){return t==null?void 0:t[e]}var bv=mv,wv=yv,Ev=bv;function xv(t,e){var r=Ev(t,e);return wv(r)?r:void 0}var ns=xv,Tv=ns,Cv=Tv(Object,"create"),Vi=Cv,ru=Vi;function Dv(){this.__data__=ru?ru(null):{},this.size=0}var Sv=Dv;function Lv(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Av=Lv,Nv=Vi,Mv="__lodash_hash_undefined__",Ov=Object.prototype,Iv=Ov.hasOwnProperty;function kv(t){var e=this.__data__;if(Nv){var r=e[t];return r===Mv?void 0:r}return Iv.call(e,t)?e[t]:void 0}var Rv=kv,Pv=Vi,Bv=Object.prototype,Fv=Bv.hasOwnProperty;function zv(t){var e=this.__data__;return Pv?e[t]!==void 0:Fv.call(e,t)}var Gv=zv,Hv=Vi,qv="__lodash_hash_undefined__";function $v(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Hv&&e===void 0?qv:e,this}var Vv=$v,Uv=Sv,Yv=Av,Xv=Rv,Wv=Gv,_v=Vv;function Kn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kn.prototype.clear=Uv;Kn.prototype.delete=Yv;Kn.prototype.get=Xv;Kn.prototype.has=Wv;Kn.prototype.set=_v;var Kv=Kn;function Zv(){this.__data__=[],this.size=0}var Qv=Zv;function jv(t,e){return t===e||t!==t&&e!==e}var yl=jv,Jv=yl;function ed(t,e){for(var r=t.length;r--;)if(Jv(t[r][0],e))return r;return-1}var Ui=ed,td=Ui,rd=Array.prototype,nd=rd.splice;function ad(t){var e=this.__data__,r=td(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():nd.call(e,r,1),--this.size,!0}var id=ad,od=Ui;function sd(t){var e=this.__data__,r=od(e,t);return r<0?void 0:e[r][1]}var ud=sd,ld=Ui;function fd(t){return ld(this.__data__,t)>-1}var cd=fd,hd=Ui;function vd(t,e){var r=this.__data__,n=hd(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var dd=vd,gd=Qv,pd=id,yd=ud,md=cd,bd=dd;function Zn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zn.prototype.clear=gd;Zn.prototype.delete=pd;Zn.prototype.get=yd;Zn.prototype.has=md;Zn.prototype.set=bd;var wd=Zn,Ed=ns,xd=qi,Td=Ed(xd,"Map"),Cd=Td,nu=Kv,Dd=wd,Sd=Cd;function Ld(){this.size=0,this.__data__={hash:new nu,map:new(Sd||Dd),string:new nu}}var Ad=Ld;function Nd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Md=Nd,Od=Md;function Id(t,e){var r=t.__data__;return Od(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Yi=Id,kd=Yi;function Rd(t){var e=kd(this,t).delete(t);return this.size-=e?1:0,e}var Pd=Rd,Bd=Yi;function Fd(t){return Bd(this,t).get(t)}var zd=Fd,Gd=Yi;function Hd(t){return Gd(this,t).has(t)}var qd=Hd,$d=Yi;function Vd(t,e){var r=$d(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Ud=Vd,Yd=Ad,Xd=Pd,Wd=zd,_d=qd,Kd=Ud;function Qn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qn.prototype.clear=Yd;Qn.prototype.delete=Xd;Qn.prototype.get=Wd;Qn.prototype.has=_d;Qn.prototype.set=Kd;var Zd=Qn,ml=Zd,Qd="Expected a function";function as(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Qd);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(as.Cache||ml),r}as.Cache=ml;var jd=as,Jd=jd,eg=500;function tg(t){var e=Jd(t,function(n){return r.size===eg&&r.clear(),n}),r=e.cache;return e}var rg=tg,ng=rg,ag=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ig=/\\(\\)?/g,og=ng(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ag,function(r,n,i,o){e.push(i?o.replace(ig,"$1"):n||r)}),e}),bl=og;function sg(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var wl=sg,au=rs,ug=wl,lg=$i,fg=$a,cg=1/0,iu=au?au.prototype:void 0,ou=iu?iu.toString:void 0;function El(t){if(typeof t=="string")return t;if(lg(t))return ug(t,El)+"";if(fg(t))return ou?ou.call(t):"";var e=t+"";return e=="0"&&1/t==-cg?"-0":e}var hg=El,vg=hg;function dg(t){return t==null?"":vg(t)}var xl=dg,gg=$i,pg=qh,yg=bl,mg=xl;function bg(t,e){return gg(t)?t:pg(t,e)?[t]:yg(mg(t))}var Tl=bg,wg=$a,Eg=1/0;function xg(t){if(typeof t=="string"||wg(t))return t;var e=t+"";return e=="0"&&1/t==-Eg?"-0":e}var is=xg,Tg=Tl,Cg=is;function Dg(t,e){e=Tg(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Cg(e[r++])];return r&&r==n?t:void 0}var Sg=Dg,Lg=Sg;function Ag(t,e,r){var n=t==null?void 0:Lg(t,e);return n===void 0?r:n}var Ng=Ag,Mg=ns,Og=function(){try{var t=Mg(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ig=Og,su=Ig;function kg(t,e,r){e=="__proto__"&&su?su(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Rg=kg,Pg=Rg,Bg=yl,Fg=Object.prototype,zg=Fg.hasOwnProperty;function Gg(t,e,r){var n=t[e];(!(zg.call(t,e)&&Bg(n,r))||r===void 0&&!(e in t))&&Pg(t,e,r)}var Hg=Gg,qg=9007199254740991,$g=/^(?:0|[1-9]\d*)$/;function Vg(t,e){var r=typeof t;return e=e??qg,!!e&&(r=="number"||r!="symbol"&&$g.test(t))&&t>-1&&t%1==0&&t<e}var Ug=Vg,Yg=Hg,Xg=Tl,Wg=Ug,uu=qa,_g=is;function Kg(t,e,r,n){if(!uu(t))return t;e=Xg(e,t);for(var i=-1,o=e.length,a=o-1,s=t;s!=null&&++i<o;){var u=_g(e[i]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=a){var f=s[u];l=n?n(f,u,s):void 0,l===void 0&&(l=uu(f)?f:Wg(e[i+1])?[]:{})}Yg(s,u,l),s=s[u]}return t}var Zg=Kg,Qg=Zg;function jg(t,e,r){return t==null?t:Qg(t,e,r)}var Jg=jg;function ep(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var tp=ep,rp=wl,np=tp,ap=$i,ip=$a,op=bl,sp=is,up=xl;function lp(t){return ap(t)?rp(t,sp):ip(t)?[t]:np(op(up(t)))}var fp=lp,cp=Ih,hp=Go,vp=Ng,dp=Jg,gp=fp;function Va(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Xi=Va(cp),Ua=Va(hp),pp=Va(vp),yp=Va(dp),mp=Va(gp);function kt(t){return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(t)}function os(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ss(t,e,r){return e&&lu(t.prototype,e),r&&lu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zr(t,e){return bp(t)||wp(t,e)||Ep(t,e)||xp()}function bp(t){if(Array.isArray(t))return t}function wp(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Ep(t,e){if(t){if(typeof t=="string")return fu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fu(t,e)}}function fu(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xt=typeof window>"u"?null:window,cu=xt?xt.navigator:null;xt&&xt.document;var Tp=kt(""),Dl=kt({}),Cp=kt(function(){}),Dp=typeof HTMLElement>"u"?"undefined":kt(HTMLElement),Ya=function(e){return e&&e.instanceString&&Ct(e.instanceString)?e.instanceString():null},qe=function(e){return e!=null&&kt(e)==Tp},Ct=function(e){return e!=null&&kt(e)===Cp},gt=function(e){return!dr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},it=function(e){return e!=null&&kt(e)===Dl&&!gt(e)&&e.constructor===Object},Sp=function(e){return e!=null&&kt(e)===Dl},Me=function(e){return e!=null&&kt(e)===kt(1)&&!isNaN(e)},Lp=function(e){return Me(e)&&Math.floor(e)===e},Ni=function(e){if(Dp!=="undefined")return e!=null&&e instanceof HTMLElement},dr=function(e){return Xa(e)||Sl(e)},Xa=function(e){return Ya(e)==="collection"&&e._private.single},Sl=function(e){return Ya(e)==="collection"&&!e._private.single},us=function(e){return Ya(e)==="core"},Ll=function(e){return Ya(e)==="stylesheet"},Ap=function(e){return Ya(e)==="event"},rn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Np=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Mp=function(e){return it(e)&&Me(e.x1)&&Me(e.x2)&&Me(e.y1)&&Me(e.y2)},Op=function(e){return Sp(e)&&Ct(e.then)},Ip=function(){return cu&&cu.userAgent.match(/msie|trident|edge/i)},Oa=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);return o.join("$")});var n=function i(){var o=this,a=arguments,s,u=r.apply(o,a),l=i.cache;return(s=l[u])||(s=l[u]=e.apply(o,a)),s};return n.cache={},n},ls=Oa(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Wi=Oa(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Al=Oa(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),hu=function(e){return rn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},It="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",kp="rgb[a]?\\(("+It+"[%]?)\\s*,\\s*("+It+"[%]?)\\s*,\\s*("+It+"[%]?)(?:\\s*,\\s*("+It+"))?\\)",Rp="rgb[a]?\\((?:"+It+"[%]?)\\s*,\\s*(?:"+It+"[%]?)\\s*,\\s*(?:"+It+"[%]?)(?:\\s*,\\s*(?:"+It+"))?\\)",Pp="hsl[a]?\\(("+It+")\\s*,\\s*("+It+"[%])\\s*,\\s*("+It+"[%])(?:\\s*,\\s*("+It+"))?\\)",Bp="hsl[a]?\\((?:"+It+")\\s*,\\s*(?:"+It+"[%])\\s*,\\s*(?:"+It+"[%])(?:\\s*,\\s*(?:"+It+"))?\\)",Fp="\\#[0-9a-fA-F]{3}",zp="\\#[0-9a-fA-F]{6}",Nl=function(e,r){return e<r?-1:e>r?1:0},Gp=function(e,r){return-1*Nl(e,r)},We=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];t[a]=n[a]}}return t},Hp=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,o,a=16;return r?(n=parseInt(e[1]+e[1],a),i=parseInt(e[2]+e[2],a),o=parseInt(e[3]+e[3],a)):(n=parseInt(e[1]+e[2],a),i=parseInt(e[3]+e[4],a),o=parseInt(e[5]+e[6],a)),[n,i,o]}},qp=function(e){var r,n,i,o,a,s,u,l;function f(g,m,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?g+(m-g)*6*w:w<1/2?m:w<2/3?g+(m-g)*(2/3-w)*6:g}var h=new RegExp("^"+Pp+"$").exec(e);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(h[2]),i<0||i>100||(i=i/100,o=parseFloat(h[3]),o<0||o>100)||(o=o/100,a=h[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(i===0)s=u=l=Math.round(o*255);else{var p=o<.5?o*(1+i):o+i-o*i,v=2*o-p;s=Math.round(255*f(v,p,n+1/3)),u=Math.round(255*f(v,p,n)),l=Math.round(255*f(v,p,n-1/3))}r=[s,u,l,a]}return r},$p=function(e){var r,n=new RegExp("^"+kp+"$").exec(e);if(n){r=[];for(var i=[],o=1;o<=3;o++){var a=n[o];if(a[a.length-1]==="%"&&(i[o]=!0),a=parseFloat(a),i[o]&&(a=a/100*255),a<0||a>255)return;r.push(Math.floor(a))}var s=i[1]||i[2]||i[3],u=i[1]&&i[2]&&i[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},Vp=function(e){return Yp[e.toLowerCase()]},Up=function(e){return(gt(e)?e:null)||Vp(e)||Hp(e)||$p(e)||qp(e)},Yp={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ml=function(e){for(var r=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(it(a))throw Error("Tried to set map with object key");o<n.length-1?(r[a]==null&&(r[a]={}),r=r[a]):r[a]=e.value}},Ol=function(e){for(var r=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(it(a))throw Error("Tried to get map with object key");if(r=r[a],r==null)return r}return r},Ao=xt?xt.performance:null,Il=Ao&&Ao.now?function(){return Ao.now()}:function(){return Date.now()},Xp=function(){if(xt){if(xt.requestAnimationFrame)return function(t){xt.requestAnimationFrame(t)};if(xt.mozRequestAnimationFrame)return function(t){xt.mozRequestAnimationFrame(t)};if(xt.webkitRequestAnimationFrame)return function(t){xt.webkitRequestAnimationFrame(t)};if(xt.msRequestAnimationFrame)return function(t){xt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Il())},1e3/60)}}(),Mi=function(e){return Xp(e)},Hr=Il,Gn=9261,kl=65599,Da=5381,Rl=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gn,n=r,i;i=e.next(),!i.done;)n=n*kl+i.value|0;return n},Ia=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gn;return r*kl+e|0},ka=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Da;return(r<<5)+r+e|0},Wp=function(e,r){return e*2097152+r},Kr=function(e){return e[0]*2097152+e[1]},ci=function(e,r){return[Ia(e[0],r[0]),ka(e[1],r[1])]},_p=function(e,r){var n={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?n.value=e[i++]:n.done=!0,n}};return Rl(a,r)},En=function(e,r){var n={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?n.value=e.charCodeAt(i++):n.done=!0,n}};return Rl(a,r)},Pl=function(){return Kp(arguments)},Kp=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=En(i):r=En(i,r)}return r},vu=!0,Zp=console.warn!=null,Qp=console.trace!=null,fs=Number.MAX_SAFE_INTEGER||9007199254740991,Bl=function(){return!0},Oi=function(){return!1},du=function(){return 0},cs=function(){},Dt=function(e){throw new Error(e)},Fl=function(e){if(e!==void 0)vu=!!e;else return vu},ft=function(e){Fl()&&(Zp?console.warn(e):(console.log(e),Qp&&console.trace()))},jp=function(e){return We({},e)},Mr=function(e){return e==null?e:gt(e)?e.slice():it(e)?jp(e):e},Jp=function(e){return e.slice()},zl=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},ey={},Gl=function(){return ey},Vt=function(e){var r=Object.keys(e);return function(n){for(var i={},o=0;o<r.length;o++){var a=r[o],s=n==null?void 0:n[a];i[a]=s===void 0?e[a]:s}return i}},nn=function(e,r,n){for(var i=e.length-1;i>=0&&!(e[i]===r&&(e.splice(i,1),n));i--);},hs=function(e){e.splice(0,e.length)},ty=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},Lr=function(e,r,n){return n&&(r=Al(n,r)),e[r]},Qr=function(e,r,n,i){n&&(r=Al(n,r)),e[r]=i},ry=function(){function t(){os(this,t),this._obj={}}return ss(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Or=typeof Map<"u"?Map:ry,ny="undefined",ay=function(){function t(e){if(os(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return ss(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),jn=(typeof Set>"u"?"undefined":kt(Set))!==ny?Set:ay,_i=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!us(e)){Dt("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Dt("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new jn,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),r.renderedPosition){var a=r.renderedPosition,s=e.pan(),u=e.zoom();o.position={x:(a.x-s.x)/u,y:(a.y-s.y)/u}}var l=[];gt(r.classes)?l=r.classes:qe(r.classes)&&(l=r.classes.split(/\s+/));for(var f=0,h=l.length;f<h;f++){var p=l[f];!p||p===""||o.classes.add(p)}this.createEmitter();var v=r.style||r.css;v&&(ft("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(v)),(n===void 0||n)&&this.restore()},gu=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,o){var a;it(n)&&!dr(n)&&(a=n,n=a.roots||a.root,i=a.visit,o=a.directed),o=arguments.length===2&&!Ct(i)?i:o,i=Ct(i)?i:function(){};for(var s=this._private.cy,u=n=qe(n)?this.filter(n):n,l=[],f=[],h={},p={},v={},g=0,m,w=this.byGroup(),b=w.nodes,T=w.edges,x=0;x<u.length;x++){var L=u[x],N=L.id();L.isNode()&&(l.unshift(L),e.bfs&&(v[N]=!0,f.push(L)),p[N]=0)}for(var d=function(){var G=e.bfs?l.shift():l.pop(),P=G.id();if(e.dfs){if(v[P])return"continue";v[P]=!0,f.push(G)}var Y=p[P],H=h[P],U=H!=null?H.source():null,W=H!=null?H.target():null,_=H==null?void 0:G.same(U)?W[0]:U[0],j=void 0;if(j=i(G,H,_,g++,Y),j===!0)return m=G,"break";if(j===!1)return"break";for(var K=G.connectedEdges().filter(function(le){return(!o||le.source().same(G))&&T.has(le)}),te=0;te<K.length;te++){var ie=K[te],oe=ie.connectedNodes().filter(function(le){return!le.same(G)&&b.has(le)}),ue=oe.id();oe.length!==0&&!v[ue]&&(oe=oe[0],l.push(oe),e.bfs&&(v[ue]=!0,f.push(oe)),h[ue]=ie,p[ue]=p[P]+1)}};l.length!==0;){var C=d();if(C!=="continue"&&C==="break")break}for(var A=s.collection(),S=0;S<f.length;S++){var M=f[S],k=h[M.id()];k!=null&&A.push(k),A.push(M)}return{path:s.collection(A),found:s.collection(m)}}},Ra={breadthFirstSearch:gu({bfs:!0}),depthFirstSearch:gu({dfs:!0})};Ra.bfs=Ra.breadthFirstSearch;Ra.dfs=Ra.depthFirstSearch;var iy=Vt({root:null,weight:function(e){return 1},directed:!1}),oy={dijkstra:function(e){if(!it(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=iy(e),i=n.root,o=n.weight,a=n.directed,s=this,u=o,l=qe(i)?this.filter(i)[0]:i[0],f={},h={},p={},v=this.byGroup(),g=v.nodes,m=v.edges;m.unmergeBy(function(Y){return Y.isLoop()});for(var w=function(H){return f[H.id()]},b=function(H,U){f[H.id()]=U,T.updateItem(H)},T=new Ua.default(function(Y,H){return w(Y)-w(H)}),x=0;x<g.length;x++){var L=g[x];f[L.id()]=L.same(l)?0:1/0,T.push(L)}for(var N=function(H,U){for(var W=(a?H.edgesTo(U):H.edgesWith(U)).intersect(m),_=1/0,j,K=0;K<W.length;K++){var te=W[K],ie=u(te);(ie<_||!j)&&(_=ie,j=te)}return{edge:j,dist:_}};T.size()>0;){var d=T.pop(),C=w(d),A=d.id();if(p[A]=C,C!==1/0)for(var S=d.neighborhood().intersect(g),M=0;M<S.length;M++){var k=S[M],R=k.id(),G=N(d,k),P=C+G.dist;P<w(k)&&(b(k,P),h[R]={node:d,edge:G.edge})}}return{distanceTo:function(H){var U=qe(H)?g.filter(H)[0]:H[0];return p[U.id()]},pathTo:function(H){var U=qe(H)?g.filter(H)[0]:H[0],W=[],_=U,j=_.id();if(U.length>0)for(W.unshift(U);h[j];){var K=h[j];W.unshift(K.edge),W.unshift(K.node),_=K.node,j=_.id()}return s.spawn(W)}}}},sy={kruskal:function(e){e=e||function(x){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,o=n.length,a=new Array(o),s=n,u=function(L){for(var N=0;N<a.length;N++){var d=a[N];if(d.has(L))return N}},l=0;l<o;l++)a[l]=this.spawn(n[l]);for(var f=i.sort(function(x,L){return e(x)-e(L)}),h=0;h<f.length;h++){var p=f[h],v=p.source()[0],g=p.target()[0],m=u(v),w=u(g),b=a[m],T=a[w];m!==w&&(s.merge(p),b.merge(T),a.splice(w,1))}return s}},uy=Vt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),ly={aStar:function(e){var r=this.cy(),n=uy(e),i=n.root,o=n.goal,a=n.heuristic,s=n.directed,u=n.weight;i=r.collection(i)[0],o=r.collection(o)[0];var l=i.id(),f=o.id(),h={},p={},v={},g=new Ua.default(function(j,K){return p[j.id()]-p[K.id()]}),m=new jn,w={},b={},T=function(K,te){g.push(K),m.add(te)},x,L,N=function(){x=g.pop(),L=x.id(),m.delete(L)},d=function(K){return m.has(K)};T(i,l),h[l]=0,p[l]=a(i);for(var C=0;g.size()>0;){if(N(),C++,L===f){for(var A=[],S=o,M=f,k=b[M];A.unshift(S),k!=null&&A.unshift(k),S=w[M],S!=null;)M=S.id(),k=b[M];return{found:!0,distance:h[L],path:this.spawn(A),steps:C}}v[L]=!0;for(var R=x._private.edges,G=0;G<R.length;G++){var P=R[G];if(this.hasElementWithId(P.id())&&!(s&&P.data("source")!==L)){var Y=P.source(),H=P.target(),U=Y.id()!==L?Y:H,W=U.id();if(this.hasElementWithId(W)&&!v[W]){var _=h[L]+u(P);if(!d(W)){h[W]=_,p[W]=_+a(U),T(U,W),w[W]=x,b[W]=P;continue}_<h[W]&&(h[W]=_,p[W]=_+a(U),w[W]=x,b[W]=P)}}}}return{found:!1,distance:void 0,path:void 0,steps:C}}},fy=Vt({weight:function(e){return 1},directed:!1}),cy={floydWarshall:function(e){for(var r=this.cy(),n=fy(e),i=n.weight,o=n.directed,a=i,s=this.byGroup(),u=s.nodes,l=s.edges,f=u.length,h=f*f,p=function(ie){return u.indexOf(ie)},v=function(ie){return u[ie]},g=new Array(h),m=0;m<h;m++){var w=m%f,b=(m-w)/f;b===w?g[m]=0:g[m]=1/0}for(var T=new Array(h),x=new Array(h),L=0;L<l.length;L++){var N=l[L],d=N.source()[0],C=N.target()[0];if(d!==C){var A=p(d),S=p(C),M=A*f+S,k=a(N);if(g[M]>k&&(g[M]=k,T[M]=S,x[M]=N),!o){var R=S*f+A;!o&&g[R]>k&&(g[R]=k,T[R]=A,x[R]=N)}}}for(var G=0;G<f;G++)for(var P=0;P<f;P++)for(var Y=P*f+G,H=0;H<f;H++){var U=P*f+H,W=G*f+H;g[Y]+g[W]<g[U]&&(g[U]=g[Y]+g[W],T[U]=T[Y])}var _=function(ie){return(qe(ie)?r.filter(ie):ie)[0]},j=function(ie){return p(_(ie))},K={distance:function(ie,oe){var ue=j(ie),le=j(oe);return g[ue*f+le]},path:function(ie,oe){var ue=j(ie),le=j(oe),Q=v(ue);if(ue===le)return Q.collection();if(T[ue*f+le]==null)return r.collection();var de=r.collection(),ce=ue,De;for(de.merge(Q);ue!==le;)ce=ue,ue=T[ue*f+le],De=x[ce*f+ue],de.merge(De),de.merge(v(ue));return de}};return K}},hy=Vt({weight:function(e){return 1},directed:!1,root:null}),vy={bellmanFord:function(e){var r=this,n=hy(e),i=n.weight,o=n.directed,a=n.root,s=i,u=this,l=this.cy(),f=this.byGroup(),h=f.edges,p=f.nodes,v=p.length,g=new Or,m=!1,w=[];a=l.collection(a)[0],h.unmergeBy(function(we){return we.isLoop()});for(var b=h.length,T=function(Ee){var Ae=g.get(Ee.id());return Ae||(Ae={},g.set(Ee.id(),Ae)),Ae},x=function(Ee){return(qe(Ee)?l.$(Ee):Ee)[0]},L=function(Ee){return T(x(Ee)).dist},N=function(Ee){for(var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,Be=x(Ee),ke=[],Ie=Be;;){if(Ie==null)return r.spawn();var he=T(Ie),z=he.edge,ne=he.pred;if(ke.unshift(Ie[0]),Ie.same(Ae)&&ke.length>0)break;z!=null&&ke.unshift(z),Ie=ne}return u.spawn(ke)},d=0;d<v;d++){var C=p[d],A=T(C);C.same(a)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var S=!1,M=function(Ee,Ae,Be,ke,Ie,he){var z=ke.dist+he;z<Ie.dist&&!Be.same(ke.edge)&&(Ie.dist=z,Ie.pred=Ee,Ie.edge=Be,S=!0)},k=1;k<v;k++){S=!1;for(var R=0;R<b;R++){var G=h[R],P=G.source(),Y=G.target(),H=s(G),U=T(P),W=T(Y);M(P,Y,G,U,W,H),o||M(Y,P,G,W,U,H)}if(!S)break}if(S)for(var _=[],j=0;j<b;j++){var K=h[j],te=K.source(),ie=K.target(),oe=s(K),ue=T(te).dist,le=T(ie).dist;if(ue+oe<le||!o&&le+oe<ue)if(m||(ft("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var Q=[];ue+oe<le&&Q.push(te),!o&&le+oe<ue&&Q.push(ie);for(var de=Q.length,ce=0;ce<de;ce++){var De=Q[ce],Se=[De];Se.push(T(De).edge);for(var Ve=T(De).pred;Se.indexOf(Ve)===-1;)Se.push(Ve),Se.push(T(Ve).edge),Ve=T(Ve).pred;Se=Se.slice(Se.indexOf(Ve));for(var Fe=Se[0].id(),Le=0,fe=2;fe<Se.length;fe+=2)Se[fe].id()<Fe&&(Fe=Se[fe].id(),Le=fe);Se=Se.slice(Le).concat(Se.slice(0,Le)),Se.push(Se[0]);var re=Se.map(function(we){return we.id()}).join(",");_.indexOf(re)===-1&&(w.push(u.spawn(Se)),_.push(re))}}else break}return{distanceTo:L,pathTo:N,hasNegativeWeightCycle:m,negativeWeightCycles:w}}},dy=Math.sqrt(2),gy=function(e,r,n){n.length===0&&Dt("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],o=i[1],a=i[2],s=r[o],u=r[a],l=n,f=l.length-1;f>=0;f--){var h=l[f],p=h[1],v=h[2];(r[p]===s&&r[v]===u||r[p]===u&&r[v]===s)&&l.splice(f,1)}for(var g=0;g<l.length;g++){var m=l[g];m[1]===u?(l[g]=m.slice(),l[g][1]=s):m[2]===u&&(l[g]=m.slice(),l[g][2]=s)}for(var w=0;w<r.length;w++)r[w]===u&&(r[w]=s);return l},No=function(e,r,n,i){for(;n>i;){var o=Math.floor(Math.random()*r.length);r=gy(o,e,r),n--}return r},py={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(W){return W.isLoop()});var o=n.length,a=i.length,s=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),u=Math.floor(o/dy);if(o<2){Dt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],f=0;f<a;f++){var h=i[f];l.push([f,n.indexOf(h.source()),n.indexOf(h.target())])}for(var p=1/0,v=[],g=new Array(o),m=new Array(o),w=new Array(o),b=function(_,j){for(var K=0;K<o;K++)j[K]=_[K]},T=0;T<=s;T++){for(var x=0;x<o;x++)m[x]=x;var L=No(m,l.slice(),o,u),N=L.slice();b(m,w);var d=No(m,L,u,2),C=No(w,N,u,2);d.length<=C.length&&d.length<p?(p=d.length,v=d,b(m,g)):C.length<=d.length&&C.length<p&&(p=C.length,v=C,b(w,g))}for(var A=this.spawn(v.map(function(W){return i[W[0]]})),S=this.spawn(),M=this.spawn(),k=g[0],R=0;R<g.length;R++){var G=g[R],P=n[R];G===k?S.merge(P):M.merge(P)}var Y=function(_){var j=e.spawn();return _.forEach(function(K){j.merge(K),K.connectedEdges().forEach(function(te){e.contains(te)&&!A.contains(te)&&j.merge(te)})}),j},H=[Y(S),Y(M)],U={cut:A,components:H,partition1:S,partition2:M};return U}},yy=function(e){return{x:e.x,y:e.y}},Ki=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Hl=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Hn=function(e){return{x:e[0],y:e[1]}},my=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=r;o<n;o++){var a=e[o];isFinite(a)&&(i=Math.min(a,i))}return i},by=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=r;o<n;o++){var a=e[o];isFinite(a)&&(i=Math.max(a,i))}return i},wy=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i+=s,o++)}return i/o},Ey=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];a?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}o&&e.sort(function(p,v){return p-v});var f=e.length,h=Math.floor(f/2);return f%2!==0?e[h+1+s]:(e[h-1+s]+e[h+s])/2},xy=function(e){return Math.PI*e/180},hi=function(e,r){return Math.atan2(r,e)-Math.PI/2},vs=Math.log2||function(t){return Math.log(t)/Math.log(2)},ql=function(e){return e>0?1:e<0?-1:0},xn=function(e,r){return Math.sqrt(mn(e,r))},mn=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},Ty=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var o=0;o<r;o++)e[o]=e[o]/n;return e},Bt=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},$n=function(e,r,n,i){return{x:Bt(e.x,r.x,n.x,i),y:Bt(e.y,r.y,n.y,i)}},Cy=function(e,r,n,i){var o={x:r.x-e.x,y:r.y-e.y},a=xn(e,r),s={x:o.x/a,y:o.y/a};return n=n??0,i=i??n*a,{x:e.x+s.x*i,y:e.y+s.y*i}},Pa=function(e,r,n){return Math.max(e,Math.min(n,r))},lr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Dy=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Sy=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Ly=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Ay=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},xi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Mo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,o,a;if(r.length===1)n=i=o=a=r[0];else if(r.length===2)n=o=r[0],a=i=r[1];else if(r.length===4){var s=zr(r,4);n=s[0],i=s[1],o=s[2],a=s[3]}return e.x1-=a,e.x2+=i,e.y1-=n,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},pu=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},ds=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Xn=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Ny=function(e,r){return Xn(e,r.x,r.y)},$l=function(e,r){return Xn(e,r.x1,r.y1)&&Xn(e,r.x2,r.y2)},Vl=function(e,r,n,i,o,a,s){var u=Wa(o,a),l=o/2,f=a/2,h;{var p=n-l+u-s,v=i-f-s,g=n+l-u+s,m=v;if(h=Jr(e,r,n,i,p,v,g,m,!1),h.length>0)return h}{var w=n+l+s,b=i-f+u-s,T=w,x=i+f-u+s;if(h=Jr(e,r,n,i,w,b,T,x,!1),h.length>0)return h}{var L=n-l+u-s,N=i+f+s,d=n+l-u+s,C=N;if(h=Jr(e,r,n,i,L,N,d,C,!1),h.length>0)return h}{var A=n-l-s,S=i-f+u-s,M=A,k=i+f-u+s;if(h=Jr(e,r,n,i,A,S,M,k,!1),h.length>0)return h}var R;{var G=n-l+u,P=i-f+u;if(R=Sa(e,r,n,i,G,P,u+s),R.length>0&&R[0]<=G&&R[1]<=P)return[R[0],R[1]]}{var Y=n+l-u,H=i-f+u;if(R=Sa(e,r,n,i,Y,H,u+s),R.length>0&&R[0]>=Y&&R[1]<=H)return[R[0],R[1]]}{var U=n+l-u,W=i+f-u;if(R=Sa(e,r,n,i,U,W,u+s),R.length>0&&R[0]>=U&&R[1]>=W)return[R[0],R[1]]}{var _=n-l+u,j=i+f-u;if(R=Sa(e,r,n,i,_,j,u+s),R.length>0&&R[0]<=_&&R[1]>=j)return[R[0],R[1]]}return[]},My=function(e,r,n,i,o,a,s){var u=s,l=Math.min(n,o),f=Math.max(n,o),h=Math.min(i,a),p=Math.max(i,a);return l-u<=e&&e<=f+u&&h-u<=r&&r<=p+u},Oy=function(e,r,n,i,o,a,s,u,l){var f={x1:Math.min(n,s,o)-l,x2:Math.max(n,s,o)+l,y1:Math.min(i,u,a)-l,y2:Math.max(i,u,a)+l};return!(e<f.x1||e>f.x2||r<f.y1||r>f.y2)},Iy=function(e,r,n,i){n-=i;var o=r*r-4*e*n;if(o<0)return[];var a=Math.sqrt(o),s=2*e,u=(-r+a)/s,l=(-r-a)/s;return[u,l]},ky=function(e,r,n,i,o){var a=1e-5;e===0&&(e=a),r/=e,n/=e,i/=e;var s,u,l,f,h,p,v,g;if(u=(3*n-r*r)/9,l=-(27*i)+r*(9*n-2*(r*r)),l/=54,s=u*u*u+l*l,o[1]=0,v=r/3,s>0){h=l+Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),p=l-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),o[0]=-v+h+p,v+=(h+p)/2,o[4]=o[2]=-v,v=Math.sqrt(3)*(-p+h)/2,o[3]=v,o[5]=-v;return}if(o[5]=o[3]=0,s===0){g=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),o[0]=-v+2*g,o[4]=o[2]=-(g+v);return}u=-u,f=u*u*u,f=Math.acos(l/Math.sqrt(f)),g=2*Math.sqrt(u),o[0]=-v+g*Math.cos(f/3),o[2]=-v+g*Math.cos((f+2*Math.PI)/3),o[4]=-v+g*Math.cos((f+4*Math.PI)/3)},Ry=function(e,r,n,i,o,a,s,u){var l=1*n*n-4*n*o+2*n*s+4*o*o-4*o*s+s*s+i*i-4*i*a+2*i*u+4*a*a-4*a*u+u*u,f=1*9*n*o-3*n*n-3*n*s-6*o*o+3*o*s+9*i*a-3*i*i-3*i*u-6*a*a+3*a*u,h=1*3*n*n-6*n*o+n*s-n*e+2*o*o+2*o*e-s*e+3*i*i-6*i*a+i*u-i*r+2*a*a+2*a*r-u*r,p=1*n*o-n*n+n*e-o*e+i*a-i*i+i*r-a*r,v=[];ky(l,f,h,p,v);for(var g=1e-7,m=[],w=0;w<6;w+=2)Math.abs(v[w+1])<g&&v[w]>=0&&v[w]<=1&&m.push(v[w]);m.push(1),m.push(0);for(var b=-1,T,x,L,N=0;N<m.length;N++)T=Math.pow(1-m[N],2)*n+2*(1-m[N])*m[N]*o+m[N]*m[N]*s,x=Math.pow(1-m[N],2)*i+2*(1-m[N])*m[N]*a+m[N]*m[N]*u,L=Math.pow(T-e,2)+Math.pow(x-r,2),b>=0?L<b&&(b=L):b=L;return b},Py=function(e,r,n,i,o,a){var s=[e-n,r-i],u=[o-n,a-i],l=u[0]*u[0]+u[1]*u[1],f=s[0]*s[0]+s[1]*s[1],h=s[0]*u[0]+s[1]*u[1],p=h*h/l;return h<0?f:p>l?(e-o)*(e-o)+(r-a)*(r-a):f-p},ur=function(e,r,n){for(var i,o,a,s,u,l=0,f=0;f<n.length/2;f++)if(i=n[f*2],o=n[f*2+1],f+1<n.length/2?(a=n[(f+1)*2],s=n[(f+1)*2+1]):(a=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(i==e&&a==e))if(i>=e&&e>=a||i<=e&&e<=a)u=(e-i)/(a-i)*(s-o)+o,u>r&&l++;else continue;return l%2!==0},qr=function(e,r,n,i,o,a,s,u,l){var f=new Array(n.length),h;u[0]!=null?(h=Math.atan(u[1]/u[0]),u[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=u;for(var p=Math.cos(-h),v=Math.sin(-h),g=0;g<f.length/2;g++)f[g*2]=a/2*(n[g*2]*p-n[g*2+1]*v),f[g*2+1]=s/2*(n[g*2+1]*p+n[g*2]*v),f[g*2]+=i,f[g*2+1]+=o;var m;if(l>0){var w=Yl(f,-l);m=Ul(w)}else m=f;return ur(e,r,m)},By=function(e,r,n,i,o,a,s){for(var u=new Array(n.length),l=a/2,f=s/2,h=gs(a,s),p=h*h,v=0;v<n.length/4;v++){var g=void 0,m=void 0;v===0?g=n.length-2:g=v*4-2,m=v*4+2;var w=i+l*n[v*4],b=o+f*n[v*4+1],T=-n[g]*n[m]-n[g+1]*n[m+1],x=h/Math.tan(Math.acos(T)/2),L=w-x*n[g],N=b-x*n[g+1],d=w+x*n[m],C=b+x*n[m+1];u[v*4]=L,u[v*4+1]=N,u[v*4+2]=d,u[v*4+3]=C;var A=n[g+1],S=-n[g],M=A*n[m]+S*n[m+1];M<0&&(A*=-1,S*=-1);var k=L+A*h,R=N+S*h,G=Math.pow(k-e,2)+Math.pow(R-r,2);if(G<=p)return!0}return ur(e,r,u)},Ul=function(e){for(var r=new Array(e.length/2),n,i,o,a,s,u,l,f,h=0;h<e.length/4;h++){n=e[h*4],i=e[h*4+1],o=e[h*4+2],a=e[h*4+3],h<e.length/4-1?(s=e[(h+1)*4],u=e[(h+1)*4+1],l=e[(h+1)*4+2],f=e[(h+1)*4+3]):(s=e[0],u=e[1],l=e[2],f=e[3]);var p=Jr(n,i,o,a,s,u,l,f,!0);r[h*2]=p[0],r[h*2+1]=p[1]}return r},Yl=function(e,r){for(var n=new Array(e.length*2),i,o,a,s,u=0;u<e.length/2;u++){i=e[u*2],o=e[u*2+1],u<e.length/2-1?(a=e[(u+1)*2],s=e[(u+1)*2+1]):(a=e[0],s=e[1]);var l=s-o,f=-(a-i),h=Math.sqrt(l*l+f*f),p=l/h,v=f/h;n[u*4]=i+p*r,n[u*4+1]=o+v*r,n[u*4+2]=a+p*r,n[u*4+3]=s+v*r}return n},Fy=function(e,r,n,i,o,a){var s=n-e,u=i-r;s/=o,u/=a;var l=Math.sqrt(s*s+u*u),f=l-1;if(f<0)return[];var h=f/l;return[(n-e)*h+e,(i-r)*h+r]},wn=function(e,r,n,i,o,a,s){return e-=o,r-=a,e/=n/2+s,r/=i/2+s,e*e+r*r<=1},Sa=function(e,r,n,i,o,a,s){var u=[n-e,i-r],l=[e-o,r-a],f=u[0]*u[0]+u[1]*u[1],h=2*(l[0]*u[0]+l[1]*u[1]),p=l[0]*l[0]+l[1]*l[1]-s*s,v=h*h-4*f*p;if(v<0)return[];var g=(-h+Math.sqrt(v))/(2*f),m=(-h-Math.sqrt(v))/(2*f),w=Math.min(g,m),b=Math.max(g,m),T=[];if(w>=0&&w<=1&&T.push(w),b>=0&&b<=1&&T.push(b),T.length===0)return[];var x=T[0]*u[0]+e,L=T[0]*u[1]+r;if(T.length>1){if(T[0]==T[1])return[x,L];var N=T[1]*u[0]+e,d=T[1]*u[1]+r;return[x,L,N,d]}else return[x,L]},Oo=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Jr=function(e,r,n,i,o,a,s,u,l){var f=e-o,h=n-e,p=s-o,v=r-a,g=i-r,m=u-a,w=p*v-m*f,b=h*v-g*f,T=m*h-p*g;if(T!==0){var x=w/T,L=b/T,N=.001,d=0-N,C=1+N;return d<=x&&x<=C&&d<=L&&L<=C?[e+x*h,r+x*g]:l?[e+x*h,r+x*g]:[]}else return w===0||b===0?Oo(e,n,s)===s?[s,u]:Oo(e,n,o)===o?[o,a]:Oo(o,s,n)===n?[n,i]:[]:[]},Ba=function(e,r,n,i,o,a,s,u){var l=[],f,h=new Array(n.length),p=!0;a==null&&(p=!1);var v;if(p){for(var g=0;g<h.length/2;g++)h[g*2]=n[g*2]*a+i,h[g*2+1]=n[g*2+1]*s+o;if(u>0){var m=Yl(h,-u);v=Ul(m)}else v=h}else v=n;for(var w,b,T,x,L=0;L<v.length/2;L++)w=v[L*2],b=v[L*2+1],L<v.length/2-1?(T=v[(L+1)*2],x=v[(L+1)*2+1]):(T=v[0],x=v[1]),f=Jr(e,r,i,o,w,b,T,x),f.length!==0&&l.push(f[0],f[1]);return l},zy=function(e,r,n,i,o,a,s,u){for(var l=[],f,h=new Array(n.length),p=a/2,v=s/2,g=gs(a,s),m=0;m<n.length/4;m++){var w=void 0,b=void 0;m===0?w=n.length-2:w=m*4-2,b=m*4+2;var T=i+p*n[m*4],x=o+v*n[m*4+1],L=-n[w]*n[b]-n[w+1]*n[b+1],N=g/Math.tan(Math.acos(L)/2),d=T-N*n[w],C=x-N*n[w+1],A=T+N*n[b],S=x+N*n[b+1];m===0?(h[n.length-2]=d,h[n.length-1]=C):(h[m*4-2]=d,h[m*4-1]=C),h[m*4]=A,h[m*4+1]=S;var M=n[w+1],k=-n[w],R=M*n[b]+k*n[b+1];R<0&&(M*=-1,k*=-1);var G=d+M*g,P=C+k*g;f=Sa(e,r,i,o,G,P,g),f.length!==0&&l.push(f[0],f[1])}for(var Y=0;Y<h.length/4;Y++)f=Jr(e,r,i,o,h[Y*4],h[Y*4+1],h[Y*4+2],h[Y*4+3],!1),f.length!==0&&l.push(f[0],f[1]);if(l.length>2){for(var H=[l[0],l[1]],U=Math.pow(H[0]-e,2)+Math.pow(H[1]-r,2),W=1;W<l.length/2;W++){var _=Math.pow(l[W*2]-e,2)+Math.pow(l[W*2+1]-r,2);_<=U&&(H[0]=l[W*2],H[1]=l[W*2+1],U=_)}return H}return l},vi=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),a=(o-n)/o;return a<0&&(a=1e-5),[r[0]+a*i[0],r[1]+a*i[1]]},jt=function(e,r){var n=qo(e,r);return n=Xl(n),n},Xl=function(e){for(var r,n,i=e.length/2,o=1/0,a=1/0,s=-1/0,u=-1/0,l=0;l<i;l++)r=e[2*l],n=e[2*l+1],o=Math.min(o,r),s=Math.max(s,r),a=Math.min(a,n),u=Math.max(u,n);for(var f=2/(s-o),h=2/(u-a),p=0;p<i;p++)r=e[2*p]=e[2*p]*f,n=e[2*p+1]=e[2*p+1]*h,o=Math.min(o,r),s=Math.max(s,r),a=Math.min(a,n),u=Math.max(u,n);if(a<-1)for(var v=0;v<i;v++)n=e[2*v+1]=e[2*v+1]+(-1-a);return e},qo=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var o=new Array(e*2),a,s=0;s<e;s++)a=s*n+i,o[2*s]=Math.cos(a),o[2*s+1]=Math.sin(-a);return o},Wa=function(e,r){return Math.min(e/4,r/4,8)},gs=function(e,r){return Math.min(e/10,r/10,8)},Wl=function(){return 8},Gy=function(e,r,n){return[e-2*r+n,2*(r-e),e]},$o=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Hy=Vt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),qy={pageRank:function(e){for(var r=Hy(e),n=r.dampingFactor,i=r.precision,o=r.iterations,a=r.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,f=u.edges,h=l.length,p=h*h,v=f.length,g=new Array(p),m=new Array(h),w=(1-n)/h,b=0;b<h;b++){for(var T=0;T<h;T++){var x=b*h+T;g[x]=0}m[b]=0}for(var L=0;L<v;L++){var N=f[L],d=N.data("source"),C=N.data("target");if(d!==C){var A=l.indexOfId(d),S=l.indexOfId(C),M=a(N),k=S*h+A;g[k]+=M,m[A]+=M}}for(var R=1/h+w,G=0;G<h;G++)if(m[G]===0)for(var P=0;P<h;P++){var Y=P*h+G;g[Y]=R}else for(var H=0;H<h;H++){var U=H*h+G;g[U]=g[U]/m[G]+w}for(var W=new Array(h),_=new Array(h),j,K=0;K<h;K++)W[K]=1;for(var te=0;te<o;te++){for(var ie=0;ie<h;ie++)_[ie]=0;for(var oe=0;oe<h;oe++)for(var ue=0;ue<h;ue++){var le=oe*h+ue;_[oe]+=g[le]*W[ue]}Ty(_),j=W,W=_,_=j;for(var Q=0,de=0;de<h;de++){var ce=j[de]-W[de];Q+=ce*ce}if(Q<i)break}var De={rank:function(Ve){return Ve=s.collection(Ve)[0],W[l.indexOf(Ve)]}};return De}},yu=Vt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Vn={degreeCentralityNormalized:function(e){e=yu(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var f={},h={},p=0,v=0,g=0;g<i;g++){var m=n[g],w=m.id();e.root=m;var b=this.degreeCentrality(e);p<b.indegree&&(p=b.indegree),v<b.outdegree&&(v=b.outdegree),f[w]=b.indegree,h[w]=b.outdegree}return{indegree:function(x){return p==0?0:(qe(x)&&(x=r.filter(x)),f[x.id()]/p)},outdegree:function(x){return v===0?0:(qe(x)&&(x=r.filter(x)),h[x.id()]/v)}}}else{for(var o={},a=0,s=0;s<i;s++){var u=n[s];e.root=u;var l=this.degreeCentrality(e);a<l.degree&&(a=l.degree),o[u.id()]=l.degree}return{degree:function(x){return a===0?0:(qe(x)&&(x=r.filter(x)),o[x.id()]/a)}}}},degreeCentrality:function(e){e=yu(e);var r=this.cy(),n=this,i=e,o=i.root,a=i.weight,s=i.directed,u=i.alpha;if(o=r.collection(o)[0],s){for(var v=o.connectedEdges(),g=v.filter(function(d){return d.target().same(o)&&n.has(d)}),m=v.filter(function(d){return d.source().same(o)&&n.has(d)}),w=g.length,b=m.length,T=0,x=0,L=0;L<g.length;L++)T+=a(g[L]);for(var N=0;N<m.length;N++)x+=a(m[N]);return{indegree:Math.pow(w,1-u)*Math.pow(T,u),outdegree:Math.pow(b,1-u)*Math.pow(x,u)}}else{for(var l=o.connectedEdges().intersection(n),f=l.length,h=0,p=0;p<l.length;p++)h+=a(l[p]);return{degree:Math.pow(f,1-u)*Math.pow(h,u)}}}};Vn.dc=Vn.degreeCentrality;Vn.dcn=Vn.degreeCentralityNormalised=Vn.degreeCentralityNormalized;var mu=Vt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Un={closenessCentralityNormalized:function(e){for(var r=mu(e),n=r.harmonic,i=r.weight,o=r.directed,a=this.cy(),s={},u=0,l=this.nodes(),f=this.floydWarshall({weight:i,directed:o}),h=0;h<l.length;h++){for(var p=0,v=l[h],g=0;g<l.length;g++)if(h!==g){var m=f.distance(v,l[g]);n?p+=1/m:p+=m}n||(p=1/p),u<p&&(u=p),s[v.id()]=p}return{closeness:function(b){return u==0?0:(qe(b)?b=a.filter(b)[0].id():b=b.id(),s[b]/u)}}},closenessCentrality:function(e){var r=mu(e),n=r.root,i=r.weight,o=r.directed,a=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:o}),u=0,l=this.nodes(),f=0;f<l.length;f++){var h=l[f];if(!h.same(n)){var p=s.distanceTo(h);a?u+=1/p:u+=p}}return a?u:1/u}};Un.cc=Un.closenessCentrality;Un.ccn=Un.closenessCentralityNormalised=Un.closenessCentralityNormalized;var $y=Vt({weight:null,directed:!1}),Vo={betweennessCentrality:function(e){for(var r=$y(e),n=r.directed,i=r.weight,o=i!=null,a=this.cy(),s=this.nodes(),u={},l={},f=0,h={set:function(x,L){l[x]=L,L>f&&(f=L)},get:function(x){return l[x]}},p=0;p<s.length;p++){var v=s[p],g=v.id();n?u[g]=v.outgoers().nodes():u[g]=v.openNeighborhood().nodes(),h.set(g,0)}for(var m=function(x){for(var L=s[x].id(),N=[],d={},C={},A={},S=new Ua.default(function(ue,le){return A[ue]-A[le]}),M=0;M<s.length;M++){var k=s[M].id();d[k]=[],C[k]=0,A[k]=1/0}for(C[L]=1,A[L]=0,S.push(L);!S.empty();){var R=S.pop();if(N.push(R),o)for(var G=0;G<u[R].length;G++){var P=u[R][G],Y=a.getElementById(R),H=void 0;Y.edgesTo(P).length>0?H=Y.edgesTo(P)[0]:H=P.edgesTo(Y)[0];var U=i(H);P=P.id(),A[P]>A[R]+U&&(A[P]=A[R]+U,S.nodes.indexOf(P)<0?S.push(P):S.updateItem(P),C[P]=0,d[P]=[]),A[P]==A[R]+U&&(C[P]=C[P]+C[R],d[P].push(R))}else for(var W=0;W<u[R].length;W++){var _=u[R][W].id();A[_]==1/0&&(S.push(_),A[_]=A[R]+1),A[_]==A[R]+1&&(C[_]=C[_]+C[R],d[_].push(R))}}for(var j={},K=0;K<s.length;K++)j[s[K].id()]=0;for(;N.length>0;){for(var te=N.pop(),ie=0;ie<d[te].length;ie++){var oe=d[te][ie];j[oe]=j[oe]+C[oe]/C[te]*(1+j[te])}te!=s[x].id()&&h.set(te,h.get(te)+j[te])}},w=0;w<s.length;w++)m(w);var b={betweenness:function(x){var L=a.collection(x).id();return h.get(L)},betweennessNormalized:function(x){if(f==0)return 0;var L=a.collection(x).id();return h.get(L)/f}};return b.betweennessNormalised=b.betweennessNormalized,b}};Vo.bc=Vo.betweennessCentrality;var Vy=Vt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Uy=function(e){return Vy(e)},Yy=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},Xy=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},_l=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var o=0;o<r;o++)n+=e[o*r+i];for(var a=0;a<r;a++)e[a*r+i]=e[a*r+i]/n}},Wy=function(e,r,n){for(var i=new Array(n*n),o=0;o<n;o++){for(var a=0;a<n;a++)i[o*n+a]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)i[o*n+u]+=e[o*n+s]*r[s*n+u]}return i},_y=function(e,r,n){for(var i=e.slice(0),o=1;o<n;o++)e=Wy(e,i,r);return e},Ky=function(e,r,n){for(var i=new Array(r*r),o=0;o<r*r;o++)i[o]=Math.pow(e[o],n);return _l(i,r),i},Zy=function(e,r,n,i){for(var o=0;o<n;o++){var a=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(r[o]*Math.pow(10,i))/Math.pow(10,i);if(a!==s)return!1}return!0},Qy=function(e,r,n,i){for(var o=[],a=0;a<r;a++){for(var s=[],u=0;u<r;u++)Math.round(e[a*r+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&o.push(i.collection(s))}return o},jy=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Jy=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&jy(e[r],e[n])&&e.splice(n,1);return e},bu=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),o=Uy(e),a={},s=0;s<r.length;s++)a[r[s].id()]=s;for(var u=r.length,l=u*u,f=new Array(l),h,p=0;p<l;p++)f[p]=0;for(var v=0;v<n.length;v++){var g=n[v],m=a[g.source().id()],w=a[g.target().id()],b=Yy(g,o.attributes);f[m*u+w]+=b,f[w*u+m]+=b}Xy(f,u,o.multFactor),_l(f,u);for(var T=!0,x=0;T&&x<o.maxIterations;)T=!1,h=_y(f,u,o.expandFactor),f=Ky(h,u,o.inflateFactor),Zy(f,h,l,4)||(T=!0),x++;var L=Qy(f,u,r,i);return L=Jy(L),L},em={markovClustering:bu,mcl:bu},tm=function(e){return e},Kl=function(e,r){return Math.abs(r-e)},wu=function(e,r,n){return e+Kl(r,n)},Eu=function(e,r,n){return e+Math.pow(n-r,2)},rm=function(e){return Math.sqrt(e)},nm=function(e,r,n){return Math.max(e,Kl(r,n))},wa=function(e,r,n,i,o){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:tm,s=i,u,l,f=0;f<e;f++)u=r(f),l=n(f),s=o(s,u,l);return a(s)},Wn={euclidean:function(e,r,n){return e>=2?wa(e,r,n,0,Eu,rm):wa(e,r,n,0,wu)},squaredEuclidean:function(e,r,n){return wa(e,r,n,0,Eu)},manhattan:function(e,r,n){return wa(e,r,n,0,wu)},max:function(e,r,n){return wa(e,r,n,-1/0,nm)}};Wn["squared-euclidean"]=Wn.squaredEuclidean;Wn.squaredeuclidean=Wn.squaredEuclidean;function Zi(t,e,r,n,i,o){var a;return Ct(t)?a=t:a=Wn[t]||Wn.euclidean,e===0&&Ct(t)?a(i,o):a(e,r,n,i,o)}var am=Vt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ps=function(e){return am(e)},Ii=function(e,r,n,i,o){var a=o!=="kMedoids",s=a?function(h){return n[h]}:function(h){return i[h](n)},u=function(p){return i[p](r)},l=n,f=r;return Zi(e,i.length,s,u,l,f)},Io=function(e,r,n){for(var i=n.length,o=new Array(i),a=new Array(i),s=new Array(r),u=null,l=0;l<i;l++)o[l]=e.min(n[l]).value,a[l]=e.max(n[l]).value;for(var f=0;f<r;f++){u=[];for(var h=0;h<i;h++)u[h]=Math.random()*(a[h]-o[h])+o[h];s[f]=u}return s},Zl=function(e,r,n,i,o){for(var a=1/0,s=0,u=0;u<r.length;u++){var l=Ii(n,e,r[u],i,o);l<a&&(a=l,s=u)}return s},Ql=function(e,r,n){for(var i=[],o=null,a=0;a<r.length;a++)o=r[a],n[o.id()]===e&&i.push(o);return i},im=function(e,r,n){return Math.abs(r-e)<=n},om=function(e,r,n){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var a=Math.abs(e[i][o]-r[i][o]);if(a>n)return!1}return!0},sm=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},xu=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var o=e[Math.floor(Math.random()*e.length)];sm(o,n,i);)o=e[Math.floor(Math.random()*e.length)];n[i]=o}else for(var a=0;a<r;a++)n[a]=e[Math.floor(Math.random()*e.length)];return n},Tu=function(e,r,n){for(var i=0,o=0;o<r.length;o++)i+=Ii("manhattan",r[o],e,n,"kMedoids");return i},um=function(e){var r=this.cy(),n=this.nodes(),i=null,o=ps(e),a=new Array(o.k),s={},u;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,u=Io(n,o.k,o.attributes)):kt(o.testCentroids)==="object"?u=o.testCentroids:u=Io(n,o.k,o.attributes):u=Io(n,o.k,o.attributes);for(var l=!0,f=0;l&&f<o.maxIterations;){for(var h=0;h<n.length;h++)i=n[h],s[i.id()]=Zl(i,u,o.distance,o.attributes,"kMeans");l=!1;for(var p=0;p<o.k;p++){var v=Ql(p,n,s);if(v.length!==0){for(var g=o.attributes.length,m=u[p],w=new Array(g),b=new Array(g),T=0;T<g;T++){b[T]=0;for(var x=0;x<v.length;x++)i=v[x],b[T]+=o.attributes[T](i);w[T]=b[T]/v.length,im(w[T],m[T],o.sensitivityThreshold)||(l=!0)}u[p]=w,a[p]=r.collection(v)}}f++}return a},lm=function(e){var r=this.cy(),n=this.nodes(),i=null,o=ps(e),a=new Array(o.k),s,u={},l,f=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(kt(o.testCentroids)==="object"?s=o.testCentroids:s=xu(n,o.k)):s=xu(n,o.k);for(var h=!0,p=0;h&&p<o.maxIterations;){for(var v=0;v<n.length;v++)i=n[v],u[i.id()]=Zl(i,s,o.distance,o.attributes,"kMedoids");h=!1;for(var g=0;g<s.length;g++){var m=Ql(g,n,u);if(m.length!==0){f[g]=Tu(s[g],m,o.attributes);for(var w=0;w<m.length;w++)l=Tu(m[w],m,o.attributes),l<f[g]&&(f[g]=l,s[g]=m[w],h=!0);a[g]=r.collection(m)}}p++}return a},fm=function(e,r,n,i,o){for(var a,s,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)i[u][l]=Math.pow(n[u][l],o.m);for(var f=0;f<e.length;f++)for(var h=0;h<o.attributes.length;h++){a=0,s=0;for(var p=0;p<r.length;p++)a+=i[p][f]*o.attributes[h](r[p]),s+=i[p][f];e[f][h]=a/s}},cm=function(e,r,n,i,o){for(var a=0;a<e.length;a++)r[a]=e[a].slice();for(var s,u,l,f=2/(o.m-1),h=0;h<n.length;h++)for(var p=0;p<i.length;p++){s=0;for(var v=0;v<n.length;v++)u=Ii(o.distance,i[p],n[h],o.attributes,"cmeans"),l=Ii(o.distance,i[p],n[v],o.attributes,"cmeans"),s+=Math.pow(u/l,f);e[p][h]=1/s}},hm=function(e,r,n,i){for(var o=new Array(n.k),a=0;a<o.length;a++)o[a]=[];for(var s,u,l=0;l<r.length;l++){s=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[l][f]>s&&(s=r[l][f],u=f);o[u].push(e[l])}for(var h=0;h<o.length;h++)o[h]=i.collection(o[h]);return o},Cu=function(e){var r=this.cy(),n=this.nodes(),i=ps(e),o,a,s,u,l;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(i.k);s=new Array(n.length);for(var h=0;h<n.length;h++)s[h]=new Array(i.k);for(var p=0;p<n.length;p++){for(var v=0,g=0;g<i.k;g++)s[p][g]=Math.random(),v+=s[p][g];for(var m=0;m<i.k;m++)s[p][m]=s[p][m]/v}a=new Array(i.k);for(var w=0;w<i.k;w++)a[w]=new Array(i.attributes.length);l=new Array(n.length);for(var b=0;b<n.length;b++)l[b]=new Array(i.k);for(var T=!0,x=0;T&&x<i.maxIterations;)T=!1,fm(a,n,s,l,i),cm(s,u,a,n,i),om(s,u,i.sensitivityThreshold)||(T=!0),x++;return o=hm(n,s,i,r),{clusters:o,degreeOfMembership:s}},vm={kMeans:um,kMedoids:lm,fuzzyCMeans:Cu,fcm:Cu},dm=Vt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),gm={single:"min",complete:"max"},pm=function(e){var r=dm(e),n=gm[r.linkage];return n!=null&&(r.linkage=n),r},Du=function(e,r,n,i,o){for(var a=0,s=1/0,u,l=o.attributes,f=function(S,M){return Zi(o.distance,l.length,function(k){return l[k](S)},function(k){return l[k](M)},S,M)},h=0;h<e.length;h++){var p=e[h].key,v=n[p][i[p]];v<s&&(a=p,s=v)}if(o.mode==="threshold"&&s>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var g=r[a],m=r[i[a]],w;o.mode==="dendrogram"?w={left:g,right:m,key:g.key}:w={value:g.value.concat(m.value),key:g.key},e[g.index]=w,e.splice(m.index,1),r[g.key]=w;for(var b=0;b<e.length;b++){var T=e[b];g.key===T.key?u=1/0:o.linkage==="min"?(u=n[g.key][T.key],n[g.key][T.key]>n[m.key][T.key]&&(u=n[m.key][T.key])):o.linkage==="max"?(u=n[g.key][T.key],n[g.key][T.key]<n[m.key][T.key]&&(u=n[m.key][T.key])):o.linkage==="mean"?u=(n[g.key][T.key]*g.size+n[m.key][T.key]*m.size)/(g.size+m.size):o.mode==="dendrogram"?u=f(T.value,g.value):u=f(T.value[0],g.value[0]),n[g.key][T.key]=n[T.key][g.key]=u}for(var x=0;x<e.length;x++){var L=e[x].key;if(i[L]===g.key||i[L]===m.key){for(var N=L,d=0;d<e.length;d++){var C=e[d].key;n[L][C]<n[L][N]&&(N=C)}i[L]=N}e[x].index=x}return g.key=m.key=g.index=m.index=null,!0},di=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},ym=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),o=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:o.id()}}),r.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},mm=function t(e,r,n){if(!e)return[];var i=[],o=[],a=[];return r===0?(e.left&&di(e.left,i),e.right&&di(e.right,o),a=i.concat(o),[n.collection(a)]):r===1?e.value?[n.collection(e.value)]:(e.left&&di(e.left,i),e.right&&di(e.right,o),[n.collection(i),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(o=t(e.right,r-1,n)),i.concat(o))},Su=function(e){for(var r=this.cy(),n=this.nodes(),i=pm(e),o=i.attributes,a=function(x,L){return Zi(i.distance,o.length,function(N){return o[N](x)},function(N){return o[N](L)},x,L)},s=[],u=[],l=[],f=[],h=0;h<n.length;h++){var p={value:i.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};s[h]=p,f[h]=p,u[h]=[],l[h]=0}for(var v=0;v<s.length;v++)for(var g=0;g<=v;g++){var m=void 0;i.mode==="dendrogram"?m=v===g?1/0:a(s[v].value,s[g].value):m=v===g?1/0:a(s[v].value[0],s[g].value[0]),u[v][g]=m,u[g][v]=m,m<u[v][l[v]]&&(l[v]=g)}for(var w=Du(s,f,u,l,i);w;)w=Du(s,f,u,l,i);var b;return i.mode==="dendrogram"?(b=mm(s[0],i.dendrogramDepth,r),i.addDendrogram&&ym(s[0],r)):(b=new Array(s.length),s.forEach(function(T,x){T.key=T.index=null,b[x]=r.collection(T.value)})),b},bm={hierarchicalClustering:Su,hca:Su},wm=Vt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Em=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Dt("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(o){return o===n})||Me(n)||Dt("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(n)),wm(e)},xm=function(e,r,n,i){var o=function(s,u){return i[u](s)};return-Zi(e,i.length,function(a){return o(r,a)},function(a){return o(n,a)},r,n)},Tm=function(e,r){var n=null;return r==="median"?n=Ey(e):r==="mean"?n=wy(e):r==="min"?n=my(e):r==="max"?n=by(e):n=r,n},Cm=function(e,r,n){for(var i=[],o=0;o<e;o++)r[o*e+o]+n[o*e+o]>0&&i.push(o);return i},Lu=function(e,r,n){for(var i=[],o=0;o<e;o++){for(var a=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];r[o*e+l]>s&&(a=l,s=r[o*e+l])}a>0&&i.push(a)}for(var f=0;f<n.length;f++)i[n[f]]=n[f];return i},Dm=function(e,r,n){for(var i=Lu(e,r,n),o=0;o<n.length;o++){for(var a=[],s=0;s<i.length;s++)i[s]===n[o]&&a.push(s);for(var u=-1,l=-1/0,f=0;f<a.length;f++){for(var h=0,p=0;p<a.length;p++)h+=r[a[p]*e+a[f]];h>l&&(u=f,l=h)}n[o]=a[u]}return i=Lu(e,r,n),i},Au=function(e){for(var r=this.cy(),n=this.nodes(),i=Em(e),o={},a=0;a<n.length;a++)o[n[a].id()]=a;var s,u,l,f,h,p;s=n.length,u=s*s,l=new Array(u);for(var v=0;v<u;v++)l[v]=-1/0;for(var g=0;g<s;g++)for(var m=0;m<s;m++)g!==m&&(l[g*s+m]=xm(i.distance,n[g],n[m],i.attributes));f=Tm(l,i.preference);for(var w=0;w<s;w++)l[w*s+w]=f;h=new Array(u);for(var b=0;b<u;b++)h[b]=0;p=new Array(u);for(var T=0;T<u;T++)p[T]=0;for(var x=new Array(s),L=new Array(s),N=new Array(s),d=0;d<s;d++)x[d]=0,L[d]=0,N[d]=0;for(var C=new Array(s*i.minIterations),A=0;A<C.length;A++)C[A]=0;var S;for(S=0;S<i.maxIterations;S++){for(var M=0;M<s;M++){for(var k=-1/0,R=-1/0,G=-1,P=0,Y=0;Y<s;Y++)x[Y]=h[M*s+Y],P=p[M*s+Y]+l[M*s+Y],P>=k?(R=k,k=P,G=Y):P>R&&(R=P);for(var H=0;H<s;H++)h[M*s+H]=(1-i.damping)*(l[M*s+H]-k)+i.damping*x[H];h[M*s+G]=(1-i.damping)*(l[M*s+G]-R)+i.damping*x[G]}for(var U=0;U<s;U++){for(var W=0,_=0;_<s;_++)x[_]=p[_*s+U],L[_]=Math.max(0,h[_*s+U]),W+=L[_];W-=L[U],L[U]=h[U*s+U],W+=L[U];for(var j=0;j<s;j++)p[j*s+U]=(1-i.damping)*Math.min(0,W-L[j])+i.damping*x[j];p[U*s+U]=(1-i.damping)*(W-L[U])+i.damping*x[U]}for(var K=0,te=0;te<s;te++){var ie=p[te*s+te]+h[te*s+te]>0?1:0;C[S%i.minIterations*s+te]=ie,K+=ie}if(K>0&&(S>=i.minIterations-1||S==i.maxIterations-1)){for(var oe=0,ue=0;ue<s;ue++){N[ue]=0;for(var le=0;le<i.minIterations;le++)N[ue]+=C[le*s+ue];(N[ue]===0||N[ue]===i.minIterations)&&oe++}if(oe===s)break}}for(var Q=Cm(s,h,p),de=Dm(s,l,Q),ce={},De=0;De<Q.length;De++)ce[Q[De]]=[];for(var Se=0;Se<n.length;Se++){var Ve=o[n[Se].id()],Fe=de[Ve];Fe!=null&&ce[Fe].push(n[Se])}for(var Le=new Array(Q.length),fe=0;fe<Q.length;fe++)Le[fe]=r.collection(ce[Q[fe]]);return Le},Sm={affinityPropagation:Au,ap:Au},Lm=Vt({root:void 0,directed:!1}),Am={hierholzer:function(e){if(!it(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=Lm(e),i=n.root,o=n.directed,a=this,s=!1,u,l,f;i&&(f=qe(i)?this.filter(i)[0].id():i[0].id());var h={},p={};o?a.forEach(function(T){var x=T.id();if(T.isNode()){var L=T.indegree(!0),N=T.outdegree(!0),d=L-N,C=N-L;d==1?u?s=!0:u=x:C==1?l?s=!0:l=x:(C>1||d>1)&&(s=!0),h[x]=[],T.outgoers().forEach(function(A){A.isEdge()&&h[x].push(A.id())})}else p[x]=[void 0,T.target().id()]}):a.forEach(function(T){var x=T.id();if(T.isNode()){var L=T.degree(!0);L%2&&(u?l?s=!0:l=x:u=x),h[x]=[],T.connectedEdges().forEach(function(N){return h[x].push(N.id())})}else p[x]=[T.source().id(),T.target().id()]});var v={found:!1,trail:void 0};if(s)return v;if(l&&u)if(o){if(f&&l!=f)return v;f=l}else{if(f&&l!=f&&u!=f)return v;f||(f=l)}else f||(f=a[0].id());var g=function(x){for(var L=x,N=[x],d,C,A;h[L].length;)d=h[L].shift(),C=p[d][0],A=p[d][1],L!=A?(h[A]=h[A].filter(function(S){return S!=d}),L=A):!o&&L!=C&&(h[C]=h[C].filter(function(S){return S!=d}),L=C),N.unshift(d),N.unshift(L);return N},m=[],w=[];for(w=g(f);w.length!=1;)h[w[0]].length==0?(m.unshift(a.getElementById(w.shift())),m.unshift(a.getElementById(w.shift()))):w=g(w.shift()).concat(w);m.unshift(a.getElementById(w.shift()));for(var b in h)if(h[b].length)return v;return v.found=!0,v.trail=this.spawn(m,!0),v}},gi=function(){var e=this,r={},n=0,i=0,o=[],a=[],s={},u=function(p,v){for(var g=a.length-1,m=[],w=e.spawn();a[g].x!=p||a[g].y!=v;)m.push(a.pop().edge),g--;m.push(a.pop().edge),m.forEach(function(b){var T=b.connectedNodes().intersection(e);w.merge(b),T.forEach(function(x){var L=x.id(),N=x.connectedEdges().intersection(e);w.merge(x),r[L].cutVertex?w.merge(N.filter(function(d){return d.isLoop()})):w.merge(N)})}),o.push(w)},l=function h(p,v,g){p===g&&(i+=1),r[v]={id:n,low:n++,cutVertex:!1};var m=e.getElementById(v).connectedEdges().intersection(e);if(m.size()===0)o.push(e.spawn(e.getElementById(v)));else{var w,b,T,x;m.forEach(function(L){w=L.source().id(),b=L.target().id(),T=w===v?b:w,T!==g&&(x=L.id(),s[x]||(s[x]=!0,a.push({x:v,y:T,edge:L})),T in r?r[v].low=Math.min(r[v].low,r[T].id):(h(p,T,v),r[v].low=Math.min(r[v].low,r[T].low),r[v].id<=r[T].low&&(r[v].cutVertex=!0,u(v,T))))})}};e.forEach(function(h){if(h.isNode()){var p=h.id();p in r||(i=0,l(p,p),r[p].cutVertex=i>1)}});var f=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(f),components:o}},Nm={hopcroftTarjanBiconnected:gi,htbc:gi,htb:gi,hopcroftTarjanBiconnectedComponents:gi},pi=function(){var e=this,r={},n=0,i=[],o=[],a=e.spawn(e),s=function u(l){o.push(l),r[l]={index:n,low:n++,explored:!1};var f=e.getElementById(l).connectedEdges().intersection(e);if(f.forEach(function(m){var w=m.target().id();w!==l&&(w in r||u(w),r[w].explored||(r[l].low=Math.min(r[l].low,r[w].low)))}),r[l].index===r[l].low){for(var h=e.spawn();;){var p=o.pop();if(h.merge(e.getElementById(p)),r[p].low=r[l].index,r[p].explored=!0,p===l)break}var v=h.edgesWith(h),g=h.merge(v);i.push(g),a=a.difference(g)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||s(l)}}),{cut:a,components:i}},Mm={tarjanStronglyConnected:pi,tsc:pi,tscc:pi,tarjanStronglyConnectedComponents:pi},jl={};[Ra,oy,sy,ly,cy,vy,py,qy,Vn,Un,Vo,em,vm,bm,Sm,Am,Nm,Mm].forEach(function(t){We(jl,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Jl=0,ef=1,tf=2,$r=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Jl,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};$r.prototype={fulfill:function(e){return Nu(this,ef,"fulfillValue",e)},reject:function(e){return Nu(this,tf,"rejectReason",e)},then:function(e,r){var n=this,i=new $r;return n.onFulfilled.push(Ou(e,i,"fulfill")),n.onRejected.push(Ou(r,i,"reject")),rf(n),i.proxy}};var Nu=function(e,r,n,i){return e.state===Jl&&(e.state=r,e[n]=i,rf(e)),e},rf=function(e){e.state===ef?Mu(e,"onFulfilled",e.fulfillValue):e.state===tf&&Mu(e,"onRejected",e.rejectReason)},Mu=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var o=function(){for(var s=0;s<i.length;s++)i[s](n)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},Ou=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var o;try{o=e(i)}catch(a){r.reject(a);return}Om(r,o)}}},Om=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(kt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(o){e.reject(o);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(o){i||(i=!0,o===r?e.reject(new TypeError("circular thenable chain")):t(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(r)};$r.all=function(t){return new $r(function(e,r){for(var n=new Array(t.length),i=0,o=function(u,l){n[u]=l,i++,i===t.length&&e(n)},a=0;a<t.length;a++)(function(s){var u=t[s],l=u!=null&&u.then!=null;if(l)u.then(function(h){o(s,h)},function(h){r(h)});else{var f=u;o(s,f)}})(a)})};$r.resolve=function(t){return new $r(function(e,r){e(t)})};$r.reject=function(t){return new $r(function(e,r){r(t)})};var Jn=typeof Promise<"u"?Promise:$r,Uo=function(e,r,n){var i=us(e),o=!i,a=this._private=We({duration:1e3},r,n);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&Ct(a.complete)&&a.completes.push(a.complete),o){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(i){var u=e.pan();a.startPan={x:u.x,y:u.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},Tn=Uo.prototype;We(Tn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),dr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,f){var h=e[l];h!=null&&(e[l]=e[f],e[f]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],a=o.name,s=e.startStyle[a];e.startStyle[a]=o,e.style[i]=s}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Jn(function(i,o){n.push(function(){i()})})}});Tn.complete=Tn.completed;Tn.run=Tn.play;Tn.running=Tn.playing;var Im={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return!1;var a=i[0];if(a)return a._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){var s=i[a];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this,u=!o,l=!u;if(!s.styleEnabled())return this;var f=s.style();r=We({},r,n);var h=Object.keys(r).length===0;if(h)return new Uo(a[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var p=r.renderedPosition,v=s.pan(),g=s.zoom();r.position=Hl(p,g,v)}if(u&&r.panBy!=null){var m=r.panBy,w=s.pan();r.pan={x:w.x+m.x,y:w.y+m.y}}var b=r.center||r.centre;if(u&&b!=null){var T=s.getCenterPan(b.eles,r.zoom);T!=null&&(r.pan=T)}if(u&&r.fit!=null){var x=r.fit,L=s.getFitViewport(x.eles||x.boundingBox,x.padding);L!=null&&(r.pan=L.pan,r.zoom=L.zoom)}if(u&&it(r.zoom)){var N=s.getZoomedViewport(r.zoom);N!=null?(N.zoomed&&(r.zoom=N.zoom),N.panned&&(r.pan=N.pan)):r.zoom=null}return new Uo(a[0],r)}},animate:function(){return function(r,n){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=We({},r,n));for(var u=0;u<a.length;u++){var l=a[u],f=l.animated()&&(r.queue===void 0||r.queue),h=l.animation(r,f?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<a.length;u++){for(var l=a[u],f=l._private,h=f.animation.current,p=0;p<h.length;p++){var v=h[p],g=v._private;n&&(g.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}},km={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=We({},r,e),function(i,o){var a=e,s=this,u=s.length!==void 0,l=u?s:[s],f=u?s[0]:s;if(qe(i)){var h=i.indexOf(".")!==-1,p=h&&mp.default(i);if(a.allowGetting&&o===void 0){var v;return f&&(a.beforeGet(f),p&&f._private[a.field][i]===void 0?v=pp.default(f._private[a.field],p):v=f._private[a.field][i]),v}else if(a.allowSetting&&o!==void 0){var g=!a.immutableKeys[i];if(g){var m=Cl({},i,o);a.beforeSet(s,m);for(var w=0,b=l.length;w<b;w++){var T=l[w];a.canSet(T)&&(p&&f._private[a.field][i]===void 0?yp.default(T._private[a.field],p,o):T._private[a.field][i]=o)}a.updateStyle&&s.updateStyle(),a.onSet(s),a.settingTriggersEvent&&s[a.triggerFnName](a.settingEvent)}}}else if(a.allowSetting&&it(i)){var x=i,L,N,d=Object.keys(x);a.beforeSet(s,x);for(var C=0;C<d.length;C++){L=d[C],N=x[L];var A=!a.immutableKeys[L];if(A)for(var S=0;S<l.length;S++){var M=l[S];a.canSet(M)&&(M._private[a.field][L]=N)}}a.updateStyle&&s.updateStyle(),a.onSet(s),a.settingTriggersEvent&&s[a.triggerFnName](a.settingEvent)}else if(a.allowBinding&&Ct(i)){var k=i;s.on(a.bindingEvent,k)}else if(a.allowGetting&&i===void 0){var R;return f&&(a.beforeGet(f),R=f._private[a.field]),R}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=We({},r,e),function(i){var o=e,a=this,s=a.length!==void 0,u=s?a:[a];if(qe(i)){for(var l=i.split(/\s+/),f=l.length,h=0;h<f;h++){var p=l[h];if(!rn(p)){var v=!o.immutableKeys[p];if(v)for(var g=0,m=u.length;g<m;g++)u[g]._private[o.field][p]=void 0}}o.triggerEvent&&a[o.triggerFnName](o.event)}else if(i===void 0){for(var w=0,b=u.length;w<b;w++)for(var T=u[w]._private[o.field],x=Object.keys(T),L=0;L<x.length;L++){var N=x[L],d=!o.immutableKeys[N];d&&(T[N]=void 0)}o.triggerEvent&&a[o.triggerFnName](o.event)}return a}}},Rm={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var o=this,a=Array.prototype.slice.call(arguments,0);return new Jn(function(s,u){var l=function(v){o.off.apply(o,h),s(v)},f=a.concat([l]),h=f.concat([]);o.on.apply(o,f)})}}},lt={};[Im,km,Rm].forEach(function(t){We(lt,t)});var Pm={animate:lt.animate(),animation:lt.animation(),animated:lt.animated(),clearQueue:lt.clearQueue(),delay:lt.delay(),delayAnimation:lt.delayAnimation(),stop:lt.stop()},Ti={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(g){return n.push(g)}),n}else gt(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new jn(e),a=0;a<r.length;a++){for(var s=r[a],u=s._private,l=u.classes,f=!1,h=0;h<e.length;h++){var p=e[h],v=l.has(p);if(!v){f=!0;break}}f||(f=l.size!==e.length),f&&(u.classes=o,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){gt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,o=[],a=0,s=n.length;a<s;a++)for(var u=n[a],l=u._private.classes,f=!1,h=0;h<e.length;h++){var p=e[h],v=l.has(p),g=!1;r||i&&!v?(l.add(p),g=!0):(!r||i&&v)&&(l.delete(p),g=!0),!f&&g&&(o.push(u),f=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Ti.className=Ti.classNames=Ti.classes;var at={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:It,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};at.variable="(?:[\\w-.]|(?:\\\\"+at.metaChar+"))+";at.className="(?:[\\w-]|(?:\\\\"+at.metaChar+"))+";at.value=at.string+"|"+at.number;at.id=at.variable;(function(){var t,e,r;for(t=at.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],at.comparatorOp+="|@"+e;for(t=at.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(at.comparatorOp+="|\\!"+e)})();var ht=function(){return{checks:[]}},Re={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Yo=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return Gp(t.selector,e.selector)}),Bm=function(){for(var t={},e,r=0;r<Yo.length;r++)e=Yo[r],t[e.selector]=e.matches;return t}(),Fm=function(e,r){return Bm[e](r)},zm="("+Yo.map(function(t){return t.selector}).join("|")+")",Rn=function(e){return e.replace(new RegExp("\\\\("+at.metaChar+")","g"),function(r,n){return n})},Zr=function(e,r,n){e[e.length-1]=n},Xo=[{name:"group",query:!0,regex:"("+at.group+")",populate:function(e,r,n){var i=zr(n,1),o=i[0];r.checks.push({type:Re.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:zm,populate:function(e,r,n){var i=zr(n,1),o=i[0];r.checks.push({type:Re.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+at.id+")",populate:function(e,r,n){var i=zr(n,1),o=i[0];r.checks.push({type:Re.ID,value:Rn(o)})}},{name:"className",query:!0,regex:"\\.("+at.className+")",populate:function(e,r,n){var i=zr(n,1),o=i[0];r.checks.push({type:Re.CLASS,value:Rn(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+at.variable+")\\s*\\]",populate:function(e,r,n){var i=zr(n,1),o=i[0];r.checks.push({type:Re.DATA_EXIST,field:Rn(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+at.variable+")\\s*("+at.comparatorOp+")\\s*("+at.value+")\\s*\\]",populate:function(e,r,n){var i=zr(n,3),o=i[0],a=i[1],s=i[2],u=new RegExp("^"+at.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:Re.DATA_COMPARE,field:Rn(o),operator:a,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+at.boolOp+")\\s*("+at.variable+")\\s*\\]",populate:function(e,r,n){var i=zr(n,2),o=i[0],a=i[1];r.checks.push({type:Re.DATA_BOOL,field:Rn(a),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+at.meta+")\\s*("+at.comparatorOp+")\\s*("+at.number+")\\s*\\]\\]",populate:function(e,r,n){var i=zr(n,3),o=i[0],a=i[1],s=i[2];r.checks.push({type:Re.META_COMPARE,field:Rn(o),operator:a,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:at.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,o=e.compoundCount,a=e[e.length-1];n!=null&&(a.subject=n,e.currentSubject=null),a.edgeCount=i,a.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=ht();return s}},{name:"directedEdge",separator:!0,regex:at.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ht(),i=r,o=ht();return n.checks.push({type:Re.DIRECTED_EDGE,source:i,target:o}),Zr(e,r,n),e.edgeCount++,o}else{var a=ht(),s=r,u=ht();return a.checks.push({type:Re.NODE_SOURCE,source:s,target:u}),Zr(e,r,a),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:at.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ht(),i=r,o=ht();return n.checks.push({type:Re.UNDIRECTED_EDGE,nodes:[i,o]}),Zr(e,r,n),e.edgeCount++,o}else{var a=ht(),s=r,u=ht();return a.checks.push({type:Re.NODE_NEIGHBOR,node:s,neighbor:u}),Zr(e,r,a),u}}},{name:"child",separator:!0,regex:at.child,populate:function(e,r){if(e.currentSubject==null){var n=ht(),i=ht(),o=e[e.length-1];return n.checks.push({type:Re.CHILD,parent:o,child:i}),Zr(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var a=ht(),s=e[e.length-1],u=ht(),l=ht(),f=ht(),h=ht();return a.checks.push({type:Re.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:Re.TRUE}],h.checks.push({type:Re.TRUE}),u.checks.push({type:Re.PARENT,parent:h,child:f}),Zr(e,s,a),e.currentSubject=l,e.compoundCount++,f}else{var p=ht(),v=ht(),g=[{type:Re.PARENT,parent:p,child:v}];return p.checks=r.checks,r.checks=g,e.compoundCount++,v}}},{name:"descendant",separator:!0,regex:at.descendant,populate:function(e,r){if(e.currentSubject==null){var n=ht(),i=ht(),o=e[e.length-1];return n.checks.push({type:Re.DESCENDANT,ancestor:o,descendant:i}),Zr(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var a=ht(),s=e[e.length-1],u=ht(),l=ht(),f=ht(),h=ht();return a.checks.push({type:Re.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:Re.TRUE}],h.checks.push({type:Re.TRUE}),u.checks.push({type:Re.ANCESTOR,ancestor:h,descendant:f}),Zr(e,s,a),e.currentSubject=l,e.compoundCount++,f}else{var p=ht(),v=ht(),g=[{type:Re.ANCESTOR,ancestor:p,descendant:v}];return p.checks=r.checks,r.checks=g,e.compoundCount++,v}}},{name:"subject",modifier:!0,regex:at.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ft("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],o=i==null?null:i.type;o===Re.DIRECTED_EDGE?i.type=Re.NODE_TARGET:o===Re.UNDIRECTED_EDGE&&(i.type=Re.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Xo.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var Gm=function(e){for(var r,n,i,o=0;o<Xo.length;o++){var a=Xo[o],s=a.name,u=e.match(a.regexObj);if(u!=null){n=u,r=a,i=s;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:i,remaining:e}},Hm=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},qm=function(e){var r=this,n=r.inputText=e,i=r[0]=ht();for(r.length=1,n=Hm(n);;){var o=Gm(n);if(o.expr==null)return ft("The selector `"+e+"`is invalid"),!1;var a=o.match.slice(1),s=o.expr.populate(r,i,a);if(s===!1)return!1;if(s!=null&&(i=s),n=o.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var f=r[l];if(f.compoundCount>0&&f.edgeCount>0)return ft("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return ft("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&ft("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},$m=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(f){return f??""},r=function(f){return qe(f)?'"'+f+'"':e(f)},n=function(f){return" "+f+" "},i=function(f,h){var p=f.type,v=f.value;switch(p){case Re.GROUP:{var g=e(v);return g.substring(0,g.length-1)}case Re.DATA_COMPARE:{var m=f.field,w=f.operator;return"["+m+n(e(w))+r(v)+"]"}case Re.DATA_BOOL:{var b=f.operator,T=f.field;return"["+e(b)+T+"]"}case Re.DATA_EXIST:{var x=f.field;return"["+x+"]"}case Re.META_COMPARE:{var L=f.operator,N=f.field;return"[["+N+n(e(L))+r(v)+"]]"}case Re.STATE:return v;case Re.ID:return"#"+v;case Re.CLASS:return"."+v;case Re.PARENT:case Re.CHILD:return o(f.parent,h)+n(">")+o(f.child,h);case Re.ANCESTOR:case Re.DESCENDANT:return o(f.ancestor,h)+" "+o(f.descendant,h);case Re.COMPOUND_SPLIT:{var d=o(f.left,h),C=o(f.subject,h),A=o(f.right,h);return d+(d.length>0?" ":"")+C+A}case Re.TRUE:return""}},o=function(f,h){return f.checks.reduce(function(p,v,g){return p+(h===f&&g===0?"$":"")+i(v,h)},"")},a="",s=0;s<this.length;s++){var u=this[s];a+=o(u,u.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},Vm={parse:qm,toString:$m},nf=function(e,r,n){var i,o=qe(e),a=Me(e),s=qe(n),u,l,f=!1,h=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(o||s||f)&&(u=!o&&!a?"":""+e,l=""+n),f&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":i=u.indexOf(l)>=0;break;case"$=":i=u.indexOf(l,u.length-l.length)>=0;break;case"^=":i=u.indexOf(l)===0;break;case"=":i=e===n;break;case">":p=!0,i=e>n;break;case">=":p=!0,i=e>=n;break;case"<":p=!0,i=e<n;break;case"<=":p=!0,i=e<=n;break;default:i=!1;break}return h&&(e!=null||!p)&&(i=!i),i},Um=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},Ym=function(e){return e!==void 0},ys=function(e,r){return e.data(r)},Xm=function(e,r){return e[r]()},St=[],bt=function(e,r){return e.checks.every(function(n){return St[n.type](n,r)})};St[Re.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};St[Re.STATE]=function(t,e){var r=t.value;return Fm(r,e)};St[Re.ID]=function(t,e){var r=t.value;return e.id()===r};St[Re.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};St[Re.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return nf(Xm(e,r),n,i)};St[Re.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return nf(ys(e,r),n,i)};St[Re.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Um(ys(e,r),n)};St[Re.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,Ym(ys(e,r))};St[Re.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),o=e.target();return bt(r,i)&&bt(n,o)||bt(n,i)&&bt(r,o)};St[Re.NODE_NEIGHBOR]=function(t,e){return bt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&bt(t.neighbor,r)})};St[Re.DIRECTED_EDGE]=function(t,e){return bt(t.source,e.source())&&bt(t.target,e.target())};St[Re.NODE_SOURCE]=function(t,e){return bt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&bt(t.target,r)})};St[Re.NODE_TARGET]=function(t,e){return bt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&bt(t.source,r)})};St[Re.CHILD]=function(t,e){return bt(t.child,e)&&bt(t.parent,e.parent())};St[Re.PARENT]=function(t,e){return bt(t.parent,e)&&e.children().some(function(r){return bt(t.child,r)})};St[Re.DESCENDANT]=function(t,e){return bt(t.descendant,e)&&e.ancestors().some(function(r){return bt(t.ancestor,r)})};St[Re.ANCESTOR]=function(t,e){return bt(t.ancestor,e)&&e.descendants().some(function(r){return bt(t.descendant,r)})};St[Re.COMPOUND_SPLIT]=function(t,e){return bt(t.subject,e)&&bt(t.left,e)&&bt(t.right,e)};St[Re.TRUE]=function(){return!0};St[Re.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};St[Re.FILTER]=function(t,e){var r=t.value;return r(e)};var Wm=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Re.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(o){for(var a=0;a<r.length;a++){var s=r[a];if(bt(s,o))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},_m=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(bt(i,e))return!0}return!1},Km={matches:_m,filter:Wm},an=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||qe(e)&&e.match(/^\s*$/)||(dr(e)?this.addQuery({checks:[{type:Re.COLLECTION,value:e.collection()}]}):Ct(e)?this.addQuery({checks:[{type:Re.FILTER,value:e}]}):qe(e)?this.parse(e)||(this.invalid=!0):Dt("A selector must be created from a string; found "))},on=an.prototype;[Vm,Km].forEach(function(t){return We(on,t)});on.text=function(){return this.inputText};on.size=function(){return this.length};on.eq=function(t){return this[t]};on.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};on.addQuery=function(t){this[this.length++]=t};on.selector=on.toString;var en={allAre:function(e){var r=new an(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new an(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};en.allAreNeighbours=en.allAreNeighbors;en.has=en.contains;en.equal=en.equals=en.same;var wr=function(e,r){return function(i,o,a,s){var u=i,l=this,f;if(u==null?f="":dr(u)&&u.length===1&&(f=u.id()),l.length===1&&f){var h=l[0]._private,p=h.traversalCache=h.traversalCache||{},v=p[r]=p[r]||[],g=En(f),m=v[g];return m||(v[g]=e.call(l,i,o,a,s))}else return e.call(l,i,o,a,s)}},_n={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var o=this[i],a=o._private.parent;a&&r.push(a)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var o=n[i];r.push(o)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],o=i.parents();r=r||o,r=r.intersect(o)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:wr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var o=0;o<i.length;o++){var a=i[o];r.push(a),a.children().nonempty()&&n(a.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function ms(t,e,r,n){for(var i=[],o=new jn,a=t.cy(),s=a.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?i.push(l):s&&n(i,o,l)}for(;i.length>0;){var f=i.shift();e(f),o.add(f.id()),s&&n(i,o,f)}return t}function af(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var o=n[i];e.has(o.id())||t.push(o)}}_n.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ms(this,t,e,af)};function of(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}_n.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ms(this,t,e,of)};function Zm(t,e,r){of(t,e,r),af(t,e,r)}_n.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ms(this,t,e,Zm)};_n.ancestors=_n.parents;var Fa,sf;Fa=sf={data:lt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:lt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:lt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:lt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:lt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:lt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Fa.attr=Fa.data;Fa.removeAttr=Fa.removeData;var Qm=sf,Qi={};function ko(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!e&&s.isLoop()||(n+=t(i,s))}return n}else return}}We(Qi,{degree:ko(function(t,e){return e.source().same(e.target())?2:1}),indegree:ko(function(t,e){return e.target().same(t)?1:0}),outdegree:ko(function(t,e){return e.source().same(t)?1:0})});function Pn(t,e){return function(r){for(var n,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[t](r);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}We(Qi,{minDegree:Pn("degree",function(t,e){return t<e}),maxDegree:Pn("degree",function(t,e){return t>e}),minIndegree:Pn("indegree",function(t,e){return t<e}),maxIndegree:Pn("indegree",function(t,e){return t>e}),minOutdegree:Pn("outdegree",function(t,e){return t<e}),maxOutdegree:Pn("outdegree",function(t,e){return t>e})});We(Qi,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var Ar,uf,lf=function(e,r,n){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var a=o._private.position,s={x:r.x!=null?r.x-a.x:0,y:r.y!=null?r.y-a.y:0};o.isParent()&&!(s.x===0&&s.y===0)&&o.children().shift(s,n),o.dirtyBoundingBoxCache()}}},Iu={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){lf(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Ar=uf={position:lt.data(Iu),silentPosition:lt.data(We({},Iu,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){lf(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(it(e))r?this.silentPosition(e):this.position(e);else if(Ct(e)){var n=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=void 0;(s=n(a,o))&&(r?a.silentPosition(s):a.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(it(e)?(i={x:Me(e.x)?e.x:0,y:Me(e.y)?e.y:0},n=r):qe(e)&&Me(r)&&(i={x:0,y:0},i[e]=r),i!=null){var o=this.cy();o.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(o.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+i.x,y:u.y+i.y};n?s.silentPosition(l):s.position(l)}}o.endBatch()}return this},silentShift:function(e,r){return it(e)?this.shift(e,!0):qe(e)&&Me(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),o=i.zoom(),a=i.pan(),s=it(e)?e:void 0,u=s!==void 0||r!==void 0&&qe(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var f=this[l];r!==void 0?f.position(e,(r-a[e])/o):s!==void 0&&f.position(Hl(s,o,a))}else{var h=n.position();return s=Ki(h,o,a),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),o=it(e)?e:void 0,a=o!==void 0||r!==void 0&&qe(e),s=i.hasCompoundNodes();if(n&&n.isNode())if(a)for(var u=0;u<this.length;u++){var l=this[u],f=s?l.parent():null,h=f&&f.length>0,p=h;h&&(f=f[0]);var v=p?f.position():{x:0,y:0};r!==void 0?l.position(e,r+v[e]):o!==void 0&&l.position({x:o.x+v.x,y:o.y+v.y})}else{var g=n.position(),m=s?n.parent():null,w=m&&m.length>0,b=w;w&&(m=m[0]);var T=b?m.position():{x:0,y:0};return o={x:g.x-T.x,y:g.y-T.y},e===void 0?o:o[e]}else if(!a)return;return this}};Ar.modelPosition=Ar.point=Ar.position;Ar.modelPositions=Ar.points=Ar.positions;Ar.renderedPoint=Ar.renderedPosition;Ar.relativePoint=Ar.relativePosition;var jm=uf,Yn,un;Yn=un={};un.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),o=e.x1*n+i.x,a=e.x2*n+i.x,s=e.y1*n+i.y,u=e.y2*n+i.y;return{x1:o,x2:a,y1:s,y2:u,w:a-o,h:u-s}};un.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};un.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(a){if(!a.isParent())return;var s=a._private,u=a.children(),l=a.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:a.pstyle("min-width").pfValue,left:a.pstyle("min-width-bias-left"),right:a.pstyle("min-width-bias-right")},height:{val:a.pstyle("min-height").pfValue,top:a.pstyle("min-height-bias-top"),bottom:a.pstyle("min-height-bias-bottom")}},h=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),p=s.position;(h.w===0||h.h===0)&&(h={w:a.pstyle("width").pfValue,h:a.pstyle("height").pfValue},h.x1=p.x-h.w/2,h.x2=p.x+h.w/2,h.y1=p.y-h.h/2,h.y2=p.y+h.h/2);function v(S,M,k){var R=0,G=0,P=M+k;return S>0&&P>0&&(R=M/P*S,G=k/P*S),{biasDiff:R,biasComplementDiff:G}}function g(S,M,k,R){if(k.units==="%")switch(R){case"width":return S>0?k.pfValue*S:0;case"height":return M>0?k.pfValue*M:0;case"average":return S>0&&M>0?k.pfValue*(S+M)/2:0;case"min":return S>0&&M>0?S>M?k.pfValue*M:k.pfValue*S:0;case"max":return S>0&&M>0?S>M?k.pfValue*S:k.pfValue*M:0;default:return 0}else return k.units==="px"?k.pfValue:0}var m=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(m=m*100/f.width.val);var w=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(w=w*100/f.width.val);var b=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(b=b*100/f.height.val);var T=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(T=T*100/f.height.val);var x=v(f.width.val-h.w,m,w),L=x.biasDiff,N=x.biasComplementDiff,d=v(f.height.val-h.h,b,T),C=d.biasDiff,A=d.biasComplementDiff;s.autoPadding=g(h.w,h.h,a.pstyle("padding"),a.pstyle("padding-relative-to").value),s.autoWidth=Math.max(h.w,f.width.val),p.x=(-L+h.x1+h.x2+N)/2,s.autoHeight=Math.max(h.h,f.height.val),p.y=(-C+h.y1+h.y2+A)/2}for(var n=0;n<this.length;n++){var i=this[n],o=i._private;(!o.compoundBoundsClean||t)&&(r(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var br=function(e){return e===1/0||e===-1/0?0:e},Sr=function(e,r,n,i,o){i-r===0||o-n===0||r==null||n==null||i==null||o==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},bn=function(e,r){return r==null?e:Sr(e,r.x1,r.y1,r.x2,r.y2)},Ea=function(e,r,n){return Lr(e,r,n)},yi=function(e,r,n){if(!r.cy().headless()){var i=r._private,o=i.rstyle,a=o.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=o.srcX,l=o.srcY):n==="target"?(u=o.tgtX,l=o.tgtY):(u=o.midX,l=o.midY);var f=i.arrowBounds=i.arrowBounds||{},h=f[n]=f[n]||{};h.x1=u-a,h.y1=l-a,h.x2=u+a,h.y2=l+a,h.w=h.x2-h.x1,h.h=h.y2-h.y1,xi(h,1),Sr(e,h.x1,h.y1,h.x2,h.y2)}}},Ro=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var o=r._private,a=o.rstyle,s=r.pstyle(i+"label").strValue;if(s){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),f=Ea(a,"labelWidth",n),h=Ea(a,"labelHeight",n),p=Ea(a,"labelX",n),v=Ea(a,"labelY",n),g=r.pstyle(i+"text-margin-x").pfValue,m=r.pstyle(i+"text-margin-y").pfValue,w=r.isEdge(),b=r.pstyle(i+"text-rotation"),T=r.pstyle("text-outline-width").pfValue,x=r.pstyle("text-border-width").pfValue,L=x/2,N=r.pstyle("text-background-padding").pfValue,d=2,C=h,A=f,S=A/2,M=C/2,k,R,G,P;if(w)k=p-S,R=p+S,G=v-M,P=v+M;else{switch(u.value){case"left":k=p-A,R=p;break;case"center":k=p-S,R=p+S;break;case"right":k=p,R=p+A;break}switch(l.value){case"top":G=v-C,P=v;break;case"center":G=v-M,P=v+M;break;case"bottom":G=v,P=v+C;break}}k+=g-Math.max(T,L)-N-d,R+=g+Math.max(T,L)+N+d,G+=m-Math.max(T,L)-N-d,P+=m+Math.max(T,L)+N+d;var Y=n||"main",H=o.labelBounds,U=H[Y]=H[Y]||{};U.x1=k,U.y1=G,U.x2=R,U.y2=P,U.w=R-k,U.h=P-G;var W=w&&b.strValue==="autorotate",_=b.pfValue!=null&&b.pfValue!==0;if(W||_){var j=W?Ea(o.rstyle,"labelAngle",n):b.pfValue,K=Math.cos(j),te=Math.sin(j),ie=(k+R)/2,oe=(G+P)/2;if(!w){switch(u.value){case"left":ie=R;break;case"right":ie=k;break}switch(l.value){case"top":oe=P;break;case"bottom":oe=G;break}}var ue=function(Fe,Le){return Fe=Fe-ie,Le=Le-oe,{x:Fe*K-Le*te+ie,y:Fe*te+Le*K+oe}},le=ue(k,G),Q=ue(k,P),de=ue(R,G),ce=ue(R,P);k=Math.min(le.x,Q.x,de.x,ce.x),R=Math.max(le.x,Q.x,de.x,ce.x),G=Math.min(le.y,Q.y,de.y,ce.y),P=Math.max(le.y,Q.y,de.y,ce.y)}var De=Y+"Rot",Se=H[De]=H[De]||{};Se.x1=k,Se.y1=G,Se.x2=R,Se.y2=P,Se.w=R-k,Se.h=P-G,Sr(e,k,G,R,P),Sr(o.labelBounds.all,k,G,R,P)}return e}},Jm=function(e,r){var n=e._private.cy,i=n.styleEnabled(),o=n.headless(),a=lr(),s=e._private,u=e.isNode(),l=e.isEdge(),f,h,p,v,g,m,w=s.rstyle,b=u&&i?e.pstyle("bounds-expansion").pfValue:[0],T=function(re){return re.pstyle("display").value!=="none"},x=!i||T(e)&&(!l||T(e.source())&&T(e.target()));if(x){var L=0,N=0;i&&r.includeOverlays&&(L=e.pstyle("overlay-opacity").value,L!==0&&(N=e.pstyle("overlay-padding").value));var d=0,C=0;i&&r.includeUnderlays&&(d=e.pstyle("underlay-opacity").value,d!==0&&(C=e.pstyle("underlay-padding").value));var A=Math.max(N,C),S=0,M=0;if(i&&(S=e.pstyle("width").pfValue,M=S/2),u&&r.includeNodes){var k=e.position();g=k.x,m=k.y;var R=e.outerWidth(),G=R/2,P=e.outerHeight(),Y=P/2;f=g-G,h=g+G,p=m-Y,v=m+Y,Sr(a,f,p,h,v)}else if(l&&r.includeEdges)if(i&&!o){var H=e.pstyle("curve-style").strValue;if(f=Math.min(w.srcX,w.midX,w.tgtX),h=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),v=Math.max(w.srcY,w.midY,w.tgtY),f-=M,h+=M,p-=M,v+=M,Sr(a,f,p,h,v),H==="haystack"){var U=w.haystackPts;if(U&&U.length===2){if(f=U[0].x,p=U[0].y,h=U[1].x,v=U[1].y,f>h){var W=f;f=h,h=W}if(p>v){var _=p;p=v,v=_}Sr(a,f-M,p-M,h+M,v+M)}}else if(H==="bezier"||H==="unbundled-bezier"||H==="segments"||H==="taxi"){var j;switch(H){case"bezier":case"unbundled-bezier":j=w.bezierPts;break;case"segments":case"taxi":j=w.linePts;break}if(j!=null)for(var K=0;K<j.length;K++){var te=j[K];f=te.x-M,h=te.x+M,p=te.y-M,v=te.y+M,Sr(a,f,p,h,v)}}}else{var ie=e.source(),oe=ie.position(),ue=e.target(),le=ue.position();if(f=oe.x,h=le.x,p=oe.y,v=le.y,f>h){var Q=f;f=h,h=Q}if(p>v){var de=p;p=v,v=de}f-=M,h+=M,p-=M,v+=M,Sr(a,f,p,h,v)}if(i&&r.includeEdges&&l&&(yi(a,e,"mid-source"),yi(a,e,"mid-target"),yi(a,e,"source"),yi(a,e,"target")),i){var ce=e.pstyle("ghost").value==="yes";if(ce){var De=e.pstyle("ghost-offset-x").pfValue,Se=e.pstyle("ghost-offset-y").pfValue;Sr(a,a.x1+De,a.y1+Se,a.x2+De,a.y2+Se)}}var Ve=s.bodyBounds=s.bodyBounds||{};pu(Ve,a),Mo(Ve,b),xi(Ve,1),i&&(f=a.x1,h=a.x2,p=a.y1,v=a.y2,Sr(a,f-A,p-A,h+A,v+A));var Fe=s.overlayBounds=s.overlayBounds||{};pu(Fe,a),Mo(Fe,b),xi(Fe,1);var Le=s.labelBounds=s.labelBounds||{};Le.all!=null?Sy(Le.all):Le.all=lr(),i&&r.includeLabels&&(r.includeMainLabels&&Ro(a,e,null),l&&(r.includeSourceLabels&&Ro(a,e,"source"),r.includeTargetLabels&&Ro(a,e,"target")))}return a.x1=br(a.x1),a.y1=br(a.y1),a.x2=br(a.x2),a.y2=br(a.y2),a.w=br(a.x2-a.x1),a.h=br(a.y2-a.y1),a.w>0&&a.h>0&&x&&(Mo(a,b),xi(a,1)),a},ff=function(e){var r=0,n=function(a){return(a?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i},cf=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(a){return Math.round(a)};return _p([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},ku=function(e,r){var n=e._private,i,o=e.isEdge(),a=r==null?Ru:ff(r),s=a===Ru,u=cf(e),l=n.bbCachePosKey===u,f=r.useCache&&l,h=function(m){return m._private.bbCache==null||m._private.styleDirty},p=!f||h(e)||o&&h(e.source())||h(e.target());if(p?(l||e.recalculateRenderedStyle(f),i=Jm(e,za),n.bbCache=i,n.bbCachePosKey=u):i=n.bbCache,!s){var v=e.isNode();i=lr(),(r.includeNodes&&v||r.includeEdges&&!v)&&(r.includeOverlays?bn(i,n.overlayBounds):bn(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!o||r.includeSourceLabels&&r.includeTargetLabels)?bn(i,n.labelBounds.all):(r.includeMainLabels&&bn(i,n.labelBounds.mainRot),r.includeSourceLabels&&bn(i,n.labelBounds.sourceRot),r.includeTargetLabels&&bn(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},za={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Ru=ff(za),Pu=Vt(za);un.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=za:t=Pu(t),e=ku(this[0],t);else{e=lr(),t=t||za;var r=Pu(t),n=this,i=n.cy(),o=i.styleEnabled();if(o)for(var a=0;a<n.length;a++){var s=n[a],u=s._private,l=cf(s),f=u.bbCachePosKey===l,h=r.useCache&&f&&!u.styleDirty;s.recalculateRenderedStyle(h)}this.updateCompoundBounds(!t.useCache);for(var p=0;p<n.length;p++){var v=n[p];bn(e,ku(v,r))}}return e.x1=br(e.x1),e.y1=br(e.y1),e.x2=br(e.x2),e.y2=br(e.y2),e.w=br(e.x2-e.x1),e.h=br(e.y2-e.y1),e};un.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};un.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(l){return l.isParent()}),e=e.not(i)),it(t)){var o=t;t=function(){return o}}var a=function(f,h){return f._private.bbAtOldPos=t(f,h)},s=function(f){return f._private.bbAtOldPos};r.startBatch(),e.forEach(a).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=Dy(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),u};Yn.boundingbox=Yn.bb=Yn.boundingBox;Yn.renderedBoundingbox=Yn.renderedBoundingBox;var e0=un,La,_a;La=_a={};var hf=function(e){e.uppercaseName=hu(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=hu(e.outerName),La[e.name]=function(){var n=this[0],i=n._private,o=i.cy,a=o._private.styleEnabled;if(n)if(a){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},La["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,o=i.cy,a=o._private.styleEnabled;if(n)if(a){var s=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},La["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},La["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};hf({name:"width"});hf({name:"height"});_a.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};_a.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};_a.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var t0=_a,r0=function(e,r){if(e.isEdge())return r(e)},n0=function(e,r){if(e.isEdge()){var n=e.cy();return Ki(r(e),n.zoom(),n.pan())}},a0=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),o=n.zoom();return r(e).map(function(a){return Ki(a,o,i)})}},i0=function(e){return e.renderer().getControlPoints(e)},o0=function(e){return e.renderer().getSegmentPoints(e)},s0=function(e){return e.renderer().getSourceEndpoint(e)},u0=function(e){return e.renderer().getTargetEndpoint(e)},l0=function(e){return e.renderer().getEdgeMidpoint(e)},Bu={controlPoints:{get:i0,mult:!0},segmentPoints:{get:o0,mult:!0},sourceEndpoint:{get:s0},targetEndpoint:{get:u0},midpoint:{get:l0}},f0=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},c0=Object.keys(Bu).reduce(function(t,e){var r=Bu[e],n=f0(e);return t[e]=function(){return r0(this,r.get)},r.mult?t[n]=function(){return a0(this,r.get)}:t[n]=function(){return n0(this,r.get)},t},{}),h0=We({},jm,e0,t0,c0);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var vf=function(e,r){this.recycle(e,r)};function xa(){return!1}function mi(){return!0}vf.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=xa,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?mi:xa):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*i+o.x,y:n.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=mi;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=mi;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=mi,this.stopPropagation()},isDefaultPrevented:xa,isPropagationStopped:xa,isImmediatePropagationStopped:xa};var df=/^([^.]+)(\.(?:[^.]+))?$/,v0=".*",gf={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Fu=Object.keys(gf),d0={};function ji(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d0,e=arguments.length>1?arguments[1]:void 0,r=0;r<Fu.length;r++){var n=Fu[r];this[n]=t[n]||gf[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var sn=ji.prototype,pf=function(e,r,n,i,o,a,s){Ct(i)&&(o=i,i=null),s&&(a==null?a=s:a=We({},a,s));for(var u=gt(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!rn(f)){var h=f.match(df);if(h){var p=h[1],v=h[2]?h[2]:null,g=r(e,f,p,v,i,o,a);if(g===!1)break}}}},zu=function(e,r){return e.addEventFields(e.context,r),new vf(r.type,r)},g0=function(e,r,n){if(Ap(n)){r(e,n);return}else if(it(n)){r(e,zu(e,n));return}for(var i=gt(n)?n:n.split(/\s+/),o=0;o<i.length;o++){var a=i[o];if(!rn(a)){var s=a.match(df);if(s){var u=s[1],l=s[2]?s[2]:null,f=zu(e,{type:u,namespace:l,target:e.context});r(e,f)}}}};sn.on=sn.addListener=function(t,e,r,n,i){return pf(this,function(o,a,s,u,l,f,h){Ct(f)&&o.listeners.push({event:a,callback:f,type:s,namespace:u,qualifier:l,conf:h})},t,e,r,n,i),this};sn.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};sn.removeListener=sn.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=Jp(this.listeners));for(var o=this.listeners,a=function(l){var f=o[l];pf(i,function(h,p,v,g,m,w){if((f.type===v||t==="*")&&(!g&&f.namespace!==".*"||f.namespace===g)&&(!m||h.qualifierCompare(f.qualifier,m))&&(!w||f.callback===w))return o.splice(l,1),!1},t,e,r,n)},s=o.length-1;s>=0;s--)a(s);return this};sn.removeAllListeners=function(){return this.removeListener("*")};sn.emit=sn.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,gt(e)||(e=[e]),g0(this,function(o,a){r!=null&&(n=[{event:a.event,type:a.type,namespace:a.namespace,callback:r}],i=n.length);for(var s=function(f){var h=n[f];if(h.type===a.type&&(!h.namespace||h.namespace===a.namespace||h.namespace===v0)&&o.eventMatches(o.context,h,a)){var p=[a];e!=null&&ty(p,e),o.beforeEmit(o.context,h,a),h.conf&&h.conf.one&&(o.listeners=o.listeners.filter(function(m){return m!==h}));var v=o.callbackContext(o.context,h,a),g=h.callback.apply(v,p);o.afterEmit(o.context,h,a),g===!1&&(a.stopPropagation(),a.preventDefault())}},u=0;u<i;u++)s(u);o.bubble(o.context)&&!a.isPropagationStopped()&&o.parent(o.context).emit(a,e)},t),this.emitting--,this};var p0={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Xa(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},bi=function(e){return qe(e)?new an(e):e},yf={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new ji(p0,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=bi(r),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=bi(r),o=0;o<this.length;o++){var a=this[o];a.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=bi(r),o=0;o<this.length;o++){var a=this[o];a.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=bi(r),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};lt.eventAliasesOn(yf);var mf={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(qe(e)||dr(e))return new an(e).filter(this);if(Ct(e)){for(var n=this.spawn(),i=this,o=0;o<i.length;o++){var a=i[o],s=r?e.apply(r,[a,o,i]):e(a,o,i);s&&n.push(a)}return n}return this.spawn()},not:function(e){if(e){qe(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],o=e.has(i);o||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(qe(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,o=e,a=this.length<e.length,s=a?i:o,u=a?o:i,l=0;l<s.length;l++){var f=s[l];u.has(f)&&n.push(f)}return n},xor:function(e){var r=this._private.cy;qe(e)&&(e=r.$(e));var n=this.spawn(),i=this,o=e,a=function(u,l){for(var f=0;f<u.length;f++){var h=u[f],p=h._private.data.id,v=l.hasElementWithId(p);v||n.push(h)}};return a(i,o),a(o,i),n},diff:function(e){var r=this._private.cy;qe(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),o=this.spawn(),a=this,s=e,u=function(f,h,p){for(var v=0;v<f.length;v++){var g=f[v],m=g._private.data.id,w=h.hasElementWithId(m);w?o.merge(g):p.push(g)}};return u(a,s,n),u(s,a,i),{left:n,right:i,both:o}},add:function(e){var r=this._private.cy;if(!e)return this;if(qe(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var a=e[o],s=!this.has(a);s&&i.push(a)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&qe(e)){var i=e;e=n.mutableElements().filter(i)}for(var o=r.map,a=0;a<e.length;a++){var s=e[a],u=s._private.data.id,l=!o.has(u);if(l){var f=this.length++;this[f]=s,o.set(u,{ele:s,index:f})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(n);var a=e===this.length-1;if(this.length>1&&!a){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,o.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,o=i.get(n);if(!o)return this;var a=o.index;return this.unmergeAt(a),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&qe(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,o=0;o<i.length;o++){var a=i[o],s=r?e.apply(r,[a,o,i]):e(a,o,i);n.push(s)}return n},reduce:function(e,r){for(var n=r,i=this,o=0;o<i.length;o++)n=e(n,i[o],o,i);return n},max:function(e,r){for(var n=-1/0,i,o=this,a=0;a<o.length;a++){var s=o[a],u=r?e.apply(r,[s,a,o]):e(s,a,o);u>n&&(n=u,i=s)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,o=this,a=0;a<o.length;a++){var s=o[a],u=r?e.apply(r,[s,a,o]):e(s,a,o);u<n&&(n=u,i=s)}return{value:n,ele:i}}},st=mf;st.u=st["|"]=st["+"]=st.union=st.or=st.add;st["\\"]=st["!"]=st["-"]=st.difference=st.relativeComplement=st.subtract=st.not;st.n=st["&"]=st["."]=st.and=st.intersection=st.intersect;st["^"]=st["(+)"]=st["(-)"]=st.symmetricDifference=st.symdiff=st.xor;st.fnFilter=st.filterFn=st.stdFilter=st.filter;st.complement=st.abscomp=st.absoluteComplement;var y0={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},bf=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function o(f){var h=f.pstyle("z-compound-depth");return h.value==="auto"?i?f.zDepth():0:h.value==="bottom"?-1:h.value==="top"?fs:0}var a=o(e)-o(r);if(a!==0)return a;function s(f){var h=f.pstyle("z-index-compare");return h.value==="auto"&&f.isNode()?1:0}var u=s(e)-s(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},ki={forEach:function(e,r){if(Ct(e))for(var n=this.length,i=0;i<n;i++){var o=this[i],a=r?e.apply(r,[o,i,this]):e(o,i,this);if(a===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var o=e;o>=0&&o<r&&o<i;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Ct(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(bf)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:fs-1}else{var o=r.source,a=r.target,s=o.zDepth(),u=a.zDepth();return Math.max(s,u,0)}}}};ki.each=ki.forEach;var m0=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":kt(Symbol))!=e&&kt(Symbol.iterator)!=e;r&&(ki[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},o=0,a=this.length;return Cl({next:function(){return o<a?i.value=n[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};m0();var b0=Vt({nodeDimensionsIncludeLabels:!1}),Ci={layoutDimensions:function(e){e=b0(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(N){return!N.isParent()}),o=this.cy(),a=r.eles,s=function(d){return d.id()},u=Oa(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(d,C,A){var S={x:C.x1+C.w/2,y:C.y1+C.h/2},M={x:(A.x-S.x)*d,y:(A.y-S.y)*d};return{x:S.x+M.x,y:S.y+M.y}},f=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!f)return null;for(var d=lr(),C=0;C<i.length;C++){var A=i[C],S=u(A,C);Ay(d,S.x,S.y)}return d},p=h(),v=Oa(function(N,d){var C=u(N,d);if(f){var A=Math.abs(r.spacingFactor);C=l(A,p,C)}return r.transform!=null&&(C=r.transform(N,C)),C},s);if(r.animate){for(var g=0;g<i.length;g++){var m=i[g],w=v(m,g),b=r.animateFilter==null||r.animateFilter(m,g);if(b){var T=m.animation({position:w,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}else m.position(w)}if(r.fit){var x=o.animation({fit:{boundingBox:a.boundingBoxAt(v),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(x)}else if(r.zoom!==void 0&&r.pan!==void 0){var L=o.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(L)}e.animations.forEach(function(N){return N.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Jn.all(e.animations.map(function(N){return N.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(v),r.fit&&o.fit(r.eles,r.padding),r.zoom!=null&&o.zoom(r.zoom),r.pan&&o.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(We({},e,{eles:this}))}};Ci.createLayout=Ci.makeLayout=Ci.layout;function wf(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],o;return(o=i[t])!=null||(o=i[t]=e(r)),o}function Ji(t,e){return t=En(t),function(n){return wf(t,e,n)}}function eo(t,e){t=En(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return wf(t,r,i)}}var qt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=o;return e?a.emitAndNotify("style"):a.emit("style"),o.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var o=n._private.style[e];return o??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,o=n.style();if(it(e)){var a=e;o.applyBypass(this,a,i),this.emitAndNotify("style")}else if(qe(e))if(r===void 0){var s=this[0];return s?o.getStylePropertyValue(s,e):void 0}else o.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),o=this;if(e===void 0)for(var a=0;a<o.length;a++){var s=o[a];i.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var u=0;u<o.length;u++){var l=o[u];i.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,o=n.pstyle("opacity").value;if(!r)return o;var a=i.data.parent?n.parents():null;if(a)for(var s=0;s<a.length;s++){var u=a[s],l=u.pstyle("opacity").value;o=l*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Po(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var o=n[i];if(!e(o))return!1}return!0}function bs(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],a=i.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!a||Po(o,n);var u=s.source,l=s.target;return r(u)&&(!a||Po(u,r))&&(u===l||r(l)&&(!a||Po(l,r)))}}}var ea=Ji("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});qt.takesUpSpace=eo("takesUpSpace",bs({ok:ea}));var w0=Ji("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&ea(t)}),E0=Ji("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&ea(t)});qt.interactive=eo("interactive",bs({ok:w0,parentOk:E0,edgeOkViaNode:ea}));qt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var x0=Ji("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&ea(t)}),T0=ea;qt.visible=eo("visible",bs({ok:x0,edgeOkViaNode:T0}));qt.hidden=function(){var t=this[0];if(t)return!t.visible()};qt.isBundledBezier=eo("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});qt.bypass=qt.css=qt.style;qt.renderedCss=qt.renderedStyle;qt.removeBypass=qt.removeCss=qt.removeStyle;qt.pstyle=qt.parsedStyle;var tn={};function Gu(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&Ct(e[0])){var o=e[0];this.on(t.event,o)}else if(e.length===0||e.length===1&&gt(e[0])){for(var a=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!t.ableField||u._private[t.ableField],f=u._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(u);if(h!==void 0&&(l=h,!h))return this}l&&(u._private[t.field]=t.value,f&&r.push(u))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),a&&p.emit(a)}return this}}function ta(t){tn[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},tn[t.on]=Gu({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),tn[t.off]=Gu({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}ta({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ta({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ta({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ta({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});tn.deselect=tn.unselect;tn.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};ta({field:"active",on:"activate",off:"unactivate"});ta({field:"pannable",on:"panify",off:"unpanify"});tn.inactive=function(){var t=this[0];if(t)return!t._private.active};var _t={},Hu=function(e){return function(n){for(var i=this,o=[],a=0;a<i.length;a++){var s=i[a];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),f=0;f<l.length;f++){var h=l[f],p=h.source(),v=h.target();if(e.noIncomingEdges&&v===s&&p!==s||e.noOutgoingEdges&&p===s&&v!==s){u=!0;break}}u||o.push(s)}}return this.spawn(o,!0).filter(n)}},qu=function(e){return function(r){for(var n=this,i=[],o=0;o<n.length;o++){var a=n[o];if(a.isNode())for(var s=a.connectedEdges(),u=0;u<s.length;u++){var l=s[u],f=l.source(),h=l.target();e.outgoing&&f===a?(i.push(l),i.push(h)):e.incoming&&h===a&&(i.push(l),i.push(f))}}return this.spawn(i,!0).filter(r)}},$u=function(e){return function(r){for(var n=this,i=[],o={};;){var a=e.outgoing?n.outgoers():n.incomers();if(a.length===0)break;for(var s=!1,u=0;u<a.length;u++){var l=a[u],f=l.id();o[f]||(o[f]=!0,i.push(l),s=!0)}if(!s)break;n=a}return this.spawn(i,!0).filter(r)}};_t.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};We(_t,{roots:Hu({noIncomingEdges:!0}),leaves:Hu({noOutgoingEdges:!0}),outgoers:wr(qu({outgoing:!0}),"outgoers"),successors:$u({outgoing:!0}),incomers:wr(qu({incoming:!0}),"incomers"),predecessors:$u({incoming:!0})});We(_t,{neighborhood:wr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],u=s.source(),l=s.target(),f=i===u?l:u;f.length>0&&e.push(f[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});_t.neighbourhood=_t.neighborhood;_t.closedNeighbourhood=_t.closedNeighborhood;_t.openNeighbourhood=_t.openNeighborhood;We(_t,{source:wr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:wr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Vu({attr:"source"}),targets:Vu({attr:"target"})});function Vu(t){return function(r){for(var n=[],i=0;i<this.length;i++){var o=this[i],a=o._private[t.attr];a&&n.push(a)}return this.spawn(n,!0).filter(r)}}We(_t,{edgesWith:wr(Uu(),"edgesWith"),edgesTo:wr(Uu({thisIsSrc:!0}),"edgesTo")});function Uu(t){return function(r){var n=[],i=this._private.cy,o=t||{};qe(r)&&(r=i.$(r));for(var a=0;a<r.length;a++)for(var s=r[a]._private.edges,u=0;u<s.length;u++){var l=s[u],f=l._private.data,h=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),p=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),v=h||p;v&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!h||o.thisIsTgt&&!p)||n.push(l))}return this.spawn(n,!0)}}We(_t,{connectedEdges:wr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var o=i._private.edges,a=0;a<o.length;a++){var s=o[a];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:wr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:wr(Yu(),"parallelEdges"),codirectedEdges:wr(Yu({codirected:!0}),"codirectedEdges")});function Yu(t){var e={codirected:!1};return t=We({},e,t),function(n){for(var i=[],o=this.edges(),a=t,s=0;s<o.length;s++)for(var u=o[s],l=u._private,f=l.source,h=f._private.data.id,p=l.data.target,v=f._private.edges,g=0;g<v.length;g++){var m=v[g],w=m._private.data,b=w.target,T=w.source,x=b===p&&T===h,L=h===b&&p===T;(a.codirected&&x||!a.codirected&&(x||L))&&i.push(m)}return this.spawn(i,!0).filter(n)}}We(_t,{components:function(e){var r=this,n=r.cy(),i=n.collection(),o=e==null?r.nodes():e.nodes(),a=[];e!=null&&o.empty()&&(o=e.sources());var s=function(f,h){i.merge(f),o.unmerge(f),h.merge(f)};if(o.empty())return r.spawn();var u=function(){var f=n.collection();a.push(f);var h=o[0];s(h,f),r.bfs({directed:!1,roots:h,visit:function(v){return s(v,f)}}),f.forEach(function(p){p.connectedEdges().forEach(function(v){r.has(v)&&f.has(v.source())&&f.has(v.target())&&f.merge(v)})})};do u();while(o.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});_t.componentsOf=_t.components;var $t=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Dt("A collection must have a reference to the core");return}var o=new Or,a=!1;if(!r)r=[];else if(r.length>0&&it(r[0])&&!Xa(r[0])){a=!0;for(var s=[],u=new jn,l=0,f=r.length;l<f;l++){var h=r[l];h.data==null&&(h.data={});var p=h.data;if(p.id==null)p.id=zl();else if(e.hasElementWithId(p.id)||u.has(p.id))continue;var v=new _i(e,h,!1);s.push(v),u.add(p.id)}r=s}this.length=0;for(var g=0,m=r.length;g<m;g++){var w=r[g][0];if(w!=null){var b=w._private.data.id;(!n||!o.has(b))&&(n&&o.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(T){this.lazyMap=T},rebuildMap:function(){for(var x=this.lazyMap=new Or,L=this.eles,N=0;N<L.length;N++){var d=L[N];x.set(d.id(),{index:N,ele:d})}}},n&&(this._private.map=o),a&&!i&&this.restore()},mt=_i.prototype=$t.prototype=Object.create(Array.prototype);mt.instanceString=function(){return"collection"};mt.spawn=function(t,e){return new $t(this.cy(),t,e)};mt.spawnSelf=function(){return this.spawn(this)};mt.cy=function(){return this._private.cy};mt.renderer=function(){return this._private.cy.renderer()};mt.element=function(){return this[0]};mt.collection=function(){return Sl(this)?this:new $t(this._private.cy,[this])};mt.unique=function(){return new $t(this._private.cy,this,!0)};mt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};mt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new $t(e)};mt.$id=mt.getElementById;mt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};mt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};mt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};mt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(it(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var o=!1,a={},s=t.data.source,u=t.data.target;s!=null&&s!=i.source&&(a.source=""+s,o=!0),u!=null&&u!=i.target&&(a.target=""+u,o=!0),o&&(e=e.move(a))}else{var l="parent"in t.data,f=t.data.parent;l&&(f!=null||i.parent!=null)&&f!=i.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),e=e.move({parent:f}))}}t.position&&e.position(t.position);var h=function(m,w,b){var T=t[m];T!=null&&T!==n[m]&&(T?e[w]():e[b]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:Mr(n.data),position:Mr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var v=0;return n.classes.forEach(function(g){return p.classes+=v++===0?g:" "+g}),p}}};mt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};mt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),o=new _i(t,i,!1);e.push(o)}return new $t(t,e)};mt.copy=mt.clone;mt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,o=[],a=[],s,u=0,l=r.length;u<l;u++){var f=r[u];e&&!f.removed()||(f.isNode()?o.push(f):a.push(f))}s=o.concat(a);var h,p=function(){s.splice(h,1),h--};for(h=0;h<s.length;h++){var v=s[h],g=v._private,m=g.data;if(v.clearTraversalCache(),!(!e&&!g.removed)){if(m.id===void 0)m.id=zl();else if(Me(m.id))m.id=""+m.id;else if(rn(m.id)||!qe(m.id)){Dt("Can not create element with invalid string ID `"+m.id+"`"),p();continue}else if(n.hasElementWithId(m.id)){Dt("Can not create second element with ID `"+m.id+"`"),p();continue}}var w=m.id;if(v.isNode()){var b=g.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(v.isEdge()){for(var T=v,x=["source","target"],L=x.length,N=!1,d=0;d<L;d++){var C=x[d],A=m[C];Me(A)&&(A=m[C]=""+m[C]),A==null||A===""?(Dt("Can not create edge `"+w+"` with unspecified "+C),N=!0):n.hasElementWithId(A)||(Dt("Can not create edge `"+w+"` with nonexistant "+C+" `"+A+"`"),N=!0)}if(N){p();continue}var S=n.getElementById(m.source),M=n.getElementById(m.target);S.same(M)?S._private.edges.push(T):(S._private.edges.push(T),M._private.edges.push(T)),T._private.source=S,T._private.target=M}g.map=new Or,g.map.set(w,{ele:v,index:0}),g.removed=!1,e&&n.addToPool(v)}for(var k=0;k<o.length;k++){var R=o[k],G=R._private.data;Me(G.parent)&&(G.parent=""+G.parent);var P=G.parent,Y=P!=null;if(Y||R._private.parent){var H=R._private.parent?n.collection().merge(R._private.parent):n.getElementById(P);if(H.empty())G.parent=void 0;else if(H[0].removed())ft("Node added with missing parent, reference to parent removed"),G.parent=void 0,R._private.parent=null;else{for(var U=!1,W=H;!W.empty();){if(R.same(W)){U=!0,G.parent=void 0;break}W=W.parent()}U||(H[0]._private.children.push(R),R._private.parent=H[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var _=s.length===r.length?r:new $t(n,s),j=0;j<_.length;j++){var K=_[j];K.isNode()||(K.parallelEdges().clearTraversalCache(),K.source().clearTraversalCache(),K.target().clearTraversalCache())}var te;i.hasCompoundNodes?te=n.collection().merge(_).merge(_.connectedNodes()).merge(_.parent()):te=_,te.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?_.emitAndNotify("add"):e&&_.emit("add")}return r};mt.removed=function(){var t=this[0];return t&&t._private.removed};mt.inside=function(){var t=this[0];return t&&!t._private.removed};mt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},o=r._private.cy;function a(P){for(var Y=P._private.edges,H=0;H<Y.length;H++)u(Y[H])}function s(P){for(var Y=P._private.children,H=0;H<Y.length;H++)u(Y[H])}function u(P){var Y=i[P.id()];e&&P.removed()||Y||(i[P.id()]=!0,P.isNode()?(n.push(P),a(P),s(P)):n.unshift(P))}for(var l=0,f=r.length;l<f;l++){var h=r[l];u(h)}function p(P,Y){var H=P._private.edges;nn(H,Y),P.clearTraversalCache()}function v(P){P.clearTraversalCache()}var g=[];g.ids={};function m(P,Y){Y=Y[0],P=P[0];var H=P._private.children,U=P.id();nn(H,Y),Y._private.parent=null,g.ids[U]||(g.ids[U]=!0,g.push(P))}r.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var w=0;w<n.length;w++){var b=n[w];if(b.isEdge()){var T=b.source()[0],x=b.target()[0];p(T,b),p(x,b);for(var L=b.parallelEdges(),N=0;N<L.length;N++){var d=L[N];v(d),d.isBundledBezier()&&d.dirtyBoundingBoxCache()}}else{var C=b.parent();C.length!==0&&m(C,b)}e&&(b._private.removed=!0)}var A=o._private.elements;o._private.hasCompoundNodes=!1;for(var S=0;S<A.length;S++){var M=A[S];if(M.isParent()){o._private.hasCompoundNodes=!0;break}}var k=new $t(this.cy(),n);k.size()>0&&(t?k.emitAndNotify("remove"):e&&k.emit("remove"));for(var R=0;R<g.length;R++){var G=g[R];(!e||!G.removed())&&G.updateStyle()}return k};mt.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,o=function(g){return g==null?g:""+g};if(t.source!==void 0||t.target!==void 0){var a=o(t.source),s=o(t.target),u=a!=null&&e.hasElementWithId(a),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var g=r[v],m=g._private.data;g.isEdge()&&(u&&(m.source=a),l&&(m.target=s))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var f=o(t.parent),h=f===null||e.hasElementWithId(f);if(h){var p=f===null?void 0:f;e.batch(function(){var v=r.remove(n,i);v.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],w=m._private.data;m.isNode()&&(w.parent=p)}v.restore(n,i)}),r.emitAndNotify("move")}}return this};[jl,Pm,Ti,en,_n,Qm,Qi,h0,yf,mf,y0,ki,Ci,qt,tn,_t].forEach(function(t){We(mt,t)});var C0={add:function(e){var r,n=this;if(dr(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var o=[],a=0;a<i.length;a++){var s=i[a];o.push(s.json())}r=new $t(n,o)}}else if(gt(e)){var u=e;r=new $t(n,u)}else if(it(e)&&(gt(e.nodes)||gt(e.edges))){for(var l=e,f=[],h=["nodes","edges"],p=0,v=h.length;p<v;p++){var g=h[p],m=l[g];if(gt(m))for(var w=0,b=m.length;w<b;w++){var T=We({group:g},m[w]);f.push(T)}}r=new $t(n,f)}else{var x=e;r=new _i(n,x).collection()}return r},remove:function(e){if(!dr(e)){if(qe(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function D0(t,e,r,n){var i=4,o=.001,a=1e-7,s=10,u=11,l=1/(u-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=f?new Float32Array(u):new Array(u);function v(M,k){return 1-3*k+3*M}function g(M,k){return 3*k-6*M}function m(M){return 3*M}function w(M,k,R){return((v(k,R)*M+g(k,R))*M+m(k))*M}function b(M,k,R){return 3*v(k,R)*M*M+2*g(k,R)*M+m(k)}function T(M,k){for(var R=0;R<i;++R){var G=b(k,t,r);if(G===0)return k;var P=w(k,t,r)-M;k-=P/G}return k}function x(){for(var M=0;M<u;++M)p[M]=w(M*l,t,r)}function L(M,k,R){var G,P,Y=0;do P=k+(R-k)/2,G=w(P,t,r)-M,G>0?R=P:k=P;while(Math.abs(G)>a&&++Y<s);return P}function N(M){for(var k=0,R=1,G=u-1;R!==G&&p[R]<=M;++R)k+=l;--R;var P=(M-p[R])/(p[R+1]-p[R]),Y=k+P*l,H=b(Y,t,r);return H>=o?T(M,Y):H===0?Y:L(M,k,k+l)}var d=!1;function C(){d=!0,(t!==e||r!==n)&&x()}var A=function(k){return d||C(),t===e&&r===n?k:k===0?0:k===1?1:w(N(k),e,n)};A.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var S="generateBezier("+[t,e,r,n]+")";return A.toString=function(){return S},A}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var S0=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,o){var a={x:n.x+o.dx*i,v:n.v+o.dv*i,tension:n.tension,friction:n.friction};return{dx:a.v,dv:t(a)}}function r(n,i){var o={dx:n.v,dv:t(n)},a=e(n,i*.5,o),s=e(n,i*.5,a),u=e(n,i,s),l=1/6*(o.dx+2*(a.dx+s.dx)+u.dx),f=1/6*(o.dv+2*(a.dv+s.dv)+u.dv);return n.x=n.x+l*i,n.v=n.v+f*i,n}return function n(i,o,a){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,f=1/1e4,h=16/1e3,p,v,g;for(i=parseFloat(i)||500,o=parseFloat(o)||20,a=a||null,s.tension=i,s.friction=o,p=a!==null,p?(l=n(i,o),v=l/a*h):v=h;g=r(g||s,v),u.push(1+g.x),l+=16,Math.abs(g.x)>f&&Math.abs(g.v)>f;);return p?function(m){return u[m*(u.length-1)|0]}:l}}(),yt=function(e,r,n,i){var o=D0(e,r,n,i);return function(a,s,u){return a+(s-a)*o(u)}},Di={linear:function(e,r,n){return e+(r-e)*n},ease:yt(.25,.1,.25,1),"ease-in":yt(.42,0,1,1),"ease-out":yt(0,0,.58,1),"ease-in-out":yt(.42,0,.58,1),"ease-in-sine":yt(.47,0,.745,.715),"ease-out-sine":yt(.39,.575,.565,1),"ease-in-out-sine":yt(.445,.05,.55,.95),"ease-in-quad":yt(.55,.085,.68,.53),"ease-out-quad":yt(.25,.46,.45,.94),"ease-in-out-quad":yt(.455,.03,.515,.955),"ease-in-cubic":yt(.55,.055,.675,.19),"ease-out-cubic":yt(.215,.61,.355,1),"ease-in-out-cubic":yt(.645,.045,.355,1),"ease-in-quart":yt(.895,.03,.685,.22),"ease-out-quart":yt(.165,.84,.44,1),"ease-in-out-quart":yt(.77,0,.175,1),"ease-in-quint":yt(.755,.05,.855,.06),"ease-out-quint":yt(.23,1,.32,1),"ease-in-out-quint":yt(.86,0,.07,1),"ease-in-expo":yt(.95,.05,.795,.035),"ease-out-expo":yt(.19,1,.22,1),"ease-in-out-expo":yt(1,0,0,1),"ease-in-circ":yt(.6,.04,.98,.335),"ease-out-circ":yt(.075,.82,.165,1),"ease-in-out-circ":yt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Di.linear;var i=S0(e,r,n);return function(o,a,s){return o+(a-o)*i(s)}},"cubic-bezier":yt};function Xu(t,e,r,n,i){if(n===1||e===r)return r;var o=i(e,r,n);return t==null||((t.roundValue||t.color)&&(o=Math.round(o)),t.min!==void 0&&(o=Math.max(o,t.min)),t.max!==void 0&&(o=Math.min(o,t.max))),o}function Wu(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Bn(t,e,r,n,i){var o=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var a=Wu(t,i),s=Wu(e,i);if(Me(a)&&Me(s))return Xu(o,a,s,r,n);if(gt(a)&&gt(s)){for(var u=[],l=0;l<s.length;l++){var f=a[l],h=s[l];if(f!=null&&h!=null){var p=Xu(o,f,h,r,n);u.push(p)}else u.push(h)}return u}}function L0(t,e,r,n){var i=!n,o=t._private,a=e._private,s=a.easing,u=a.startTime,l=n?t:t.cy(),f=l.style();if(!a.easingImpl)if(s==null)a.easingImpl=Di.linear;else{var h;if(qe(s)){var p=f.parse("transition-timing-function",s);h=p.value}else h=s;var v,g;qe(h)?(v=h,g=[]):(v=h[1],g=h.slice(2).map(function(_){return+_})),g.length>0?(v==="spring"&&g.push(a.duration),a.easingImpl=Di[v].apply(null,g)):a.easingImpl=Di[v]}var m=a.easingImpl,w;if(a.duration===0?w=1:w=(r-u)/a.duration,a.applying&&(w=a.progress),w<0?w=0:w>1&&(w=1),a.delay==null){var b=a.startPosition,T=a.position;if(T&&i&&!t.locked()){var x={};Ta(b.x,T.x)&&(x.x=Bn(b.x,T.x,w,m)),Ta(b.y,T.y)&&(x.y=Bn(b.y,T.y,w,m)),t.position(x)}var L=a.startPan,N=a.pan,d=o.pan,C=N!=null&&n;C&&(Ta(L.x,N.x)&&(d.x=Bn(L.x,N.x,w,m)),Ta(L.y,N.y)&&(d.y=Bn(L.y,N.y,w,m)),t.emit("pan"));var A=a.startZoom,S=a.zoom,M=S!=null&&n;M&&(Ta(A,S)&&(o.zoom=Pa(o.minZoom,Bn(A,S,w,m),o.maxZoom)),t.emit("zoom")),(C||M)&&t.emit("viewport");var k=a.style;if(k&&k.length>0&&i){for(var R=0;R<k.length;R++){var G=k[R],P=G.name,Y=G,H=a.startStyle[P],U=f.properties[H.name],W=Bn(H,Y,w,m,U);f.overrideBypass(t,P,W)}t.emit("style")}}return a.progress=w,w}function Ta(t,e){return t==null||e==null?!1:Me(t)&&Me(e)?!0:!!(t&&e)}function A0(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function _u(t,e){var r=e._private.aniEles,n=[];function i(f,h){var p=f._private,v=p.animation.current,g=p.animation.queue,m=!1;if(v.length===0){var w=g.shift();w&&v.push(w)}for(var b=function(d){for(var C=d.length-1;C>=0;C--){var A=d[C];A()}d.splice(0,d.length)},T=v.length-1;T>=0;T--){var x=v[T],L=x._private;if(L.stopped){v.splice(T,1),L.hooked=!1,L.playing=!1,L.started=!1,b(L.frames);continue}!L.playing&&!L.applying||(L.playing&&L.applying&&(L.applying=!1),L.started||A0(f,x,t),L0(f,x,t,h),L.applying&&(L.applying=!1),b(L.frames),L.step!=null&&L.step(t),x.completed()&&(v.splice(T,1),L.hooked=!1,L.playing=!1,L.started=!1,b(L.completes)),m=!0)}return!h&&v.length===0&&g.length===0&&n.push(f),m}for(var o=!1,a=0;a<r.length;a++){var s=r[a],u=i(s);o=o||u}var l=i(e,!0);(o||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var N0={animate:lt.animate(),animation:lt.animation(),animated:lt.animated(),clearQueue:lt.clearQueue(),delay:lt.delay(),delayAnimation:lt.delayAnimation(),stop:lt.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Mi(function(o){_u(o,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(o,a){_u(a,e)},n.beforeRenderPriorities.animations):r()}},M0={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Xa(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},wi=function(e){return qe(e)?new an(e):e},Ef={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ji(M0,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,wi(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,wi(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,wi(r),n),this},once:function(e,r,n){return this.emitter().one(e,wi(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};lt.eventAliasesOn(Ef);var Wo={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Wo.jpeg=Wo.jpg;var Si={layout:function(e){var r=this;if(e==null){Dt("Layout options must be specified to make a layout");return}if(e.name==null){Dt("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){Dt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;qe(e.eles)?o=r.$(e.eles):o=e.eles!=null?e.eles:r.$();var a=new i(We({},e,{cy:r,eles:o}));return a}};Si.createLayout=Si.makeLayout=Si.layout;var O0={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=e[o],s=r.getElementById(o);s.data(a)}})}},I0=Vt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),_o={renderTo:function(e,r,n,i){var o=this._private.renderer;return o.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Dt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ft("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=I0(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};_o.invalidateDimensions=_o.resize;var Li={collection:function(e,r){return qe(e)?this.$(e):dr(e)?e.collection():gt(e)?(r||(r={}),new $t(this,e,r.unique,r.removed)):new $t(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Li.elements=Li.filter=Li.$;var Zt={},Na="t",k0="f";Zt.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),o=0;o<t.length;o++){var a=t[o],s=e.getContextMeta(a);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,a);a._private.appliedInitStyle?e.updateTransitions(a,l.diffProps):a._private.appliedInitStyle=!0;var f=e.updateStyleHints(a);f&&i.push(a)}}return i};Zt.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,o=n[i];if(o)return o;for(var a=[],s={},u=0;u<r.length;u++){var l=r[u],f=t[u]===Na,h=e[u]===Na,p=f!==h,v=l.mappedProperties.length>0;if(p||h&&v){var g=void 0;p&&v||p?g=l.properties:v&&(g=l.mappedProperties);for(var m=0;m<g.length;m++){for(var w=g[m],b=w.name,T=!1,x=u+1;x<r.length;x++){var L=r[x],N=e[x]===Na;if(N&&(T=L.properties[w.name]!=null,T))break}!s[b]&&!T&&(s[b]=!0,a.push(b))}}}return n[i]=a,a};Zt.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",o=0;o<e.length;o++){var a=e[o],s=a.selector&&a.selector.matches(t);s?r+=Na:r+=k0}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Zt.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},o=0;o<r.length;o++){var a=r[o],s=e[o]===Na;if(s)for(var u=0;u<a.properties.length;u++){var l=a.properties[u];i[l.name]=l}}return n[e]=i,i};Zt.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,o={},a=n.types,s=0;s<i.length;s++){var u=i[s],l=e[u],f=r.pstyle(u);if(!l)if(f)f.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(f!==l){if(l.mapped===a.fn&&f!=null&&f.mapping!=null&&f.mapping.value===l.value){var h=f.mapping,p=h.fnValue=l.value(r);if(p===h.prevFnValue)continue}var v=o[u]={prev:f};n.applyParsedProperty(r,l),v.next=r.pstyle(u),v.next&&v.next.bypass&&(v.next=v.next.bypassed)}}return{diffProps:o}};Zt.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,o=function(De,Se,Ve){return r.getPropertiesHash(De,Se,Ve)},a=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<i.length;l++){var f=i[l];e.styleKeys[f]=[Gn,Da]}for(var h=function(De,Se){return e.styleKeys[Se][0]=Ia(De,e.styleKeys[Se][0])},p=function(De,Se){return e.styleKeys[Se][1]=ka(De,e.styleKeys[Se][1])},v=function(De,Se){h(De,Se),p(De,Se)},g=function(De,Se){for(var Ve=0;Ve<De.length;Ve++){var Fe=De.charCodeAt(Ve);h(Fe,Se),p(Fe,Se)}},m=2e9,w=function(De){return-128<De&&De<128&&Math.floor(De)!==De?m-(De*1024|0):De},b=0;b<n.length;b++){var T=n[b],x=u[T];if(x!=null){var L=this.properties[T],N=L.type,d=L.groupKey,C=void 0;L.hashOverride!=null?C=L.hashOverride(t,x):x.pfValue!=null&&(C=x.pfValue);var A=L.enums==null?x.value:null,S=C!=null,M=A!=null,k=S||M,R=x.units;if(N.number&&k&&!N.multiple){var G=S?C:A;v(w(G),d),!S&&R!=null&&g(R,d)}else g(x.strValue,d)}}for(var P=[Gn,Da],Y=0;Y<i.length;Y++){var H=i[Y],U=e.styleKeys[H];P[0]=Ia(U[0],P[0]),P[1]=ka(U[1],P[1])}e.styleKey=Wp(P[0],P[1]);var W=e.styleKeys;e.labelDimsKey=Kr(W.labelDimensions);var _=o(t,["label"],W.labelDimensions);if(e.labelKey=Kr(_),e.labelStyleKey=Kr(ci(W.commonLabel,_)),!s){var j=o(t,["source-label"],W.labelDimensions);e.sourceLabelKey=Kr(j),e.sourceLabelStyleKey=Kr(ci(W.commonLabel,j));var K=o(t,["target-label"],W.labelDimensions);e.targetLabelKey=Kr(K),e.targetLabelStyleKey=Kr(ci(W.commonLabel,K))}if(s){var te=e.styleKeys,ie=te.nodeBody,oe=te.nodeBorder,ue=te.backgroundImage,le=te.compound,Q=te.pie,de=[ie,oe,ue,le,Q].filter(function(ce){return ce!=null}).reduce(ci,[Gn,Da]);e.nodeKey=Kr(de),e.hasPie=Q!=null&&Q[0]!==Gn&&Q[1]!==Da}return a!==e.styleKey};Zt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Zt.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,o,a=r.types,s=r.properties[n.name].type,u=n.bypass,l=i[n.name],f=l&&l.bypass,h=t._private,p="mapping",v=function(ie){return ie==null?null:ie.pfValue!=null?ie.pfValue:ie.value},g=function(){var ie=v(l),oe=v(n);r.checkTriggers(t,n.name,ie,oe)};if(n&&n.name.substr(0,3)==="pie"&&ft("The pie style properties are deprecated.  Create charts using background images instead."),e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return i[n.name]=void 0,g(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,g(),!0):!1:(g(),!0);if(n.deleteBypass)return l?l.bypass?(i[n.name]=l.bypassed,g(),!0):!1:(g(),!0);var m=function(){ft("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case a.mapData:{for(var w=n.field.split("."),b=h.data,T=0;T<w.length&&b;T++){var x=w[T];b=b[x]}if(b==null)return m(),!1;var L;if(Me(b)){var N=n.fieldMax-n.fieldMin;N===0?L=0:L=(b-n.fieldMin)/N}else return ft("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+t.id()+"` is non-numeric)"),!1;if(L<0?L=0:L>1&&(L=1),s.color){var d=n.valueMin[0],C=n.valueMax[0],A=n.valueMin[1],S=n.valueMax[1],M=n.valueMin[2],k=n.valueMax[2],R=n.valueMin[3]==null?1:n.valueMin[3],G=n.valueMax[3]==null?1:n.valueMax[3],P=[Math.round(d+(C-d)*L),Math.round(A+(S-A)*L),Math.round(M+(k-M)*L),Math.round(R+(G-R)*L)];o={bypass:n.bypass,name:n.name,value:P,strValue:"rgb("+P[0]+", "+P[1]+", "+P[2]+")"}}else if(s.number){var Y=n.valueMin+(n.valueMax-n.valueMin)*L;o=this.parse(n.name,Y,n.bypass,p)}else return!1;if(!o)return m(),!1;o.mapping=n,n=o;break}case a.data:{for(var H=n.field.split("."),U=h.data,W=0;W<H.length&&U;W++){var _=H[W];U=U[_]}if(U!=null&&(o=this.parse(n.name,U,n.bypass,p)),!o)return m(),!1;o.mapping=n,n=o;break}case a.fn:{var j=n.value,K=n.fnValue!=null?n.fnValue:j(t);if(n.prevFnValue=K,K==null)return ft("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(o=this.parse(n.name,K,n.bypass,p),!o)return ft("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;o.mapping=Mr(n),n=o;break}case void 0:break;default:return!1}return u?(f?n.bypassed=l.bypassed:n.bypassed=l,i[n.name]=n):f?l.bypassed=n:i[n.name]=n,g(),!0};Zt.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=i[s];u!=null&&(u.bypass?u.bypassed=null:i[s]=null)}}};Zt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Zt.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,a=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},u=!1,l=0;l<i.length;l++){var f=i[l],h=t.pstyle(f),p=e[f];if(p){var v=p.prev,g=v,m=p.next!=null?p.next:h,w=!1,b=void 0,T=1e-6;g&&(Me(g.pfValue)&&Me(m.pfValue)?(w=m.pfValue-g.pfValue,b=g.pfValue+T*w):Me(g.value)&&Me(m.value)?(w=m.value-g.value,b=g.value+T*w):gt(g.value)&&gt(m.value)&&(w=g.value[0]!==m.value[0]||g.value[1]!==m.value[1]||g.value[2]!==m.value[2],b=g.strValue),w&&(s[f]=m.strValue,this.applyBypass(t,f,b),u=!0))}}if(!u)return;n.transitioning=!0,new Jn(function(x){a>0?t.delayAnimation(a).play().promise().then(x):x()}).then(function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};Zt.checkTrigger=function(t,e,r,n,i,o){var a=this.properties[e],s=i(a);s!=null&&s(r,n)&&o(a)};Zt.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};Zt.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&(e==="curve-style"&&(r==="bezier"||n==="bezier")||e==="display"&&(r==="none"||n==="none"))&&t.parallelEdges().forEach(function(o){o.isBundledBezier()&&o.dirtyBoundingBoxCache()})})};Zt.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var Ka={};Ka.applyBypass=function(t,e,r,n){var i=this,o=[],a=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<i.properties.length;s++){var u=i.properties[s],l=u.name,f=this.parse(l,r,!0);f&&o.push(f)}}else if(qe(e)){var h=this.parse(e,r,!0);h&&o.push(h)}else if(it(e)){var p=e;n=r;for(var v=Object.keys(p),g=0;g<v.length;g++){var m=v[g],w=p[m];if(w===void 0&&(w=p[Wi(m)]),w!==void 0){var b=this.parse(m,w,!0);b&&o.push(b)}}}else return!1;if(o.length===0)return!1;for(var T=!1,x=0;x<t.length;x++){for(var L=t[x],N={},d=void 0,C=0;C<o.length;C++){var A=o[C];if(n){var S=L.pstyle(A.name);d=N[A.name]={prev:S}}T=this.applyParsedProperty(L,Mr(A))||T,n&&(d.next=L.pstyle(A.name))}T&&this.updateStyleHints(L),n&&this.updateTransitions(L,N,a)}return T};Ka.overrideBypass=function(t,e,r){e=ls(e);for(var n=0;n<t.length;n++){var i=t[n],o=i._private.style[e],a=this.properties[e].type,s=a.color,u=a.mutiple,l=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,r):(o.value=r,o.pfValue!=null&&(o.pfValue=r),s?o.strValue="rgb("+r.join(",")+")":u?o.strValue=r.join(" "):o.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,l,r)}};Ka.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Ka.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var o=t[i],a={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],f=o.pstyle(l.name);if(!(!f||!f.bypass)){var h="",p=this.parse(u,h,!0),v=a[l.name]={prev:f};this.applyParsedProperty(o,p),v.next=o.pstyle(l.name)}}this.updateStyleHints(o),r&&this.updateTransitions(o,a,n)}};var ws={};ws.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};ws.containerCss=function(t){var e=this._private.cy,r=e.container();if(xt&&r&&xt.getComputedStyle)return xt.getComputedStyle(r).getPropertyValue(t)};var Ir={};Ir.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Ir.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var o=r.properties[i],a=r.getStylePropertyValue(t,o.name,e);a!=null&&(n[o.name]=a,n[Wi(o.name)]=a)}return n}};Ir.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};Ir.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,a=t.pstyle(i.name);if(a){var s=a.value,u=a.units,l=a.strValue;if(r&&o.number&&s!=null&&Me(s)){var f=t.cy().zoom(),h=function(w){return w*f},p=function(w,b){return h(w)+b},v=gt(s),g=v?u.every(function(m){return m!=null}):u!=null;return g?v?s.map(function(m,w){return p(m,u[w])}).join(" "):p(s,u):v?s.map(function(m){return qe(m)?m:""+h(m)}).join(" "):""+h(s)}else if(l!=null)return l}return null}};Ir.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],o=i.name,a=t.pstyle(o);a!==void 0&&(it(a)?a=this.parse(o,a.strValue):a=this.parse(o,a)),a&&(r[o]=a)}return r};Ir.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],u=n[s],l=i[s]||i[ls(s)],f=this.parse(l.name,u);f&&r.push(f)}return r};Ir.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,o,a,s,u,l;for(u=0;u<e.length;u++)if(i=e[u],o=t.pstyle(i,!1),o!=null)if(o.pfValue!=null)n[0]=Ia(s,n[0]),n[1]=ka(s,n[1]);else for(a=o.strValue,l=0;l<a.length;l++)s=a.charCodeAt(l),n[0]=Ia(s,n[0]),n[1]=ka(s,n[1]);return n};Ir.getPropertiesHash=Ir.getNonDefaultPropertiesHash;var to={};to.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,o=n.style||n.css,a=Object.keys(o);e.selector(i);for(var s=0;s<a.length;s++){var u=a[s],l=o[u];e.css(u,l)}}return e};to.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};to.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:o})}return t};var Es={};Es.appendFromString=function(t){var e=this,r=this,n=""+t,i,o,a;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>i.length?n=n.substr(i.length):n=""}function u(){o.length>a.length?o=o.substr(a.length):o=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){ft("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=f[0];var h=f[1];if(h!=="core"){var p=new an(h);if(p.invalid){ft("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),s();continue}}var v=f[2],g=!1;o=v;for(var m=[];;){var w=o.match(/^\s*$/);if(w)break;var b=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){ft("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),g=!0;break}a=b[0];var T=b[1],x=b[2],L=e.properties[T];if(!L){ft("Skipping property: Invalid property name in: "+a),u();continue}var N=r.parse(T,x);if(!N){ft("Skipping property: Invalid property definition in: "+a),u();continue}m.push({name:T,val:x}),u()}if(g){s();break}r.selector(h);for(var d=0;d<m.length;d++){var C=m[d];r.css(C.name,C.val)}s()}return r};Es.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Ht={};(function(){var t=It,e=Rp,r=Bp,n=Fp,i=zp,o=function(de){return"^"+de+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},a=function(de){var ce=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+de+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ce+")\\s*\\,\\s*("+ce+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Ht.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:a("mapData")},mapLayoutData:{mapping:!0,regex:a("mapLayoutData")},mapScratch:{mapping:!0,regex:a("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(de,ce){switch(de.length){case 2:return ce[0]!=="deg"&&ce[0]!=="rad"&&ce[1]!=="deg"&&ce[1]!=="rad";case 1:return qe(de[0])||ce[0]==="deg"||ce[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(de){var ce=de.length;return ce===1||ce===2||ce===4}}};var u={zeroNonZero:function(de,ce){return(de==null||ce==null)&&de!==ce||de==0&&ce!=0?!0:de!=0&&ce==0},any:function(de,ce){return de!=ce},emptyNonEmpty:function(de,ce){var De=rn(de),Se=rn(ce);return De&&!Se||!De&&Se}},l=Ht.types,f=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],h=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],p=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],v=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],g=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],m=[{name:"events",type:l.bool},{name:"text-events",type:l.bool}],w=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.nonNegativeInt,triggersZOrder:u.any}],b=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any}],T=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any}],x=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],L=function(de,ce){return ce.value==="label"?-de.poolIndex():ce.pfValue},N=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:L},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:L},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],d=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle}],C=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],A=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],S=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],M=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],k=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],R=[];Ht.pieBackgroundN=16,R.push({name:"pie-size",type:l.sizeMaybePercent});for(var G=1;G<=Ht.pieBackgroundN;G++)R.push({name:"pie-"+G+"-background-color",type:l.color}),R.push({name:"pie-"+G+"-background-size",type:l.percent}),R.push({name:"pie-"+G+"-background-opacity",type:l.zeroOneNumber});var P=[],Y=Ht.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill}].forEach(function(Q){Y.forEach(function(de){var ce=de+"-"+Q.name,De=Q.type,Se=Q.triggersBounds;P.push({name:ce,type:De,triggersBounds:Se})})},{});var H=Ht.properties=[].concat(m,x,w,b,T,M,g,v,f,h,p,N,d,C,R,A,S,P,k),U=Ht.propertyGroups={behavior:m,transition:x,visibility:w,overlay:b,underlay:T,ghost:M,commonLabel:g,labelDimensions:v,mainLabel:f,sourceLabel:h,targetLabel:p,nodeBody:N,nodeBorder:d,backgroundImage:C,pie:R,compound:A,edgeLine:S,edgeArrow:P,core:k},W=Ht.propertyGroupNames={},_=Ht.propertyGroupKeys=Object.keys(U);_.forEach(function(Q){W[Q]=U[Q].map(function(de){return de.name}),U[Q].forEach(function(de){return de.groupKey=Q})});var j=Ht.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ht.propertyNames=H.map(function(Q){return Q.name});for(var K=0;K<H.length;K++){var te=H[K];H[te.name]=te}for(var ie=0;ie<j.length;ie++){var oe=j[ie],ue=H[oe.pointsTo],le={name:oe.name,alias:!0,pointsTo:ue};H.push(le),H[oe.name]=le}})();Ht.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Ht.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=We({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var f=1;f<=Ht.pieBackgroundN;f++){var h=l.name.replace("{{i}}",f),p=l.value;u[h]=p}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(u,l){return Ht.arrowPrefixes.forEach(function(f){var h=f+"-"+l.name,p=l.value;u[h]=p}),u},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var o=i.name,a=e[o],s=this.parse(o,a);r[o]=s}}return t.defaultProperties=r,t.defaultProperties};Ht.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var ro={};ro.parse=function(t,e,r,n){var i=this;if(Ct(e))return i.parseImplWarn(t,e,r,n);var o=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,a=r?"t":"f",s=""+e,u=Pl(t,s,a,o),l=i.propCache=i.propCache||[],f;return(f=l[u])||(f=l[u]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(f=Mr(f),f&&(f.value=Mr(f.value))),f};ro.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&ft("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&ft("The style value of `label` is deprecated for `"+i.name+"`"),i};ro.parseImpl=function(t,e,r,n){var i=this;t=ls(t);var o=i.properties[t],a=e,s=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,t=o.name);var u=qe(e);u&&(e=e.trim());var l=o.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Ct(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var f,h;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(f=new RegExp(s.data.regex).exec(e))){if(r)return!1;var p=s.data;return{name:t,value:f,strValue:""+e,mapped:p,field:f[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(s.mapData.regex).exec(e))){if(r||l.multiple)return!1;var v=s.mapData;if(!(l.color||l.number))return!1;var g=this.parse(t,h[4]);if(!g||g.mapped)return!1;var m=this.parse(t,h[5]);if(!m||m.mapped)return!1;if(g.pfValue===m.pfValue||g.strValue===m.strValue)return ft("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(l.color){var w=g.value,b=m.value,T=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(T)return!1}return{name:t,value:h,strValue:""+e,mapped:v,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:g.value,valueMax:m.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var x;if(u?x=e.split(/\s+/):gt(e)?x=e:x=[e],l.evenMultiple&&x.length%2!==0)return null;for(var L=[],N=[],d=[],C="",A=!1,S=0;S<x.length;S++){var M=i.parse(t,x[S],r,"multiple");A=A||qe(M.value),L.push(M.value),d.push(M.pfValue!=null?M.pfValue:M.value),N.push(M.units),C+=(S>0?" ":"")+M.strValue}return l.validate&&!l.validate(L,N)?null:l.singleEnum&&A?L.length===1&&qe(L[0])?{name:t,value:L[0],strValue:L[0],bypass:r}:null:{name:t,value:L,pfValue:d,strValue:C,bypass:r,units:N}}var k=function(){for(var ce=0;ce<l.enums.length;ce++){var De=l.enums[ce];if(De===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var R,G="px";if(l.units&&(R=l.units),l.implicitUnits&&(G=l.implicitUnits),!l.unitless)if(u){var P="px|em"+(l.allowPercent?"|\\%":"");R&&(P=R);var Y=e.match("^("+It+")("+P+")?$");Y&&(e=Y[1],R=Y[2]||G)}else(!R||l.implicitUnits)&&(R=G);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=a,k();if(l.integer&&!Lp(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var H={name:t,value:e,strValue:""+e+(R||""),units:R,bypass:r};return l.unitless||R!=="px"&&R!=="em"?H.pfValue=e:H.pfValue=R==="px"||!R?e:this.getEmSizeInPixels()*e,(R==="ms"||R==="s")&&(H.pfValue=R==="ms"?e:1e3*e),(R==="deg"||R==="rad")&&(H.pfValue=R==="rad"?e:xy(e)),R==="%"&&(H.pfValue=e/100),H}else if(l.propList){var U=[],W=""+e;if(W!=="none"){for(var _=W.split(/\s*,\s*|\s+/),j=0;j<_.length;j++){var K=_[j].trim();i.properties[K]?U.push(K):ft("`"+K+"` is not a valid property name")}if(U.length===0)return null}return{name:t,value:U,strValue:U.length===0?"none":U.join(" "),bypass:r}}else if(l.color){var te=Up(e);return te?{name:t,value:te,pfValue:te,strValue:"rgb("+te[0]+","+te[1]+","+te[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var ie=k();if(ie)return ie}for(var oe=l.regexes?l.regexes:[l.regex],ue=0;ue<oe.length;ue++){var le=new RegExp(oe[ue]),Q=le.exec(e);if(Q)return{name:t,value:l.singleRegexMatchValue?Q[1]:Q,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?k():null};var Wt=function t(e){if(!(this instanceof t))return new t(e);if(!us(e)){Dt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Kt=Wt.prototype;Kt.instanceString=function(){return"style"};Kt.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};Kt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Kt.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Kt.selector=function(t){var e=t==="core"?null:new an(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Kt.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],o=r[i.name];o===void 0&&(o=r[Wi(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Kt.style=Kt.css;Kt.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};Kt.append=function(t){return Ll(t)?t.appendToStyle(this):gt(t)?this.appendFromJson(t):qe(t)&&this.appendFromString(t),this};Wt.fromJson=function(t,e){var r=new Wt(t);return r.fromJson(e),r};Wt.fromString=function(t,e){return new Wt(t).fromString(e)};[Zt,Ka,ws,Ir,to,Es,Ht,ro].forEach(function(t){We(Kt,t)});Wt.types=Kt.types;Wt.properties=Kt.properties;Wt.propertyGroups=Kt.propertyGroups;Wt.propertyGroupNames=Kt.propertyGroupNames;Wt.propertyGroupKeys=Kt.propertyGroupKeys;var R0={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Ll(e)?r.style=e.generateStyle(this):gt(e)?r.style=Wt.fromJson(this,e):qe(e)?r.style=Wt.fromString(this,e):r.style=Wt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},P0="single",Cn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=P0),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,o,a,s;switch(e.length){case 0:return r;case 1:if(qe(e[0]))return n=e[0],r[n];if(it(e[0])){if(!this._private.panningEnabled)return this;o=e[0],a=o.x,s=o.y,Me(a)&&(r.x=a),Me(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Me(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,o,a,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:it(e)&&(s=n[0],u=s.x,l=s.y,Me(u)&&(i.x+=u),Me(l)&&(i.y+=l),this.emit("pan viewport"));break;case 2:o=e,a=r,(o==="x"||o==="y")&&Me(a)&&(i[o]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Me(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(qe(e)){var i=e;e=this.$(i)}else if(Mp(e)){var o=e;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else dr(e)||(e=this.mutableElements());if(!(dr(e)&&e.empty())){n=n||e.boundingBox();var a=this.width(),s=this.height(),u;if(r=Me(r)?r:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((a-2*r)/n.w,(s-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(a-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return Me(e)&&Me(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Me(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Me(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,o,a,s=!1;if(r.zoomingEnabled||(s=!0),Me(e)?a=e:it(e)&&(a=e.level,e.position!=null?o=Ki(e.position,i,n):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!r.panningEnabled&&(s=!0)),a=a>r.maxZoom?r.maxZoom:a,a=a<r.minZoom?r.minZoom:a,s||!Me(a)||a===i||o!=null&&(!Me(o.x)||!Me(o.y)))return null;if(o!=null){var u=n,l=i,f=a,h={x:-f/l*(o.x-u.x)+o.x,y:-f/l*(o.y-u.y)+o.y};return{zoomed:!0,panned:!0,zoom:f,pan:h}}else return{zoomed:!0,panned:!1,zoom:a,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,o=[],a=!1,s=!1;if(!e)return this;if(Me(e.zoom)||(n=!1),it(e.pan)||(i=!1),!n&&!i)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?a=!0:(r.zoom=u,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;Me(l.x)&&(r.pan.x=l.x,s=!1),Me(l.y)&&(r.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(qe(e)){var n=e;e=this.mutableElements().filter(n)}else dr(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),a=this.height();r=r===void 0?this._private.zoom:r;var s={x:(o-r*(i.x1+i.x2))/2,y:(a-r*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container;return e.sizeCache=e.sizeCache||(r?function(){var n=xt.getComputedStyle(r),i=function(a){return parseFloat(n.getPropertyValue(a))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Cn.centre=Cn.center;Cn.autolockNodes=Cn.autolock;Cn.autoungrabifyNodes=Cn.autoungrabify;var Ga={data:lt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:lt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:lt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:lt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ga.attr=Ga.data;Ga.removeAttr=Ga.removeData;var Ha=function(e){var r=this;e=We({},e);var n=e.container;n&&!Ni(n)&&Ni(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var a=xt!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=We({name:a?"grid":"null"},s.layout),s.renderer=We({name:a?"canvas":"null"},s.renderer);var u=function(g,m,w){return m!==void 0?m:w!==void 0?w:g},l=this._private={container:n,ready:!1,options:s,elements:new $t(this),listeners:[],aniEles:new $t(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:Me(s.zoom)?s.zoom:1,pan:{x:it(s.pan)&&Me(s.pan.x)?s.pan.x:0,y:it(s.pan)&&Me(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(g,m){var w=g.some(Op);if(w)return Jn.all(g).then(m);m(g)};l.styleEnabled&&r.setStyle([]);var h=We({},s,s.renderer);r.initRenderer(h);var p=function(g,m,w){r.notifications(!1);var b=r.mutableElements();b.length>0&&b.remove(),g!=null&&(it(g)||gt(g))&&r.add(g),r.one("layoutready",function(x){r.notifications(!0),r.emit(x),r.one("load",m),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",w),r.emit("done")});var T=We({},r._private.options.layout);T.eles=r.elements(),r.layout(T).run()};f([s.style,s.elements],function(v){var g=v[0],m=v[1];l.styleEnabled&&r.style().append(g),p(m,function(){r.startAnimationLoop(),l.ready=!0,Ct(s.ready)&&r.on("ready",s.ready);for(var w=0;w<o.length;w++){var b=o[w];r.on("ready",b)}i&&(i.readies=[]),r.emit("ready")},s.done)})},Ri=Ha.prototype;We(Ri,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!Ni(e)&&Ni(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(We({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Mr(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),o=function(L){return r.getElementById(L.id())};if(it(e)){if(r.startBatch(),e.elements){var a={},s=function(L,N){for(var d=[],C=[],A=0;A<L.length;A++){var S=L[A];if(!S.data.id){ft("cy.json() cannot handle elements without an ID attribute");continue}var M=""+S.data.id,k=r.getElementById(M);a[M]=!0,k.length!==0?C.push({ele:k,json:S}):(N&&(S.group=N),d.push(S))}r.add(d);for(var R=0;R<C.length;R++){var G=C[R],P=G.ele,Y=G.json;P.json(Y)}};if(gt(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var f=u[l],h=e.elements[f];gt(h)&&s(h,f)}var p=r.collection();i.filter(function(x){return!a[x.id()]}).forEach(function(x){x.isParent()?p.merge(x):x.remove()}),p.forEach(function(x){return x.children().move({parent:null})}),p.forEach(function(x){return o(x).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var v=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<v.length;g++){var m=v[g];e[m]!=null&&r[m](e[m])}return r.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(x){return x.json()}):(b.elements={},i.forEach(function(x){var L=x.group();b.elements[L]||(b.elements[L]=[]),b.elements[L].push(x.json())})),this._private.styleEnabled&&(b.style=r.style().json()),b.data=Mr(r.data());var T=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=Mr(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=Mr(T.renderer),b.hideEdgesOnViewport=T.hideEdgesOnViewport,b.textureOnViewport=T.textureOnViewport,b.wheelSensitivity=T.wheelSensitivity,b.motionBlur=T.motionBlur,b.multiClickDebounceTime=T.multiClickDebounceTime,b}}});Ri.$id=Ri.getElementById;[C0,N0,Ef,Wo,Si,O0,_o,Li,R0,Cn,Ga].forEach(function(t){We(Ri,t)});var B0={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Fn=function(e){return e.scratch("breadthfirst")},Ku=function(e,r){return e.scratch("breadthfirst",r)};function xf(t){this.options=We({},B0,t)}xf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().filter(function(Le){return!Le.isParent()}),o=n,a=e.directed,s=e.maximal||e.maximalAdjustments>0,u=lr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l;if(dr(e.roots))l=e.roots;else if(gt(e.roots)){for(var f=[],h=0;h<e.roots.length;h++){var p=e.roots[h],v=r.getElementById(p);f.push(v)}l=r.collection(f)}else if(qe(e.roots))l=r.$(e.roots);else if(a)l=i.roots();else{var g=n.components();l=r.collection();for(var m=function(fe){var re=g[fe],we=re.maxDegree(!1),Ee=re.filter(function(Ae){return Ae.degree(!1)===we});l=l.add(Ee)},w=0;w<g.length;w++)m(w)}var b=[],T={},x=function(fe,re){b[re]==null&&(b[re]=[]);var we=b[re].length;b[re].push(fe),Ku(fe,{index:we,depth:re})},L=function(fe,re){var we=Fn(fe),Ee=we.depth,Ae=we.index;b[Ee][Ae]=null,x(fe,re)};o.bfs({roots:l,directed:e.directed,visit:function(fe,re,we,Ee,Ae){var Be=fe[0],ke=Be.id();x(Be,Ae),T[ke]=!0}});for(var N=[],d=0;d<i.length;d++){var C=i[d];T[C.id()]||N.push(C)}var A=function(fe){for(var re=b[fe],we=0;we<re.length;we++){var Ee=re[we];if(Ee==null){re.splice(we,1),we--;continue}Ku(Ee,{depth:fe,index:we})}},S=function(){for(var fe=0;fe<b.length;fe++)A(fe)},M=function(fe,re){for(var we=Fn(fe),Ee=fe.incomers().filter(function(z){return z.isNode()&&n.has(z)}),Ae=-1,Be=fe.id(),ke=0;ke<Ee.length;ke++){var Ie=Ee[ke],he=Fn(Ie);Ae=Math.max(Ae,he.depth)}return we.depth<=Ae?re[Be]?null:(L(fe,Ae+1),re[Be]=!0,!0):!1};if(a&&s){var k=[],R={},G=function(fe){return k.push(fe)},P=function(){return k.shift()};for(i.forEach(function(Le){return k.push(Le)});k.length>0;){var Y=P(),H=M(Y,R);if(H)Y.outgoers().filter(function(Le){return Le.isNode()&&n.has(Le)}).forEach(G);else if(H===null){ft("Detected double maximal shift for node `"+Y.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}S();var U=0;if(e.avoidOverlap)for(var W=0;W<i.length;W++){var _=i[W],j=_.layoutDimensions(e),K=j.w,te=j.h;U=Math.max(U,K,te)}var ie={},oe=function(fe){if(ie[fe.id()])return ie[fe.id()];for(var re=Fn(fe).depth,we=fe.neighborhood(),Ee=0,Ae=0,Be=0;Be<we.length;Be++){var ke=we[Be];if(!(ke.isEdge()||ke.isParent()||!i.has(ke))){var Ie=Fn(ke);if(Ie!=null){var he=Ie.index,z=Ie.depth;if(!(he==null||z==null)){var ne=b[z].length;z<re&&(Ee+=he/ne,Ae++)}}}}return Ae=Math.max(1,Ae),Ee=Ee/Ae,Ae===0&&(Ee=0),ie[fe.id()]=Ee,Ee},ue=function(fe,re){var we=oe(fe),Ee=oe(re),Ae=we-Ee;return Ae===0?Nl(fe.id(),re.id()):Ae};e.depthSort!==void 0&&(ue=e.depthSort);for(var le=0;le<b.length;le++)b[le].sort(ue),A(le);for(var Q=[],de=0;de<N.length;de++)Q.push(N[de]);b.unshift(Q),S();for(var ce=0,De=0;De<b.length;De++)ce=Math.max(b[De].length,ce);var Se={x:u.x1+u.w/2,y:u.x1+u.h/2},Ve=b.reduce(function(Le,fe){return Math.max(Le,fe.length)},0),Fe=function(fe){var re=Fn(fe),we=re.depth,Ee=re.index,Ae=b[we].length,Be=Math.max(u.w/((e.grid?Ve:Ae)+1),U),ke=Math.max(u.h/(b.length+1),U),Ie=Math.min(u.w/2/b.length,u.h/2/b.length);if(Ie=Math.max(Ie,U),e.circle){var z=Ie*we+Ie-(b.length>0&&b[0].length<=3?Ie/2:0),ne=2*Math.PI/b[we].length*Ee;return we===0&&b[0].length===1&&(z=1),{x:Se.x+z*Math.cos(ne),y:Se.y+z*Math.sin(ne)}}else{var he={x:Se.x+(Ee+1-(Ae+1)/2)*Be,y:(we+1)*ke};return he}};return n.nodes().layoutPositions(this,e,Fe),this};var F0={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Tf(t){this.options=We({},F0,t)}Tf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a=lr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,l=u/Math.max(1,o.length-1),f,h=0,p=0;p<o.length;p++){var v=o[p],g=v.layoutDimensions(e),m=g.w,w=g.h;h=Math.max(h,m,w)}if(Me(e.radius)?f=e.radius:o.length<=1?f=0:f=Math.min(a.h,a.w)/2-h,o.length>1&&e.avoidOverlap){h*=1.75;var b=Math.cos(l)-Math.cos(0),T=Math.sin(l)-Math.sin(0),x=Math.sqrt(h*h/(b*b+T*T));f=Math.max(x,f)}var L=function(d,C){var A=e.startAngle+C*l*(i?1:-1),S=f*Math.cos(A),M=f*Math.sin(A),k={x:s.x+S,y:s.y+M};return k};return n.nodes().layoutPositions(this,e,L),this};var z0={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Cf(t){this.options=We({},z0,t)}Cf.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,o=i.nodes().not(":parent"),a=lr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=[],l=0,f=0;f<o.length;f++){var h=o[f],p=void 0;p=e.concentric(h),u.push({value:p,node:h}),h._private.scratch.concentric=p}o.updateStyle();for(var v=0;v<o.length;v++){var g=o[v],m=g.layoutDimensions(e);l=Math.max(l,m.w,m.h)}u.sort(function(Le,fe){return fe.value-Le.value});for(var w=e.levelWidth(o),b=[[]],T=b[0],x=0;x<u.length;x++){var L=u[x];if(T.length>0){var N=Math.abs(T[0].value-L.value);N>=w&&(T=[],b.push(T))}T.push(L)}var d=l+e.minNodeSpacing;if(!e.avoidOverlap){var C=b.length>0&&b[0].length>1,A=Math.min(a.w,a.h)/2-d,S=A/(b.length+C?1:0);d=Math.min(d,S)}for(var M=0,k=0;k<b.length;k++){var R=b[k],G=e.sweep===void 0?2*Math.PI-2*Math.PI/R.length:e.sweep,P=R.dTheta=G/Math.max(1,R.length-1);if(R.length>1&&e.avoidOverlap){var Y=Math.cos(P)-Math.cos(0),H=Math.sin(P)-Math.sin(0),U=Math.sqrt(d*d/(Y*Y+H*H));M=Math.max(U,M)}R.r=M,M+=d}if(e.equidistant){for(var W=0,_=0,j=0;j<b.length;j++){var K=b[j],te=K.r-_;W=Math.max(W,te)}_=0;for(var ie=0;ie<b.length;ie++){var oe=b[ie];ie===0&&(_=oe.r),oe.r=_,_+=W}}for(var ue={},le=0;le<b.length;le++)for(var Q=b[le],de=Q.dTheta,ce=Q.r,De=0;De<Q.length;De++){var Se=Q[De],Ve=e.startAngle+(r?1:-1)*de*De,Fe={x:s.x+ce*Math.cos(Ve),y:s.y+ce*Math.sin(Ve)};ue[Se.node.id()]=Fe}return i.nodes().layoutPositions(this,e,function(Le){var fe=Le.id();return ue[fe]}),this};var Bo,G0={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function no(t){this.options=We({},G0,t),this.options.layout=this}no.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Bo=!0:Bo=!1;var n=H0(e,r,t);Bo&&V0(n),t.randomize&&U0(n);var i=Hr(),o=function(){Y0(n,e,t),t.fit===!0&&e.fit(t.padding)},a=function(p){return!(r.stopped||p>=t.numIter||(X0(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)o(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),v=Df(n,t,p);p.layoutPositions(r,t,v)}},u=0,l=!0;if(t.animate===!0){var f=function h(){for(var p=0;l&&p<t.refresh;)l=a(u),u++,p++;if(!l)Qu(n,t),s();else{var v=Hr();v-i>=t.animationThreshold&&o(),Mi(h)}};f()}else{for(;l;)l=a(u),u++;Qu(n,t),s()}return this};no.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};no.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var H0=function(e,r,n){for(var i=n.eles.edges(),o=n.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:lr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},s=n.eles.components(),u={},l=0;l<s.length;l++)for(var f=s[l],h=0;h<f.length;h++){var p=f[h];u[p.id()]=l}for(var l=0;l<a.nodeSize;l++){var v=o[l],g=v.layoutDimensions(n),m={};m.isLocked=v.locked(),m.id=v.data("id"),m.parentId=v.data("parent"),m.cmptId=u[v.id()],m.children=[],m.positionX=v.position("x"),m.positionY=v.position("y"),m.offsetX=0,m.offsetY=0,m.height=g.w,m.width=g.h,m.maxX=m.positionX+m.width/2,m.minX=m.positionX-m.width/2,m.maxY=m.positionY+m.height/2,m.minY=m.positionY-m.height/2,m.padLeft=parseFloat(v.style("padding")),m.padRight=parseFloat(v.style("padding")),m.padTop=parseFloat(v.style("padding")),m.padBottom=parseFloat(v.style("padding")),m.nodeRepulsion=Ct(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,a.layoutNodes.push(m),a.idToIndex[m.id]=l}for(var w=[],b=0,T=-1,x=[],l=0;l<a.nodeSize;l++){var v=a.layoutNodes[l],L=v.parentId;L!=null?a.layoutNodes[a.idToIndex[L]].children.push(v.id):(w[++T]=v.id,x.push(v.id))}for(a.graphSet.push(x);b<=T;){var N=w[b++],d=a.idToIndex[N],p=a.layoutNodes[d],C=p.children;if(C.length>0){a.graphSet.push(C);for(var l=0;l<C.length;l++)w[++T]=C[l]}}for(var l=0;l<a.graphSet.length;l++)for(var A=a.graphSet[l],h=0;h<A.length;h++){var S=a.idToIndex[A[h]];a.indexToGraph[S]=l}for(var l=0;l<a.edgeSize;l++){var M=i[l],k={};k.id=M.data("id"),k.sourceId=M.data("source"),k.targetId=M.data("target");var R=Ct(n.idealEdgeLength)?n.idealEdgeLength(M):n.idealEdgeLength,G=Ct(n.edgeElasticity)?n.edgeElasticity(M):n.edgeElasticity,P=a.idToIndex[k.sourceId],Y=a.idToIndex[k.targetId],H=a.indexToGraph[P],U=a.indexToGraph[Y];if(H!=U){for(var W=q0(k.sourceId,k.targetId,a),_=a.graphSet[W],j=0,m=a.layoutNodes[P];_.indexOf(m.id)===-1;)m=a.layoutNodes[a.idToIndex[m.parentId]],j++;for(m=a.layoutNodes[Y];_.indexOf(m.id)===-1;)m=a.layoutNodes[a.idToIndex[m.parentId]],j++;R*=j*n.nestingFactor}k.idealLength=R,k.elasticity=G,a.layoutEdges.push(k)}return a},q0=function(e,r,n){var i=$0(e,r,0,n);return 2>i.count?0:i.graph},$0=function t(e,r,n,i){var o=i.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(r))return{count:2,graph:n};for(var a=0,s=0;s<o.length;s++){var u=o[s],l=i.idToIndex[u],f=i.layoutNodes[l].children;if(f.length!==0){var h=i.indexToGraph[i.idToIndex[f[0]]],p=t(e,r,h,i);if(p.count!==0)if(p.count===1){if(a++,a===2)break}else return p}}return{count:a,graph:n}},V0,U0=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var a=e.layoutNodes[o];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*n,a.positionY=Math.random()*i)}},Df=function(e,r,n){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];o.x1=Math.min(o.x1,s.positionX),o.x2=Math.max(o.x2,s.positionX),o.y1=Math.min(o.y1,s.positionY),o.y2=Math.max(o.y2,s.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(a,s){var u=e.layoutNodes[e.idToIndex[a.data("id")]];if(r.boundingBox){var l=(u.positionX-o.x1)/o.w,f=(u.positionY-o.y1)/o.h;return{x:i.x1+l*i.w,y:i.y1+f*i.h}}else return{x:u.positionX,y:u.positionY}}},Y0=function(e,r,n){var i=n.layout,o=n.eles.nodes(),a=Df(e,n,o);o.positions(a),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},X0=function(e,r,n){W0(e,r),Z0(e),Q0(e,r),j0(e),J0(e)},W0=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],o=i.length,a=0;a<o;a++)for(var s=e.layoutNodes[e.idToIndex[i[a]]],u=a+1;u<o;u++){var l=e.layoutNodes[e.idToIndex[i[u]]];_0(s,l,e,r)}},Zu=function(e){return-e+2*e*Math.random()},_0=function(e,r,n,i){var o=e.cmptId,a=r.cmptId;if(!(o!==a&&!n.isCompound)){var s=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;s===0&&u===0&&(s=Zu(l),u=Zu(l));var f=K0(e,r,s,u);if(f>0)var h=i.nodeOverlap*f,p=Math.sqrt(s*s+u*u),v=h*s/p,g=h*u/p;else var m=Pi(e,s,u),w=Pi(r,-1*s,-1*u),b=w.x-m.x,T=w.y-m.y,x=b*b+T*T,p=Math.sqrt(x),h=(e.nodeRepulsion+r.nodeRepulsion)/x,v=h*b/p,g=h*T/p;e.isLocked||(e.offsetX-=v,e.offsetY-=g),r.isLocked||(r.offsetX+=v,r.offsetY+=g)}},K0=function(e,r,n,i){if(n>0)var o=e.maxX-r.minX;else var o=r.maxX-e.minX;if(i>0)var a=e.maxY-r.minY;else var a=r.maxY-e.minY;return o>=0&&a>=0?Math.sqrt(o*o+a*a):0},Pi=function(e,r,n){var i=e.positionX,o=e.positionY,a=e.height||1,s=e.width||1,u=n/r,l=a/s,f={};return r===0&&0<n||r===0&&0>n?(f.x=i,f.y=o+a/2,f):0<r&&-1*l<=u&&u<=l?(f.x=i+s/2,f.y=o+s*n/2/r,f):0>r&&-1*l<=u&&u<=l?(f.x=i-s/2,f.y=o-s*n/2/r,f):0<n&&(u<=-1*l||u>=l)?(f.x=i+a*r/2/n,f.y=o+a/2,f):(0>n&&(u<=-1*l||u>=l)&&(f.x=i-a*r/2/n,f.y=o-a/2),f)},Z0=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],o=e.idToIndex[i.sourceId],a=e.layoutNodes[o],s=e.idToIndex[i.targetId],u=e.layoutNodes[s],l=u.positionX-a.positionX,f=u.positionY-a.positionY;if(!(l===0&&f===0)){var h=Pi(a,l,f),p=Pi(u,-1*l,-1*f),v=p.x-h.x,g=p.y-h.y,m=Math.sqrt(v*v+g*g),w=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var b=w*v/m,T=w*g/m;else var b=0,T=0;a.isLocked||(a.offsetX+=b,a.offsetY+=T),u.isLocked||(u.offsetX-=b,u.offsetY-=T)}}},Q0=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],a=o.length;if(i===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[o[0]]],f=e.layoutNodes[e.idToIndex[l.parentId]],s=f.positionX,u=f.positionY;for(var h=0;h<a;h++){var p=e.layoutNodes[e.idToIndex[o[h]]];if(!p.isLocked){var v=s-p.positionX,g=u-p.positionY,m=Math.sqrt(v*v+g*g);if(m>n){var w=r.gravity*v/m,b=r.gravity*g/m;p.offsetX+=w,p.offsetY+=b}}}}},j0=function(e,r){var n=[],i=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var a=n[i++],s=e.idToIndex[a],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var f=u.offsetX,h=u.offsetY,p=0;p<l.length;p++){var v=e.layoutNodes[e.idToIndex[l[p]]];v.offsetX+=f,v.offsetY+=h,n[++o]=l[p]}u.offsetX=0,u.offsetY=0}}},J0=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var o=eb(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,tb(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},eb=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var o={x:n*e/i,y:n*r/i};else var o={x:e,y:r};return o},tb=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return t(i,r)}},Qu=function(e,r){for(var n=e.layoutNodes,i=[],o=0;o<n.length;o++){var a=n[o],s=a.cmptId,u=i[s]=i[s]||[];u.push(a)}for(var l=0,o=0;o<i.length;o++){var f=i[o];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var h=0;h<f.length;h++){var p=f[h];f.x1=Math.min(f.x1,p.positionX-p.width/2),f.x2=Math.max(f.x2,p.positionX+p.width/2),f.y1=Math.min(f.y1,p.positionY-p.height/2),f.y2=Math.max(f.y2,p.positionY+p.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,l+=f.w*f.h}}i.sort(function(T,x){return x.w*x.h-T.w*T.h});for(var v=0,g=0,m=0,w=0,b=Math.sqrt(l)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var f=i[o];if(f){for(var h=0;h<f.length;h++){var p=f[h];p.isLocked||(p.positionX+=v-f.x1,p.positionY+=g-f.y1)}v+=f.w+r.componentSpacing,m+=f.w+r.componentSpacing,w=Math.max(w,f.h),m>b&&(g+=w+r.componentSpacing,v=0,m=0,w=0)}}},rb={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Sf(t){this.options=We({},rb,t)}Sf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=lr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,e,function(ie){return{x:o.x1,y:o.y1}});else{var a=i.size(),s=Math.sqrt(a*o.h/o.w),u=Math.round(s),l=Math.round(o.w/o.h*s),f=function(oe){if(oe==null)return Math.min(u,l);var ue=Math.min(u,l);ue==u?u=oe:l=oe},h=function(oe){if(oe==null)return Math.max(u,l);var ue=Math.max(u,l);ue==u?u=oe:l=oe},p=e.rows,v=e.cols!=null?e.cols:e.columns;if(p!=null&&v!=null)u=p,l=v;else if(p!=null&&v==null)u=p,l=Math.ceil(a/u);else if(p==null&&v!=null)l=v,u=Math.ceil(a/l);else if(l*u>a){var g=f(),m=h();(g-1)*m>=a?f(g-1):(m-1)*g>=a&&h(m-1)}else for(;l*u<a;){var w=f(),b=h();(b+1)*w>=a?h(b+1):f(w+1)}var T=o.w/l,x=o.h/u;if(e.condense&&(T=0,x=0),e.avoidOverlap)for(var L=0;L<i.length;L++){var N=i[L],d=N._private.position;(d.x==null||d.y==null)&&(d.x=0,d.y=0);var C=N.layoutDimensions(e),A=e.avoidOverlapPadding,S=C.w+A,M=C.h+A;T=Math.max(T,S),x=Math.max(x,M)}for(var k={},R=function(oe,ue){return!!k["c-"+oe+"-"+ue]},G=function(oe,ue){k["c-"+oe+"-"+ue]=!0},P=0,Y=0,H=function(){Y++,Y>=l&&(Y=0,P++)},U={},W=0;W<i.length;W++){var _=i[W],j=e.position(_);if(j&&(j.row!==void 0||j.col!==void 0)){var K={row:j.row,col:j.col};if(K.col===void 0)for(K.col=0;R(K.row,K.col);)K.col++;else if(K.row===void 0)for(K.row=0;R(K.row,K.col);)K.row++;U[_.id()]=K,G(K.row,K.col)}}var te=function(oe,ue){var le,Q;if(oe.locked()||oe.isParent())return!1;var de=U[oe.id()];if(de)le=de.col*T+T/2+o.x1,Q=de.row*x+x/2+o.y1;else{for(;R(P,Y);)H();le=Y*T+T/2+o.x1,Q=P*x+x/2+o.y1,G(P,Y),H()}return{x:le,y:Q}};i.layoutPositions(this,e,te)}return this};var nb={ready:function(){},stop:function(){}};function xs(t){this.options=We({},nb,t)}xs.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};xs.prototype.stop=function(){return this};var ab={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Lf(t){this.options=We({},ab,t)}Lf.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Ct(t.positions);function i(o){if(t.positions==null)return yy(o.position());if(n)return t.positions(o);var a=t.positions[o._private.data.id];return a??null}return r.layoutPositions(this,t,function(o,a){var s=i(o);return o.locked()||s==null?!1:s}),this};var ib={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Af(t){this.options=We({},ib,t)}Af.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=lr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(a,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var ob=[{name:"breadthfirst",impl:xf},{name:"circle",impl:Tf},{name:"concentric",impl:Cf},{name:"cose",impl:no},{name:"grid",impl:Sf},{name:"null",impl:xs},{name:"preset",impl:Lf},{name:"random",impl:Af}];function Nf(t){this.options=t,this.notifications=0}var ju=function(){},Ju=function(){throw new Error("A headless instance can not render images")};Nf.prototype={recalculateRenderedStyle:ju,notify:function(){this.notifications++},init:ju,isHeadless:function(){return!0},png:Ju,jpg:Ju};var Ts={};Ts.arrowShapeWidth=.3;Ts.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,f,h,p,v,g,m){var w=v.x-h/2-m,b=v.x+h/2+m,T=v.y-h/2-m,x=v.y+h/2+m,L=w<=l&&l<=b&&T<=f&&f<=x;return L},n=function(l,f,h,p,v){var g=l*Math.cos(p)-f*Math.sin(p),m=l*Math.sin(p)+f*Math.cos(p),w=g*h,b=m*h,T=w+v.x,x=b+v.y;return{x:T,y:x}},i=function(l,f,h,p){for(var v=[],g=0;g<l.length;g+=2){var m=l[g],w=l[g+1];v.push(n(m,w,f,h,p))}return v},o=function(l){for(var f=[],h=0;h<l.length;h++){var p=l[h];f.push(p.x,p.y)}return f},a=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,f){qe(f)&&(f=t[f]),t[l]=We({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,v,g,m,w,b){var T=o(i(this.points,g+2*b,m,w)),x=ur(p,v,T);return x},roughCollide:r,draw:function(p,v,g,m){var w=i(this.points,v,g,m);e.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:a},f)};s("none",{collide:Oi,roughCollide:Oi,draw:cs,spacing:du,gap:du}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,f,h,p,v){var g=i(this.points,f,h,p),m=this.controlPoint,w=n(m[0],m[1],f,h,p);e.arrowShapeImpl(this.name)(l,g,w)},gap:function(l){return a(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,f,h,p,v,g,m){var w=o(i(this.points,h+2*m,p,v)),b=o(i(this.pointsTee,h+2*m,p,v)),T=ur(l,f,w)||ur(l,f,b);return T},draw:function(l,f,h,p,v){var g=i(this.points,f,h,p),m=i(this.pointsTee,f,h,p);e.arrowShapeImpl(this.name)(l,g,m)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,f,h,p,v,g,m){var w=v,b=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((h+2*m)*this.radius,2),T=o(i(this.points,h+2*m,p,v));return ur(l,f,T)||b},draw:function(l,f,h,p,v){var g=i(this.pointsTr,f,h,p);e.arrowShapeImpl(this.name)(l,g,p.x,p.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,f){var h=this.baseCrossLinePts.slice(),p=f/l,v=3,g=5;return h[v]=h[v]-p,h[g]=h[g]-p,h},collide:function(l,f,h,p,v,g,m){var w=o(i(this.points,h+2*m,p,v)),b=o(i(this.crossLinePts(h,g),h+2*m,p,v)),T=ur(l,f,w)||ur(l,f,b);return T},draw:function(l,f,h,p,v){var g=i(this.points,f,h,p),m=i(this.crossLinePts(f,v),f,h,p);e.arrowShapeImpl(this.name)(l,g,m)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return a(l)*.525}}),s("circle",{radius:.15,collide:function(l,f,h,p,v,g,m){var w=v,b=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((h+2*m)*this.radius,2);return b},draw:function(l,f,h,p,v){e.arrowShapeImpl(this.name)(l,p.x,p.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Ln={};Ln.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],o=n[1],a=n[4],s=r.pan(),u=r.zoom(),l=((t-i)/a-s.x)/u,f=((e-o)/a-s.y)/u;return[l,f]};Ln.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=xt.getComputedStyle(t),n=function(b){return parseFloat(r.getPropertyValue(b))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},o={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},a=t.clientWidth,s=t.clientHeight,u=i.left+i.right,l=i.top+i.bottom,f=o.left+o.right,h=e.width/(a+f),p=a-u,v=s-l,g=e.left+i.left+o.left,m=e.top+i.top+o.top;return this.containerBB=[g,m,p,v,h]};Ln.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ln.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Ln.findNearestElements=function(t,e,r,n){var i=this,o=this,a=o.getCachedZSortedEles(),s=[],u=o.cy.zoom(),l=o.cy.hasCompoundNodes(),f=(n?24:8)/u,h=(n?8:2)/u,p=(n?8:2)/u,v=1/0,g,m;r&&(a=a.interactive);function w(C,A){if(C.isNode()){if(m)return;m=C,s.push(C)}if(C.isEdge()&&(A==null||A<v))if(g){if(g.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var S=0;S<s.length;S++)if(s[S].isEdge()){s[S]=C,g=C,v=A??v;break}}}else s.push(C),g=C,v=A??v}function b(C){var A=C.outerWidth()+2*h,S=C.outerHeight()+2*h,M=A/2,k=S/2,R=C.position();if(R.x-M<=t&&t<=R.x+M&&R.y-k<=e&&e<=R.y+k){var G=o.nodeShapes[i.getNodeShape(C)];if(G.checkPoint(t,e,0,A,S,R.x,R.y))return w(C,0),!0}}function T(C){var A=C._private,S=A.rscratch,M=C.pstyle("width").pfValue,k=C.pstyle("arrow-scale").value,R=M/2+f,G=R*R,P=R*2,W=A.source,_=A.target,Y;if(S.edgeType==="segments"||S.edgeType==="straight"||S.edgeType==="haystack"){for(var H=S.allpts,U=0;U+3<H.length;U+=2)if(My(t,e,H[U],H[U+1],H[U+2],H[U+3],P)&&G>(Y=Py(t,e,H[U],H[U+1],H[U+2],H[U+3])))return w(C,Y),!0}else if(S.edgeType==="bezier"||S.edgeType==="multibezier"||S.edgeType==="self"||S.edgeType==="compound"){for(var H=S.allpts,U=0;U+5<S.allpts.length;U+=4)if(Oy(t,e,H[U],H[U+1],H[U+2],H[U+3],H[U+4],H[U+5],P)&&G>(Y=Ry(t,e,H[U],H[U+1],H[U+2],H[U+3],H[U+4],H[U+5])))return w(C,Y),!0}for(var W=W||A.source,_=_||A.target,j=i.getArrowWidth(M,k),K=[{name:"source",x:S.arrowStartX,y:S.arrowStartY,angle:S.srcArrowAngle},{name:"target",x:S.arrowEndX,y:S.arrowEndY,angle:S.tgtArrowAngle},{name:"mid-source",x:S.midX,y:S.midY,angle:S.midsrcArrowAngle},{name:"mid-target",x:S.midX,y:S.midY,angle:S.midtgtArrowAngle}],U=0;U<K.length;U++){var te=K[U],ie=o.arrowShapes[C.pstyle(te.name+"-arrow-shape").value],oe=C.pstyle("width").pfValue;if(ie.roughCollide(t,e,j,te.angle,{x:te.x,y:te.y},oe,f)&&ie.collide(t,e,j,te.angle,{x:te.x,y:te.y},oe,f))return w(C),!0}l&&s.length>0&&(b(W),b(_))}function x(C,A,S){return Lr(C,A,S)}function L(C,A){var S=C._private,M=p,k;A?k=A+"-":k="",C.boundingBox();var R=S.labelBounds[A||"main"],G=C.pstyle(k+"label").value,P=C.pstyle("text-events").strValue==="yes";if(!(!P||!G)){var Y=x(S.rscratch,"labelX",A),H=x(S.rscratch,"labelY",A),U=x(S.rscratch,"labelAngle",A),W=C.pstyle(k+"text-margin-x").pfValue,_=C.pstyle(k+"text-margin-y").pfValue,j=R.x1-M-W,K=R.x2+M-W,te=R.y1-M-_,ie=R.y2+M-_;if(U){var oe=Math.cos(U),ue=Math.sin(U),le=function(Fe,Le){return Fe=Fe-Y,Le=Le-H,{x:Fe*oe-Le*ue+Y,y:Fe*ue+Le*oe+H}},Q=le(j,te),de=le(j,ie),ce=le(K,te),De=le(K,ie),Se=[Q.x+W,Q.y+_,ce.x+W,ce.y+_,De.x+W,De.y+_,de.x+W,de.y+_];if(ur(t,e,Se))return w(C),!0}else if(Xn(R,t,e))return w(C),!0}}for(var N=a.length-1;N>=0;N--){var d=a[N];d.isNode()?b(d)||L(d):T(d)||L(d)||L(d,"source")||L(d,"target")}return s};Ln.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,o=[],a=Math.min(t,r),s=Math.max(t,r),u=Math.min(e,n),l=Math.max(e,n);t=a,r=s,e=u,n=l;for(var f=lr({x1:t,y1:e,x2:r,y2:n}),h=0;h<i.length;h++){var p=i[h];if(p.isNode()){var v=p,g=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});ds(f,g)&&!$l(g,f)&&o.push(v)}else{var m=p,w=m._private,b=w.rscratch;if(b.startX!=null&&b.startY!=null&&!Xn(f,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!Xn(f,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var T=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,x=!0,L=0;L<T.length;L++)if(!Ny(f,T[L])){x=!1;break}x&&o.push(m)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&o.push(m)}}return o};var Bi={};Bi.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",a=e.edgeType==="compound",s=e.edgeType==="self",u,l,f,h,p,v,b,T;if(r?(f=e.haystackPts[0],h=e.haystackPts[1],p=e.haystackPts[2],v=e.haystackPts[3]):(f=e.arrowStartX,h=e.arrowStartY,p=e.arrowEndX,v=e.arrowEndY),b=e.midX,T=e.midY,o)u=f-e.segpts[0],l=h-e.segpts[1];else if(i||a||s||n){var g=e.allpts,m=Bt(g[0],g[2],g[4],.1),w=Bt(g[1],g[3],g[5],.1);u=f-m,l=h-w}else u=f-b,l=h-T;e.srcArrowAngle=hi(u,l);var b=e.midX,T=e.midY;if(r&&(b=(f+p)/2,T=(h+v)/2),u=p-f,l=v-h,o){var g=e.allpts;if(g.length/2%2===0){var x=g.length/2,L=x-2;u=g[x]-g[L],l=g[x+1]-g[L+1]}else{var x=g.length/2-1,L=x-2,N=x+2;u=g[x]-g[L],l=g[x+1]-g[L+1]}}else if(i||a||s){var g=e.allpts,d=e.ctrlpts,C,A,S,M;if(d.length/2%2===0){var k=g.length/2-1,R=k+2,G=R+2;C=Bt(g[k],g[R],g[G],0),A=Bt(g[k+1],g[R+1],g[G+1],0),S=Bt(g[k],g[R],g[G],1e-4),M=Bt(g[k+1],g[R+1],g[G+1],1e-4)}else{var R=g.length/2-1,k=R-2,G=R+2;C=Bt(g[k],g[R],g[G],.4999),A=Bt(g[k+1],g[R+1],g[G+1],.4999),S=Bt(g[k],g[R],g[G],.5),M=Bt(g[k+1],g[R+1],g[G+1],.5)}u=S-C,l=M-A}if(e.midtgtArrowAngle=hi(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,o){var g=e.allpts;if(g.length/2%2!==0){var x=g.length/2-1,N=x+2;u=-(g[N]-g[x]),l=-(g[N+1]-g[x+1])}}if(e.midsrcArrowAngle=hi(u,l),o)u=p-e.segpts[e.segpts.length-2],l=v-e.segpts[e.segpts.length-1];else if(i||a||s||n){var g=e.allpts,P=g.length,m=Bt(g[P-6],g[P-4],g[P-2],.9),w=Bt(g[P-5],g[P-3],g[P-1],.9);u=p-m,l=v-w}else u=p-b,l=v-T;e.tgtArrowAngle=hi(u,l)};Bi.getArrowWidth=Bi.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var er={};er.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=n.source,s=n.target,u=a.position(),l=s.position(),f=a.width(),h=s.width(),p=a.height(),v=s.height(),g=r.pstyle("haystack-radius").value,m=g/2;i.haystackPts=i.allpts=[i.source.x*f*m+u.x,i.source.y*p*m+u.y,i.target.x*h*m+l.x,i.target.y*v*m+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};er.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=e.posPts,i=e.intersectionPts,o=e.vectorNormInverse,a=t.pstyle("edge-distances").value,s=t.pstyle("segment-weights"),u=t.pstyle("segment-distances"),l=Math.min(s.pfValue.length,u.pfValue.length);r.edgeType="segments",r.segpts=[];for(var f=0;f<l;f++){var h=s.pfValue[f],p=u.pfValue[f],v=1-h,g=h,m=a==="node-position"?n:i,w={x:m.x1*v+m.x2*g,y:m.y1*v+m.y2*g};r.segpts.push(w.x+o.x*p,w.y+o.y*p)}};er.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,o=e.dirCounts,a=e.srcPos,s=t.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,f=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=r,v=h;n&&(p=0,v=u);var g=l-Math.PI/2,m=g-f/2,w=g+f/2,b=l+"_"+f;p=o[b]===void 0?o[b]=0:++o[b],i.ctrlpts=[a.x+Math.cos(m)*1.4*v*(p/3+1),a.y+Math.sin(m)*1.4*v*(p/3+1),a.x+Math.cos(w)*1.4*v*(p/3+1),a.y+Math.sin(w)*1.4*v*(p/3+1)]};er.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,f=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),v=p?p.pfValue[0]:void 0,g=r,m=h;n&&(g=0,m=v);var w=50,b={x:o.x-s/2,y:o.y-u/2},T={x:a.x-l/2,y:a.y-f/2},x={x:Math.min(b.x,T.x),y:Math.min(b.y,T.y)},L=.5,N=Math.max(L,Math.log(s*.01)),d=Math.max(L,Math.log(l*.01));i.ctrlpts=[x.x,x.y-(1+Math.pow(w,1.12)/100)*m*(g/3+1)*N,x.x-(1+Math.pow(w,1.12)/100)*m*(g/3+1)*d,x.y]};er.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};er.findBezierPoints=function(t,e,r,n,i){var o=t._private.rscratch,a=e.vectorNormInverse,s=e.posPts,u=e.intersectionPts,l=t.pstyle("edge-distances").value,f=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),p=t.pstyle("control-point-weights"),v=h&&p?Math.min(h.value.length,p.value.length):1,g=h?h.pfValue[0]:void 0,m=p.value[0],w=n;o.edgeType=w?"multibezier":"bezier",o.ctrlpts=[];for(var b=0;b<v;b++){var T=(.5-e.eles.length/2+r)*f*(i?-1:1),x=void 0,L=ql(T);w&&(g=h?h.pfValue[b]:f,m=p.value[b]),n?x=g:x=g!==void 0?L*g:void 0;var N=x!==void 0?x:T,d=1-m,C=m,A=l==="node-position"?s:u,S={x:A.x1*d+A.x2*C,y:A.y1*d+A.y2*C};o.ctrlpts.push(S.x+a.x*N,S.y+a.y*N)}};er.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",o="leftward",a="rightward",s="downward",u="upward",l="auto",f=e.posPts,h=e.srcW,p=e.srcH,v=e.tgtW,g=e.tgtH,m=t.pstyle("edge-distances").value,w=m!=="node-position",b=t.pstyle("taxi-direction").value,T=b,x=t.pstyle("taxi-turn"),L=x.units==="%",N=x.pfValue,d=N<0,C=t.pstyle("taxi-turn-min-distance").pfValue,A=w?(h+v)/2:0,S=w?(p+g)/2:0,M=f.x2-f.x1,k=f.y2-f.y1,R=function(Pe,Je){return Pe>0?Math.max(Pe-Je,0):Math.min(Pe+Je,0)},G=R(M,A),P=R(k,S),Y=!1;T===l?b=Math.abs(G)>Math.abs(P)?i:n:T===u||T===s?(b=n,Y=!0):(T===o||T===a)&&(b=i,Y=!0);var H=b===n,U=H?P:G,W=H?k:M,_=ql(W),j=!1;!(Y&&(L||d))&&(T===s&&W<0||T===u&&W>0||T===o&&W>0||T===a&&W<0)&&(_*=-1,U=_*Math.abs(U),j=!0);var K;if(L){var te=N<0?1+N:N;K=te*U}else{var ie=N<0?U:0;K=ie+N*_}var oe=function(Pe){return Math.abs(Pe)<C||Math.abs(Pe)>=Math.abs(U)},ue=oe(K),le=oe(Math.abs(U)-Math.abs(K)),Q=ue||le;if(Q&&!j)if(H){var de=Math.abs(W)<=p/2,ce=Math.abs(M)<=v/2;if(de){var De=(f.x1+f.x2)/2,Se=f.y1,Ve=f.y2;r.segpts=[De,Se,De,Ve]}else if(ce){var Fe=(f.y1+f.y2)/2,Le=f.x1,fe=f.x2;r.segpts=[Le,Fe,fe,Fe]}else r.segpts=[f.x1,f.y2]}else{var re=Math.abs(W)<=h/2,we=Math.abs(k)<=g/2;if(re){var Ee=(f.y1+f.y2)/2,Ae=f.x1,Be=f.x2;r.segpts=[Ae,Ee,Be,Ee]}else if(we){var ke=(f.x1+f.x2)/2,Ie=f.y1,he=f.y2;r.segpts=[ke,Ie,ke,he]}else r.segpts=[f.x2,f.y1]}else if(H){var z=f.y1+K+(w?p/2*_:0),ne=f.x1,me=f.x2;r.segpts=[ne,z,me,z]}else{var ye=f.x1+K+(w?h/2*_:0),ge=f.y1,Ke=f.y2;r.segpts=[ye,ge,ye,Ke]}};er.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,f=e.tgtShape,h=!Me(r.startX)||!Me(r.startY),p=!Me(r.arrowStartX)||!Me(r.arrowStartY),v=!Me(r.endX)||!Me(r.endY),g=!Me(r.arrowEndX)||!Me(r.arrowEndY),m=3,w=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,b=m*w,T=xn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),x=T<b,L=xn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),N=L<b,d=!1;if(h||p||x){d=!0;var C={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},A=Math.sqrt(C.x*C.x+C.y*C.y),S={x:C.x/A,y:C.y/A},M=Math.max(o,a),k={x:r.ctrlpts[0]+S.x*2*M,y:r.ctrlpts[1]+S.y*2*M},R=l.intersectLine(n.x,n.y,o,a,k.x,k.y,0);x?(r.ctrlpts[0]=r.ctrlpts[0]+S.x*(b-T),r.ctrlpts[1]=r.ctrlpts[1]+S.y*(b-T)):(r.ctrlpts[0]=R[0]+S.x*b,r.ctrlpts[1]=R[1]+S.y*b)}if(v||g||N){d=!0;var G={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},P=Math.sqrt(G.x*G.x+G.y*G.y),Y={x:G.x/P,y:G.y/P},H=Math.max(o,a),U={x:r.ctrlpts[0]+Y.x*2*H,y:r.ctrlpts[1]+Y.y*2*H},W=f.intersectLine(i.x,i.y,s,u,U.x,U.y,0);N?(r.ctrlpts[0]=r.ctrlpts[0]+Y.x*(b-L),r.ctrlpts[1]=r.ctrlpts[1]+Y.y*(b-L)):(r.ctrlpts[0]=W[0]+Y.x*b,r.ctrlpts[1]=W[1]+Y.y*b)}d&&this.findEndpoints(t)}};er.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=Bt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=Bt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments")if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var o=e.segpts.length/2,a=o-2;e.midX=(e.segpts[a]+e.segpts[o])/2,e.midY=(e.segpts[a+1]+e.segpts[o+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}};er.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Me(e.startX)&&Me(e.startY)&&Me(e.endX)&&Me(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ft("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};er.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),o={map:new Or,get:function(C){var A=this.map.get(C[0]);return A!=null?A.get(C[1]):null},set:function(C,A){var S=this.map.get(C[0]);S==null&&(S=new Or,this.map.set(C[0],S)),S.set(C[1],A)}},a=[],s=[],u=0;u<t.length;u++){var l=t[u],f=l._private,h=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(h==="haystack"){s.push(l);continue}var p=h==="unbundled-bezier"||h==="segments"||h==="straight"||h==="straight-triangle"||h==="taxi",v=h==="unbundled-bezier"||h==="bezier",g=f.source,m=f.target,w=g.poolIndex(),b=m.poolIndex(),T=[w,b].sort(),x=o.get(T);x==null&&(x={eles:[]},o.set(T,x),a.push(T)),x.eles.push(l),p&&(x.hasUnbundled=!0),v&&(x.hasBezier=!0)}}for(var L=function(C){var A=a[C],S=o.get(A),M=void 0;if(!S.hasUnbundled){var k=S.eles[0].parallelEdges().filter(function(he){return he.isBundledBezier()});hs(S.eles),k.forEach(function(he){return S.eles.push(he)}),S.eles.sort(function(he,z){return he.poolIndex()-z.poolIndex()})}var R=S.eles[0],G=R.source(),P=R.target();if(G.poolIndex()>P.poolIndex()){var Y=G;G=P,P=Y}var H=S.srcPos=G.position(),U=S.tgtPos=P.position(),W=S.srcW=G.outerWidth(),_=S.srcH=G.outerHeight(),j=S.tgtW=P.outerWidth(),K=S.tgtH=P.outerHeight(),te=S.srcShape=r.nodeShapes[e.getNodeShape(G)],ie=S.tgtShape=r.nodeShapes[e.getNodeShape(P)];S.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var oe=0;oe<S.eles.length;oe++){var ue=S.eles[oe],le=ue[0]._private.rscratch,Q=ue.pstyle("curve-style").value,de=Q==="unbundled-bezier"||Q==="segments"||Q==="taxi",ce=!G.same(ue.source());if(!S.calculatedIntersection&&G!==P&&(S.hasBezier||S.hasUnbundled)){S.calculatedIntersection=!0;var De=te.intersectLine(H.x,H.y,W,_,U.x,U.y,0),Se=S.srcIntn=De,Ve=ie.intersectLine(U.x,U.y,j,K,H.x,H.y,0),Fe=S.tgtIntn=Ve,Le=S.intersectionPts={x1:De[0],x2:Ve[0],y1:De[1],y2:Ve[1]},fe=S.posPts={x1:H.x,x2:U.x,y1:H.y,y2:U.y},re=Ve[1]-De[1],we=Ve[0]-De[0],Ee=Math.sqrt(we*we+re*re),Ae=S.vector={x:we,y:re},Be=S.vectorNorm={x:Ae.x/Ee,y:Ae.y/Ee},ke={x:-Be.y,y:Be.x};S.nodesOverlap=!Me(Ee)||ie.checkPoint(De[0],De[1],0,j,K,U.x,U.y)||te.checkPoint(Ve[0],Ve[1],0,W,_,H.x,H.y),S.vectorNormInverse=ke,M={nodesOverlap:S.nodesOverlap,dirCounts:S.dirCounts,calculatedIntersection:!0,hasBezier:S.hasBezier,hasUnbundled:S.hasUnbundled,eles:S.eles,srcPos:U,tgtPos:H,srcW:j,srcH:K,tgtW:W,tgtH:_,srcIntn:Fe,tgtIntn:Se,srcShape:ie,tgtShape:te,posPts:{x1:fe.x2,y1:fe.y2,x2:fe.x1,y2:fe.y1},intersectionPts:{x1:Le.x2,y1:Le.y2,x2:Le.x1,y2:Le.y1},vector:{x:-Ae.x,y:-Ae.y},vectorNorm:{x:-Be.x,y:-Be.y},vectorNormInverse:{x:-ke.x,y:-ke.y}}}var Ie=ce?M:S;le.nodesOverlap=Ie.nodesOverlap,le.srcIntn=Ie.srcIntn,le.tgtIntn=Ie.tgtIntn,i&&(G.isParent()||G.isChild()||P.isParent()||P.isChild())&&(G.parents().anySame(P)||P.parents().anySame(G)||G.same(P)&&G.isParent())?e.findCompoundLoopPoints(ue,Ie,oe,de):G===P?e.findLoopPoints(ue,Ie,oe,de):Q==="segments"?e.findSegmentsPoints(ue,Ie):Q==="taxi"?e.findTaxiPoints(ue,Ie):Q==="straight"||!de&&S.eles.length%2===1&&oe===Math.floor(S.eles.length/2)?e.findStraightEdgePoints(ue):e.findBezierPoints(ue,Ie,oe,de,ce),e.findEndpoints(ue),e.tryToCorrectInvalidPoints(ue,Ie),e.checkForInvalidEdgeWarning(ue),e.storeAllpts(ue),e.storeEdgeProjections(ue),e.calculateArrowAngles(ue),e.recalculateEdgeLabelProjections(ue),e.calculateLabelAngles(ue)}},N=0;N<a.length;N++)L(N);this.findHaystackPoints(s)}};function Mf(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}er.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),Mf(e.segpts)};er.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),Mf(e.ctrlpts)};er.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Za={};Za.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),o=t.outerHeight();if(e.value.length===2){var a=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(a[0]=a[0]*i),e.units[1]==="%"&&(a[1]=a[1]*o),a[0]+=n.x,a[1]+=n.y,a}else{var s=e.pfValue[0];s=-Math.PI/2+s;var u=2*Math.max(i,o),l=[n.x+Math.cos(s)*u,n.y+Math.sin(s)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,o,l[0],l[1],0)}};Za.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],o=n.position(),a=i.position(),s=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,h=t.pstyle("curve-style").value,p=t._private.rscratch,v=p.edgeType,g=h==="taxi",m=v==="self"||v==="compound",w=v==="bezier"||v==="multibezier"||m,b=v!=="bezier",T=v==="straight"||v==="segments",x=v==="segments",L=w||b||T,N=m||g,d=t.pstyle("source-endpoint"),C=N?"outside-to-node":d.value,A=t.pstyle("target-endpoint"),S=N?"outside-to-node":A.value;p.srcManEndpt=d,p.tgtManEndpt=A;var M,k,R,G;if(w){var P=[p.ctrlpts[0],p.ctrlpts[1]],Y=b?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:P;M=Y,k=P}else if(T){var H=x?p.segpts.slice(0,2):[a.x,a.y],U=x?p.segpts.slice(p.segpts.length-2):[o.x,o.y];M=U,k=H}if(S==="inside-to-node")r=[a.x,a.y];else if(A.units)r=this.manualEndptToPx(i,A);else if(S==="outside-to-line")r=p.tgtIntn;else if(S==="outside-to-node"||S==="outside-to-node-or-label"?R=M:(S==="outside-to-line"||S==="outside-to-line-or-label")&&(R=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(a.x,a.y,i.outerWidth(),i.outerHeight(),R[0],R[1],0),S==="outside-to-node-or-label"||S==="outside-to-line-or-label"){var W=i._private.rscratch,_=W.labelWidth,j=W.labelHeight,K=W.labelX,te=W.labelY,ie=_/2,oe=j/2,ue=i.pstyle("text-valign").value;ue==="top"?te-=oe:ue==="bottom"&&(te+=oe);var le=i.pstyle("text-halign").value;le==="left"?K-=ie:le==="right"&&(K+=ie);var Q=Ba(R[0],R[1],[K-ie,te-oe,K+ie,te-oe,K+ie,te+oe,K-ie,te+oe],a.x,a.y);if(Q.length>0){var de=o,ce=mn(de,Hn(r)),De=mn(de,Hn(Q)),Se=ce;if(De<ce&&(r=Q,Se=De),Q.length>2){var Ve=mn(de,{x:Q[2],y:Q[3]});Ve<Se&&(r=[Q[2],Q[3]])}}}var Fe=vi(r,M,e.arrowShapes[s].spacing(t)+l),Le=vi(r,M,e.arrowShapes[s].gap(t)+l);if(p.endX=Le[0],p.endY=Le[1],p.arrowEndX=Fe[0],p.arrowEndY=Fe[1],C==="inside-to-node")r=[o.x,o.y];else if(d.units)r=this.manualEndptToPx(n,d);else if(C==="outside-to-line")r=p.srcIntn;else if(C==="outside-to-node"||C==="outside-to-node-or-label"?G=k:(C==="outside-to-line"||C==="outside-to-line-or-label")&&(G=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),G[0],G[1],0),C==="outside-to-node-or-label"||C==="outside-to-line-or-label"){var fe=n._private.rscratch,re=fe.labelWidth,we=fe.labelHeight,Ee=fe.labelX,Ae=fe.labelY,Be=re/2,ke=we/2,Ie=n.pstyle("text-valign").value;Ie==="top"?Ae-=ke:Ie==="bottom"&&(Ae+=ke);var he=n.pstyle("text-halign").value;he==="left"?Ee-=Be:he==="right"&&(Ee+=Be);var z=Ba(G[0],G[1],[Ee-Be,Ae-ke,Ee+Be,Ae-ke,Ee+Be,Ae+ke,Ee-Be,Ae+ke],o.x,o.y);if(z.length>0){var ne=a,me=mn(ne,Hn(r)),ye=mn(ne,Hn(z)),ge=me;if(ye<me&&(r=[z[0],z[1]],ge=ye),z.length>2){var Ke=mn(ne,{x:z[2],y:z[3]});Ke<ge&&(r=[z[2],z[3]])}}}var xe=vi(r,k,e.arrowShapes[u].spacing(t)+f),Pe=vi(r,k,e.arrowShapes[u].gap(t)+f);p.startX=Pe[0],p.startY=Pe[1],p.arrowStartX=xe[0],p.arrowStartY=xe[1],L&&(!Me(p.startX)||!Me(p.startY)||!Me(p.endX)||!Me(p.endY)?p.badLine=!0:p.badLine=!1)};Za.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Za.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Cs={};function sb(t,e,r){for(var n=function(l,f,h,p){return Bt(l,f,h,p)},i=e._private,o=i.rstyle.bezierPts,a=0;a<t.bezierProjPcts.length;a++){var s=t.bezierProjPcts[a];o.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Cs.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)sb(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)o.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var a=r.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Cs.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var kr={};kr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!rn(e)){var r,n,i=t._private,o=t.width(),a=t.height(),s=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,f=t.pstyle("text-valign").strValue,h=i.rscratch,p=i.rstyle;switch(l){case"left":r=u.x-o/2-s;break;case"right":r=u.x+o/2+s;break;default:r=u.x}switch(f){case"top":n=u.y-a/2-s;break;case"bottom":n=u.y+a/2+s;break;default:n=u.y}h.labelX=r,h.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Of=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},If=function(e,r){var n=r.x-e.x,i=r.y-e.y;return Of(n,i)},ub=function(e,r,n,i){var o=Pa(0,i-.001,1),a=Pa(0,i+.001,1),s=$n(e,r,n,o),u=$n(e,r,n,a);return If(s,u)};kr.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:n.midX,y:n.midY};var a=function(h,p,v){Qr(r.rscratch,h,p,v),Qr(r.rstyle,h,p,v)};a("labelX",null,e.x),a("labelY",null,e.y);var s=Of(n.midDispX,n.midDispY);a("labelAutoAngle",null,s);var u=function f(){if(f.cache)return f.cache;for(var h=[],p=0;p+5<n.allpts.length;p+=4){var v={x:n.allpts[p],y:n.allpts[p+1]},g={x:n.allpts[p+2],y:n.allpts[p+3]},m={x:n.allpts[p+4],y:n.allpts[p+5]};h.push({p0:v,p1:g,p2:m,startDist:0,length:0,segments:[]})}var w=r.rstyle.bezierPts,b=i.bezierProjPcts.length;function T(C,A,S,M,k){var R=xn(A,S),G=C.segments[C.segments.length-1],P={p0:A,p1:S,t0:M,t1:k,startDist:G?G.startDist+G.length:0,length:R};C.segments.push(P),C.length+=R}for(var x=0;x<h.length;x++){var L=h[x],N=h[x-1];N&&(L.startDist=N.startDist+N.length),T(L,L.p0,w[x*b],0,i.bezierProjPcts[0]);for(var d=0;d<b-1;d++)T(L,w[x*b+d],w[x*b+d+1],i.bezierProjPcts[d],i.bezierProjPcts[d+1]);T(L,w[x*b+b-1],L.p2,i.bezierProjPcts[b-1],1)}return f.cache=h},l=function(h){var p,v=h==="source";if(o[h]){var g=t.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),w,b=0,T=0,x=0;x<m.length;x++){for(var L=m[v?x:m.length-1-x],N=0;N<L.segments.length;N++){var d=L.segments[v?N:L.segments.length-1-N],C=x===m.length-1&&N===L.segments.length-1;if(b=T,T+=d.length,T>=g||C){w={cp:L,segment:d};break}}if(w)break}var A=w.cp,S=w.segment,M=(g-b)/S.length,k=S.t1-S.t0,R=v?S.t0+k*M:S.t1-k*M;R=Pa(0,R,1),e=$n(A.p0,A.p1,A.p2,R),p=ub(A.p0,A.p1,A.p2,R);break}case"straight":case"segments":case"haystack":{for(var G=0,P,Y,H,U,W=n.allpts.length,_=0;_+3<W&&(v?(H={x:n.allpts[_],y:n.allpts[_+1]},U={x:n.allpts[_+2],y:n.allpts[_+3]}):(H={x:n.allpts[W-2-_],y:n.allpts[W-1-_]},U={x:n.allpts[W-4-_],y:n.allpts[W-3-_]}),P=xn(H,U),Y=G,G+=P,!(G>=g));_+=2);var j=g-Y,K=j/P;K=Pa(0,K,1),e=Cy(H,U,K),p=If(H,U);break}}a("labelX",h,e.x),a("labelY",h,e.y),a("labelAutoAngle",h,p)}};l("source"),l("target"),this.applyLabelDimensions(t)}};kr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};kr.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,a=t.pstyle("text-wrap").strValue,s=Lr(r.rscratch,"labelWrapCachedLines",e)||[],u=a!=="wrap"?1:Math.max(s.length,1),l=i.height/u,f=l*o,h=i.width,p=i.height+(u-1)*(o-1)*l;Qr(r.rstyle,"labelWidth",e,h),Qr(r.rscratch,"labelWidth",e,h),Qr(r.rstyle,"labelHeight",e,p),Qr(r.rscratch,"labelHeight",e,p),Qr(r.rscratch,"labelLineHeight",e,f)};kr.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,o=t.pstyle("text-transform").value,a=function(j,K){return K?(Qr(r.rscratch,j,e,K),K):Lr(r.rscratch,j,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var u=a("labelKey");if(u!=null&&a("labelWrapKey")===u)return a("labelWrapCachedText");for(var l="​",f=i.split(`
`),h=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,v=p==="anywhere",g=[],m=/[\s\u200b]+/,w=v?"":" ",b=0;b<f.length;b++){var T=f[b],x=this.calculateLabelDimensions(t,T),L=x.width;if(v){var N=T.split("").join(l);T=N}if(L>h){for(var d=T.split(m),C="",A=0;A<d.length;A++){var S=d[A],M=C.length===0?S:C+w+S,k=this.calculateLabelDimensions(t,M),R=k.width;R<=h?C+=S+w:(C&&g.push(C),C=S+w)}C.match(/^[\s\u200b]+$/)||g.push(C)}else g.push(T)}a("labelWrapCachedLines",g),i=a("labelWrapCachedText",g.join(`
`)),a("labelWrapKey",u)}else if(s==="ellipsis"){var G=t.pstyle("text-max-width").pfValue,P="",Y="…",H=!1;if(this.calculateLabelDimensions(t,i).width<G)return i;for(var U=0;U<i.length;U++){var W=this.calculateLabelDimensions(t,P+i[U]+Y).width;if(W>G)break;P+=i[U],U===i.length-1&&(H=!0)}return H||(P+=Y),P}return i};kr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};kr.calculateLabelDimensions=function(t,e){var r=this,n=En(e,t._private.labelDimsKey),i=r.labelDimCache||(r.labelDimCache=[]),o=i[n];if(o!=null)return o;var a=0,s=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,f=t.pstyle("font-weight").strValue,h=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=document.createElement("canvas"),p=this.labelCalcCanvasContext=h.getContext("2d");var v=h.style;v.position="absolute",v.left="-9999px",v.top="-9999px",v.zIndex="-1",v.visibility="hidden",v.pointerEvents="none"}p.font="".concat(s," ").concat(f," ").concat(u,"px ").concat(l);for(var g=0,m=0,w=e.split(`
`),b=0;b<w.length;b++){var T=w[b],x=p.measureText(T),L=Math.ceil(x.width),N=u;g=Math.max(L,g),m+=N}return g+=a,m+=a,i[n]={width:g,height:m}};kr.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),o=e?e+"-":"",a=t.pstyle(o+"text-rotation"),s=a.strValue;return s==="none"?0:i&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:a.pfValue};kr.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var kf={},el=28,tl=!1;kf.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<el||t.height()<el))return tl||(ft("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),tl=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var ao={};ao.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(a),s)for(var u=0;u<a.length;u++){var l=a[u],f=l._private,h=f.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(a){var s=a.target;n(s)}).on("style.* background.*",function(a){var s=a.target;n(s,!1)});var i=function(a){if(a){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],f=l._private.rstyle;l.isNode()&&!f.cleanConnected&&(n(l.connectedEdges()),f.cleanConnected=!0)}if(s)for(var h=0;h<s.length;h++){var p=s[h];p(a,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};ao.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};ao.recalculateRenderedStyle=function(t,e){var r=function(L){return L._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<t.length;o++){var a=t[o],s=a._private,u=s.rstyle;a.isEdge()&&(!r(a.source())||!r(a.target()))&&(u.clean=!1),!(e&&u.clean||a.removed())&&a.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(a):n.push(a),u.clean=!0)}for(var l=0;l<i.length;l++){var f=i[l],h=f._private,p=h.rstyle,v=f.position();this.recalculateNodeLabelProjection(f),p.nodeX=v.x,p.nodeY=v.y,p.nodeW=f.pstyle("width").pfValue,p.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var m=n[g],w=m._private,b=w.rstyle,T=w.rscratch;b.srcX=T.arrowStartX,b.srcY=T.arrowStartY,b.tgtX=T.arrowEndX,b.tgtY=T.arrowEndY,b.midX=T.midX,b.midY=T.midY,b.labelAngle=T.labelAngle,b.sourceLabelAngle=T.sourceLabelAngle,b.targetLabelAngle=T.targetLabelAngle}}};var io={};io.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};io.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};io.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(bf),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Rf={};[Ln,Bi,er,Za,Cs,kr,kf,ao,io].forEach(function(t){We(Rf,t)});var Pf={};Pf.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},o=i[t];if(o)return o.image.complete||o.image.addEventListener("load",r),o.image;o=i[t]=i[t]||{};var a=o.image=new Image;a.addEventListener("load",r),a.addEventListener("error",function(){a.error=!0});var s="data:",u=t.substring(0,s.length).toLowerCase()===s;return u||(a.crossOrigin=e),a.src=t,a};var ra={};ra.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,i)};ra.binder=function(t){var e=this,r=t===window||t===document||t===document.body||Np(t);if(e.supportsPassiveEvents==null){var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=n}var o=function(s,u,l){var f=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(f[2]={capture:l??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ra.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ra.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ra.load=function(){var t=this,e=function(z){return z.selected()},r=function(z,ne,me,ye){z==null&&(z=t.cy);for(var ge=0;ge<ne.length;ge++){var Ke=ne[ge];z.emit({originalEvent:me,type:Ke,position:ye})}},n=function(z){return z.shiftKey||z.metaKey||z.ctrlKey},i=function(z,ne){var me=!0;if(t.cy.hasCompoundNodes()&&z&&z.pannable())for(var ye=0;ne&&ye<ne.length;ye++){var z=ne[ye];if(z.isNode()&&z.isParent()&&!z.pannable()){me=!1;break}}else me=!0;return me},o=function(z){z[0]._private.grabbed=!0},a=function(z){z[0]._private.grabbed=!1},s=function(z){z[0]._private.rscratch.inDragLayer=!0},u=function(z){z[0]._private.rscratch.inDragLayer=!1},l=function(z){z[0]._private.rscratch.isGrabTarget=!0},f=function(z){z[0]._private.rscratch.isGrabTarget=!1},h=function(z,ne){var me=ne.addToList,ye=me.has(z);!ye&&z.grabbable()&&!z.locked()&&(me.merge(z),o(z))},p=function(z,ne){if(z.cy().hasCompoundNodes()&&!(ne.inDragLayer==null&&ne.addToList==null)){var me=z.descendants();ne.inDragLayer&&(me.forEach(s),me.connectedEdges().forEach(s)),ne.addToList&&h(me,ne)}},v=function(z,ne){ne=ne||{};var me=z.cy().hasCompoundNodes();ne.inDragLayer&&(z.forEach(s),z.neighborhood().stdFilter(function(ye){return!me||ye.isEdge()}).forEach(s)),ne.addToList&&z.forEach(function(ye){h(ye,ne)}),p(z,ne),w(z,{inDragLayer:ne.inDragLayer}),t.updateCachedGrabbedEles()},g=v,m=function(z){z&&(t.getCachedZSortedEles().forEach(function(ne){a(ne),u(ne),f(ne)}),t.updateCachedGrabbedEles())},w=function(z,ne){if(!(ne.inDragLayer==null&&ne.addToList==null)&&z.cy().hasCompoundNodes()){var me=z.ancestors().orphans();if(!me.same(z)){var ye=me.descendants().spawnSelf().merge(me).unmerge(z).unmerge(z.descendants()),ge=ye.connectedEdges();ne.inDragLayer&&(ge.forEach(s),ye.forEach(s)),ne.addToList&&ye.forEach(function(Ke){h(Ke,ne)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},T=typeof MutationObserver<"u",x=typeof ResizeObserver<"u";T?(t.removeObserver=new MutationObserver(function(he){for(var z=0;z<he.length;z++){var ne=he[z],me=ne.removedNodes;if(me)for(var ye=0;ye<me.length;ye++){var ge=me[ye];if(ge===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(he){t.destroy()});var L=Xi.default(function(){t.cy.resize()},100);T&&(t.styleObserver=new MutationObserver(L),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",L),x&&(t.resizeObserver=new ResizeObserver(L),t.resizeObserver.observe(t.container));var N=function(z,ne){for(;z!=null;)ne(z),z=z.parentNode},d=function(){t.invalidateContainerClientCoordsCache()};N(t.container,function(he){t.registerBinding(he,"transitionend",d),t.registerBinding(he,"animationend",d),t.registerBinding(he,"scroll",d)}),t.registerBinding(t.container,"contextmenu",function(he){he.preventDefault()});var C=function(){return t.selection[4]!==0},A=function(z){for(var ne=t.findContainerClientCoords(),me=ne[0],ye=ne[1],ge=ne[2],Ke=ne[3],xe=z.touches?z.touches:[z],Pe=!1,Je=0;Je<xe.length;Je++){var tt=xe[Je];if(me<=tt.clientX&&tt.clientX<=me+ge&&ye<=tt.clientY&&tt.clientY<=ye+Ke){Pe=!0;break}}if(!Pe)return!1;for(var je=t.container,rt=z.target,He=rt.parentNode,$e=!1;He;){if(He===je){$e=!0;break}He=He.parentNode}return!!$e};t.registerBinding(t.container,"mousedown",function(z){if(A(z)){z.preventDefault(),b(),t.hoverData.capture=!0,t.hoverData.which=z.which;var ne=t.cy,me=[z.clientX,z.clientY],ye=t.projectIntoViewport(me[0],me[1]),ge=t.selection,Ke=t.findNearestElements(ye[0],ye[1],!0,!1),xe=Ke[0],Pe=t.dragData.possibleDragElements;t.hoverData.mdownPos=ye,t.hoverData.mdownGPos=me;var Je=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var pt=t.hoverData.down;pt?pt.emit({originalEvent:z,type:"taphold",position:{x:ye[0],y:ye[1]}}):ne.emit({originalEvent:z,type:"taphold",position:{x:ye[0],y:ye[1]}})}},t.tapholdDuration)};if(z.which==3){t.hoverData.cxtStarted=!0;var tt={originalEvent:z,type:"cxttapstart",position:{x:ye[0],y:ye[1]}};xe?(xe.activate(),xe.emit(tt),t.hoverData.down=xe):ne.emit(tt),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(z.which==1){xe&&xe.activate();{if(xe!=null&&t.nodeIsGrabbable(xe)){var je=function(pt){return{originalEvent:z,type:pt,position:{x:ye[0],y:ye[1]}}},rt=function(pt){pt.emit(je("grab"))};if(l(xe),!xe.selected())Pe=t.dragData.possibleDragElements=ne.collection(),g(xe,{addToList:Pe}),xe.emit(je("grabon")).emit(je("grab"));else{Pe=t.dragData.possibleDragElements=ne.collection();var He=ne.$(function($e){return $e.isNode()&&$e.selected()&&t.nodeIsGrabbable($e)});v(He,{addToList:Pe}),xe.emit(je("grabon")),He.forEach(rt)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=xe,t.hoverData.downs=Ke,t.hoverData.downTime=new Date().getTime()}r(xe,["mousedown","tapstart","vmousedown"],z,{x:ye[0],y:ye[1]}),xe==null?(ge[4]=1,t.data.bgActivePosistion={x:ye[0],y:ye[1]},t.redrawHint("select",!0),t.redraw()):xe.pannable()&&(ge[4]=1),Je()}ge[0]=ge[2]=ye[0],ge[1]=ge[3]=ye[1]}},!1),t.registerBinding(window,"mousemove",function(z){var ne=t.hoverData.capture;if(!(!ne&&!A(z))){var me=!1,ye=t.cy,ge=ye.zoom(),Ke=[z.clientX,z.clientY],xe=t.projectIntoViewport(Ke[0],Ke[1]),Pe=t.hoverData.mdownPos,Je=t.hoverData.mdownGPos,tt=t.selection,je=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(je=t.findNearestElement(xe[0],xe[1],!0,!1));var rt=t.hoverData.last,He=t.hoverData.down,$e=[xe[0]-tt[2],xe[1]-tt[3]],pt=t.dragData.possibleDragElements,At;if(Je){var tr=Ke[0]-Je[0],rr=tr*tr,wt=Ke[1]-Je[1],Nt=wt*wt,Ft=rr+Nt;t.hoverData.isOverThresholdDrag=At=Ft>=t.desktopTapThreshold2}var Er=n(z);At&&(t.hoverData.tapholdCancelled=!0);var pr=function(){var Gt=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Gt.length===0?(Gt.push($e[0]),Gt.push($e[1])):(Gt[0]+=$e[0],Gt[1]+=$e[1])};me=!0,r(je,["mousemove","vmousemove","tapdrag"],z,{x:xe[0],y:xe[1]});var xr=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ye.emit({originalEvent:z,type:"boxstart",position:{x:xe[0],y:xe[1]}}),tt[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(At){var Pr={originalEvent:z,type:"cxtdrag",position:{x:xe[0],y:xe[1]}};He?He.emit(Pr):ye.emit(Pr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||je!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:xe[0],y:xe[1]}}),t.hoverData.cxtOver=je,je&&je.emit({originalEvent:z,type:"cxtdragover",position:{x:xe[0],y:xe[1]}}))}}else if(t.hoverData.dragging){if(me=!0,ye.panningEnabled()&&ye.userPanningEnabled()){var Yr;if(t.hoverData.justStartedPan){var Nn=t.hoverData.mdownPos;Yr={x:(xe[0]-Nn[0])*ge,y:(xe[1]-Nn[1])*ge},t.hoverData.justStartedPan=!1}else Yr={x:$e[0]*ge,y:$e[1]*ge};ye.panBy(Yr),ye.emit("dragpan"),t.hoverData.dragged=!0}xe=t.projectIntoViewport(z.clientX,z.clientY)}else if(tt[4]==1&&(He==null||He.pannable())){if(At){if(!t.hoverData.dragging&&ye.boxSelectionEnabled()&&(Er||!ye.panningEnabled()||!ye.userPanningEnabled()))xr();else if(!t.hoverData.selecting&&ye.panningEnabled()&&ye.userPanningEnabled()){var Nr=i(He,t.hoverData.downs);Nr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,tt[4]=0,t.data.bgActivePosistion=Hn(Pe),t.redrawHint("select",!0),t.redraw())}He&&He.pannable()&&He.active()&&He.unactivate()}}else{if(He&&He.pannable()&&He.active()&&He.unactivate(),(!He||!He.grabbed())&&je!=rt&&(rt&&r(rt,["mouseout","tapdragout"],z,{x:xe[0],y:xe[1]}),je&&r(je,["mouseover","tapdragover"],z,{x:xe[0],y:xe[1]}),t.hoverData.last=je),He)if(At){if(ye.boxSelectionEnabled()&&Er)He&&He.grabbed()&&(m(pt),He.emit("freeon"),pt.emit("free"),t.dragData.didDrag&&(He.emit("dragfreeon"),pt.emit("dragfree"))),xr();else if(He&&He.grabbed()&&t.nodeIsDraggable(He)){var Yt=!t.dragData.didDrag;Yt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||v(pt,{inDragLayer:!0});var Pt={x:0,y:0};if(Me($e[0])&&Me($e[1])&&(Pt.x+=$e[0],Pt.y+=$e[1],Yt)){var zt=t.hoverData.dragDelta;zt&&Me(zt[0])&&Me(zt[1])&&(Pt.x+=zt[0],Pt.y+=zt[1])}t.hoverData.draggingEles=!0,pt.silentShift(Pt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else pr();me=!0}if(tt[2]=xe[0],tt[3]=xe[1],me)return z.stopPropagation&&z.stopPropagation(),z.preventDefault&&z.preventDefault(),!1}},!1);var S,M,k;t.registerBinding(window,"mouseup",function(z){var ne=t.hoverData.capture;if(ne){t.hoverData.capture=!1;var me=t.cy,ye=t.projectIntoViewport(z.clientX,z.clientY),ge=t.selection,Ke=t.findNearestElement(ye[0],ye[1],!0,!1),xe=t.dragData.possibleDragElements,Pe=t.hoverData.down,Je=n(z);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Pe&&Pe.unactivate(),t.hoverData.which===3){var tt={originalEvent:z,type:"cxttapend",position:{x:ye[0],y:ye[1]}};if(Pe?Pe.emit(tt):me.emit(tt),!t.hoverData.cxtDragged){var je={originalEvent:z,type:"cxttap",position:{x:ye[0],y:ye[1]}};Pe?Pe.emit(je):me.emit(je)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(r(Ke,["mouseup","tapend","vmouseup"],z,{x:ye[0],y:ye[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(r(Pe,["click","tap","vclick"],z,{x:ye[0],y:ye[1]}),M=!1,z.timeStamp-k<=me.multiClickDebounceTime()?(S&&clearTimeout(S),M=!0,k=null,r(Pe,["dblclick","dbltap","vdblclick"],z,{x:ye[0],y:ye[1]})):(S=setTimeout(function(){M||r(Pe,["oneclick","onetap","voneclick"],z,{x:ye[0],y:ye[1]})},me.multiClickDebounceTime()),k=z.timeStamp)),Pe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!n(z)&&(me.$(e).unselect(["tapunselect"]),xe.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=xe=me.collection()),Ke==Pe&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ke!=null&&Ke._private.selectable&&(t.hoverData.dragging||(me.selectionType()==="additive"||Je?Ke.selected()?Ke.unselect(["tapunselect"]):Ke.select(["tapselect"]):Je||(me.$(e).unmerge(Ke).unselect(["tapunselect"]),Ke.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var rt=me.collection(t.getAllInBox(ge[0],ge[1],ge[2],ge[3]));t.redrawHint("select",!0),rt.length>0&&t.redrawHint("eles",!0),me.emit({type:"boxend",originalEvent:z,position:{x:ye[0],y:ye[1]}});var He=function(At){return At.selectable()&&!At.selected()};me.selectionType()==="additive"||Je||me.$(e).unmerge(rt).unselect(),rt.emit("box").stdFilter(He).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ge[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var $e=Pe&&Pe.grabbed();m(xe),$e&&(Pe.emit("freeon"),xe.emit("free"),t.dragData.didDrag&&(Pe.emit("dragfreeon"),xe.emit("dragfree")))}}ge[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var R=function(z){if(!t.scrollingPage){var ne=t.cy,me=ne.zoom(),ye=ne.pan(),ge=t.projectIntoViewport(z.clientX,z.clientY),Ke=[ge[0]*me+ye.x,ge[1]*me+ye.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||C()){z.preventDefault();return}if(ne.panningEnabled()&&ne.userPanningEnabled()&&ne.zoomingEnabled()&&ne.userZoomingEnabled()){z.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var xe;z.deltaY!=null?xe=z.deltaY/-250:z.wheelDeltaY!=null?xe=z.wheelDeltaY/1e3:xe=z.wheelDelta/1e3,xe=xe*t.wheelSensitivity;var Pe=z.deltaMode===1;Pe&&(xe*=33);var Je=ne.zoom()*Math.pow(10,xe);z.type==="gesturechange"&&(Je=t.gestureStartZoom*z.scale),ne.zoom({level:Je,renderedPosition:{x:Ke[0],y:Ke[1]}}),ne.emit(z.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",R,!0),t.registerBinding(window,"scroll",function(z){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(z){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||z.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(he){t.hasTouchStarted||R(he)},!0),t.registerBinding(t.container,"mouseout",function(z){var ne=t.projectIntoViewport(z.clientX,z.clientY);t.cy.emit({originalEvent:z,type:"mouseout",position:{x:ne[0],y:ne[1]}})},!1),t.registerBinding(t.container,"mouseover",function(z){var ne=t.projectIntoViewport(z.clientX,z.clientY);t.cy.emit({originalEvent:z,type:"mouseover",position:{x:ne[0],y:ne[1]}})},!1);var G,P,Y,H,U,W,_,j,K,te,ie,oe,ue,le=function(z,ne,me,ye){return Math.sqrt((me-z)*(me-z)+(ye-ne)*(ye-ne))},Q=function(z,ne,me,ye){return(me-z)*(me-z)+(ye-ne)*(ye-ne)},de;t.registerBinding(t.container,"touchstart",de=function(z){if(t.hasTouchStarted=!0,!!A(z)){b(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ne=t.cy,me=t.touchData.now,ye=t.touchData.earlier;if(z.touches[0]){var ge=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);me[0]=ge[0],me[1]=ge[1]}if(z.touches[1]){var ge=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);me[2]=ge[0],me[3]=ge[1]}if(z.touches[2]){var ge=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);me[4]=ge[0],me[5]=ge[1]}if(z.touches[1]){t.touchData.singleTouchMoved=!0,m(t.dragData.touchDragEles);var Ke=t.findContainerClientCoords();K=Ke[0],te=Ke[1],ie=Ke[2],oe=Ke[3],G=z.touches[0].clientX-K,P=z.touches[0].clientY-te,Y=z.touches[1].clientX-K,H=z.touches[1].clientY-te,ue=0<=G&&G<=ie&&0<=Y&&Y<=ie&&0<=P&&P<=oe&&0<=H&&H<=oe;var xe=ne.pan(),Pe=ne.zoom();U=le(G,P,Y,H),W=Q(G,P,Y,H),_=[(G+Y)/2,(P+H)/2],j=[(_[0]-xe.x)/Pe,(_[1]-xe.y)/Pe];var Je=200,tt=Je*Je;if(W<tt&&!z.touches[2]){var je=t.findNearestElement(me[0],me[1],!0,!0),rt=t.findNearestElement(me[2],me[3],!0,!0);je&&je.isNode()?(je.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start=je):rt&&rt.isNode()?(rt.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start=rt):ne.emit({originalEvent:z,type:"cxttapstart",position:{x:me[0],y:me[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(z.touches[2])ne.boxSelectionEnabled()&&z.preventDefault();else if(!z.touches[1]){if(z.touches[0]){var He=t.findNearestElements(me[0],me[1],!0,!0),$e=He[0];if($e!=null&&($e.activate(),t.touchData.start=$e,t.touchData.starts=He,t.nodeIsGrabbable($e))){var pt=t.dragData.touchDragEles=ne.collection(),At=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),$e.selected()?(At=ne.$(function(Ft){return Ft.selected()&&t.nodeIsGrabbable(Ft)}),v(At,{addToList:pt})):g($e,{addToList:pt}),l($e);var tr=function(Er){return{originalEvent:z,type:Er,position:{x:me[0],y:me[1]}}};$e.emit(tr("grabon")),At?At.forEach(function(Ft){Ft.emit(tr("grab"))}):$e.emit(tr("grab"))}r($e,["touchstart","tapstart","vmousedown"],z,{x:me[0],y:me[1]}),$e==null&&(t.data.bgActivePosistion={x:ge[0],y:ge[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&r(t.touchData.start,["taphold"],z,{x:me[0],y:me[1]})},t.tapholdDuration)}}if(z.touches.length>=1){for(var rr=t.touchData.startPosition=[],wt=0;wt<me.length;wt++)rr[wt]=ye[wt]=me[wt];var Nt=z.touches[0];t.touchData.startGPosition=[Nt.clientX,Nt.clientY]}}},!1);var ce;t.registerBinding(window,"touchmove",ce=function(z){var ne=t.touchData.capture;if(!(!ne&&!A(z))){var me=t.selection,ye=t.cy,ge=t.touchData.now,Ke=t.touchData.earlier,xe=ye.zoom();if(z.touches[0]){var Pe=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ge[0]=Pe[0],ge[1]=Pe[1]}if(z.touches[1]){var Pe=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ge[2]=Pe[0],ge[3]=Pe[1]}if(z.touches[2]){var Pe=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ge[4]=Pe[0],ge[5]=Pe[1]}var Je=t.touchData.startGPosition,tt;if(ne&&z.touches[0]&&Je){for(var je=[],rt=0;rt<ge.length;rt++)je[rt]=ge[rt]-Ke[rt];var He=z.touches[0].clientX-Je[0],$e=He*He,pt=z.touches[0].clientY-Je[1],At=pt*pt,tr=$e+At;tt=tr>=t.touchTapThreshold2}if(ne&&t.touchData.cxt){z.preventDefault();var rr=z.touches[0].clientX-K,wt=z.touches[0].clientY-te,Nt=z.touches[1].clientX-K,Ft=z.touches[1].clientY-te,Er=Q(rr,wt,Nt,Ft),pr=Er/W,xr=150,Pr=xr*xr,Yr=1.5,Nn=Yr*Yr;if(pr>=Nn||Er>=Pr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Nr={originalEvent:z,type:"cxttapend",position:{x:ge[0],y:ge[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Nr),t.touchData.start=null):ye.emit(Nr)}}if(ne&&t.touchData.cxt){var Nr={originalEvent:z,type:"cxtdrag",position:{x:ge[0],y:ge[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Nr):ye.emit(Nr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Yt=t.findNearestElement(ge[0],ge[1],!0,!0);(!t.touchData.cxtOver||Yt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:ge[0],y:ge[1]}}),t.touchData.cxtOver=Yt,Yt&&Yt.emit({originalEvent:z,type:"cxtdragover",position:{x:ge[0],y:ge[1]}}))}else if(ne&&z.touches[2]&&ye.boxSelectionEnabled())z.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ye.emit({originalEvent:z,type:"boxstart",position:{x:ge[0],y:ge[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,me[4]=1,!me||me.length===0||me[0]===void 0?(me[0]=(ge[0]+ge[2]+ge[4])/3,me[1]=(ge[1]+ge[3]+ge[5])/3,me[2]=(ge[0]+ge[2]+ge[4])/3+1,me[3]=(ge[1]+ge[3]+ge[5])/3+1):(me[2]=(ge[0]+ge[2]+ge[4])/3,me[3]=(ge[1]+ge[3]+ge[5])/3),t.redrawHint("select",!0),t.redraw();else if(ne&&z.touches[1]&&!t.touchData.didSelect&&ye.zoomingEnabled()&&ye.panningEnabled()&&ye.userZoomingEnabled()&&ye.userPanningEnabled()){z.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Pt=t.dragData.touchDragEles;if(Pt){t.redrawHint("drag",!0);for(var zt=0;zt<Pt.length;zt++){var Mn=Pt[zt]._private;Mn.grabbed=!1,Mn.rscratch.inDragLayer=!1}}var Gt=t.touchData.start,rr=z.touches[0].clientX-K,wt=z.touches[0].clientY-te,Nt=z.touches[1].clientX-K,Ft=z.touches[1].clientY-te,ia=le(rr,wt,Nt,Ft),oa=ia/U;if(ue){var sa=rr-G,On=wt-P,Ja=Nt-Y,oo=Ft-H,ei=(sa+Ja)/2,so=(On+oo)/2,Tr=ye.zoom(),In=Tr*oa,fn=ye.pan(),ua=j[0]*Tr+fn.x,la=j[1]*Tr+fn.y,uo={x:-In/Tr*(ua-fn.x-ei)+ua,y:-In/Tr*(la-fn.y-so)+la};if(Gt&&Gt.active()){var Pt=t.dragData.touchDragEles;m(Pt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Gt.unactivate().emit("freeon"),Pt.emit("free"),t.dragData.didDrag&&(Gt.emit("dragfreeon"),Pt.emit("dragfree"))}ye.viewport({zoom:In,pan:uo,cancelOnFailedZoom:!0}),ye.emit("pinchzoom"),U=ia,G=rr,P=wt,Y=Nt,H=Ft,t.pinching=!0}if(z.touches[0]){var Pe=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ge[0]=Pe[0],ge[1]=Pe[1]}if(z.touches[1]){var Pe=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ge[2]=Pe[0],ge[3]=Pe[1]}if(z.touches[2]){var Pe=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ge[4]=Pe[0],ge[5]=Pe[1]}}else if(z.touches[0]&&!t.touchData.didSelect){var Qt=t.touchData.start,fa=t.touchData.last,Yt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Yt=t.findNearestElement(ge[0],ge[1],!0,!0)),ne&&Qt!=null&&z.preventDefault(),ne&&Qt!=null&&t.nodeIsDraggable(Qt))if(tt){var Pt=t.dragData.touchDragEles,ti=!t.dragData.didDrag;ti&&v(Pt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Xr={x:0,y:0};if(Me(je[0])&&Me(je[1])&&(Xr.x+=je[0],Xr.y+=je[1],ti)){t.redrawHint("eles",!0);var nr=t.touchData.dragDelta;nr&&Me(nr[0])&&Me(nr[1])&&(Xr.x+=nr[0],Xr.y+=nr[1])}t.hoverData.draggingEles=!0,Pt.silentShift(Xr).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ke[0]&&t.touchData.startPosition[1]==Ke[1]&&t.redrawHint("eles",!0),t.redraw()}else{var nr=t.touchData.dragDelta=t.touchData.dragDelta||[];nr.length===0?(nr.push(je[0]),nr.push(je[1])):(nr[0]+=je[0],nr[1]+=je[1])}if(r(Qt||Yt,["touchmove","tapdrag","vmousemove"],z,{x:ge[0],y:ge[1]}),(!Qt||!Qt.grabbed())&&Yt!=fa&&(fa&&fa.emit({originalEvent:z,type:"tapdragout",position:{x:ge[0],y:ge[1]}}),Yt&&Yt.emit({originalEvent:z,type:"tapdragover",position:{x:ge[0],y:ge[1]}})),t.touchData.last=Yt,ne)for(var zt=0;zt<ge.length;zt++)ge[zt]&&t.touchData.startPosition[zt]&&tt&&(t.touchData.singleTouchMoved=!0);if(ne&&(Qt==null||Qt.pannable())&&ye.panningEnabled()&&ye.userPanningEnabled()){var ca=i(Qt,t.touchData.starts);ca&&(z.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Hn(t.touchData.startPosition)),t.swipePanning?(ye.panBy({x:je[0]*xe,y:je[1]*xe}),ye.emit("dragpan")):tt&&(t.swipePanning=!0,ye.panBy({x:He*xe,y:pt*xe}),ye.emit("dragpan"),Qt&&(Qt.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Pe=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ge[0]=Pe[0],ge[1]=Pe[1]}}for(var rt=0;rt<ge.length;rt++)Ke[rt]=ge[rt];ne&&z.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var De;t.registerBinding(window,"touchcancel",De=function(z){var ne=t.touchData.start;t.touchData.capture=!1,ne&&ne.unactivate()});var Se,Ve,Fe,Le;if(t.registerBinding(window,"touchend",Se=function(z){var ne=t.touchData.start,me=t.touchData.capture;if(me)z.touches.length===0&&(t.touchData.capture=!1),z.preventDefault();else return;var ye=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ge=t.cy,Ke=ge.zoom(),xe=t.touchData.now,Pe=t.touchData.earlier;if(z.touches[0]){var Je=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);xe[0]=Je[0],xe[1]=Je[1]}if(z.touches[1]){var Je=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);xe[2]=Je[0],xe[3]=Je[1]}if(z.touches[2]){var Je=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);xe[4]=Je[0],xe[5]=Je[1]}ne&&ne.unactivate();var tt;if(t.touchData.cxt){if(tt={originalEvent:z,type:"cxttapend",position:{x:xe[0],y:xe[1]}},ne?ne.emit(tt):ge.emit(tt),!t.touchData.cxtDragged){var je={originalEvent:z,type:"cxttap",position:{x:xe[0],y:xe[1]}};ne?ne.emit(je):ge.emit(je)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!z.touches[2]&&ge.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var rt=ge.collection(t.getAllInBox(ye[0],ye[1],ye[2],ye[3]));ye[0]=void 0,ye[1]=void 0,ye[2]=void 0,ye[3]=void 0,ye[4]=0,t.redrawHint("select",!0),ge.emit({type:"boxend",originalEvent:z,position:{x:xe[0],y:xe[1]}});var He=function(Pr){return Pr.selectable()&&!Pr.selected()};rt.emit("box").stdFilter(He).select().emit("boxselect"),rt.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ne!=null&&ne.unactivate(),z.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!z.touches[1]){if(!z.touches[0]){if(!z.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var $e=t.dragData.touchDragEles;if(ne!=null){var pt=ne._private.grabbed;m($e),t.redrawHint("drag",!0),t.redrawHint("eles",!0),pt&&(ne.emit("freeon"),$e.emit("free"),t.dragData.didDrag&&(ne.emit("dragfreeon"),$e.emit("dragfree"))),r(ne,["touchend","tapend","vmouseup","tapdragout"],z,{x:xe[0],y:xe[1]}),ne.unactivate(),t.touchData.start=null}else{var At=t.findNearestElement(xe[0],xe[1],!0,!0);r(At,["touchend","tapend","vmouseup","tapdragout"],z,{x:xe[0],y:xe[1]})}var tr=t.touchData.startPosition[0]-xe[0],rr=tr*tr,wt=t.touchData.startPosition[1]-xe[1],Nt=wt*wt,Ft=rr+Nt,Er=Ft*Ke*Ke;t.touchData.singleTouchMoved||(ne||ge.$(":selected").unselect(["tapunselect"]),r(ne,["tap","vclick"],z,{x:xe[0],y:xe[1]}),Ve=!1,z.timeStamp-Le<=ge.multiClickDebounceTime()?(Fe&&clearTimeout(Fe),Ve=!0,Le=null,r(ne,["dbltap","vdblclick"],z,{x:xe[0],y:xe[1]})):(Fe=setTimeout(function(){Ve||r(ne,["onetap","voneclick"],z,{x:xe[0],y:xe[1]})},ge.multiClickDebounceTime()),Le=z.timeStamp)),ne!=null&&!t.dragData.didDrag&&ne._private.selectable&&Er<t.touchTapThreshold2&&!t.pinching&&(ge.selectionType()==="single"?(ge.$(e).unmerge(ne).unselect(["tapunselect"]),ne.select(["tapselect"])):ne.selected()?ne.unselect(["tapunselect"]):ne.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var pr=0;pr<xe.length;pr++)Pe[pr]=xe[pr];t.dragData.didDrag=!1,z.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),z.touches.length<2&&(z.touches.length===1&&(t.touchData.startGPosition=[z.touches[0].clientX,z.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var fe=[],re=function(z){return{clientX:z.clientX,clientY:z.clientY,force:1,identifier:z.pointerId,pageX:z.pageX,pageY:z.pageY,radiusX:z.width/2,radiusY:z.height/2,screenX:z.screenX,screenY:z.screenY,target:z.target}},we=function(z){return{event:z,touch:re(z)}},Ee=function(z){fe.push(we(z))},Ae=function(z){for(var ne=0;ne<fe.length;ne++){var me=fe[ne];if(me.event.pointerId===z.pointerId){fe.splice(ne,1);return}}},Be=function(z){var ne=fe.filter(function(me){return me.event.pointerId===z.pointerId})[0];ne.event=z,ne.touch=re(z)},ke=function(z){z.touches=fe.map(function(ne){return ne.touch})},Ie=function(z){return z.pointerType==="mouse"||z.pointerType===4};t.registerBinding(t.container,"pointerdown",function(he){Ie(he)||(he.preventDefault(),Ee(he),ke(he),de(he))}),t.registerBinding(t.container,"pointerup",function(he){Ie(he)||(Ae(he),ke(he),Se(he))}),t.registerBinding(t.container,"pointercancel",function(he){Ie(he)||(Ae(he),ke(he),De(he))}),t.registerBinding(t.container,"pointermove",function(he){Ie(he)||(he.preventDefault(),Be(he),ke(he),ce(he))})}};var Vr={};Vr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,o,a,s){this.renderer.nodeShapeImpl("polygon",n,i,o,a,s,this.points)},intersectLine:function(n,i,o,a,s,u,l){return Ba(s,u,this.points,n,i,o/2,a/2,l)},checkPoint:function(n,i,o,a,s,u,l){return qr(n,i,this.points,u,l,a,s,[0,-1],o)}}};Vr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,a,s){return Fy(o,a,e,r,n/2+s,i/2+s)},checkPoint:function(e,r,n,i,o,a,s){return wn(e,r,i,o,a,s,n)}}};Vr.generateRoundPolygon=function(t,e){for(var r=new Array(e.length*2),n=0;n<e.length/2;n++){var i=n*2,o=void 0;n<e.length/2-1?o=(n+1)*2:o=0,r[n*4]=e[i],r[n*4+1]=e[i+1];var a=e[o]-e[i],s=e[o+1]-e[i+1],u=Math.sqrt(a*a+s*s);r[n*4+2]=a/u,r[n*4+3]=s/u}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(f,h,p,v,g){this.renderer.nodeShapeImpl("round-polygon",f,h,p,v,g,this.points)},intersectLine:function(f,h,p,v,g,m,w){return zy(g,m,this.points,f,h,p,v)},checkPoint:function(f,h,p,v,g,m,w){return By(f,h,this.points,m,w,v,g)}}};Vr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:jt(4,0),draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,a,s){return Vl(o,a,e,r,n,i,s)},checkPoint:function(e,r,n,i,o,a,s){var u=Wa(i,o),l=u*2;return!!(qr(e,r,this.points,a,s,i,o-l,[0,-1],n)||qr(e,r,this.points,a,s,i-l,o,[0,-1],n)||wn(e,r,l,l,a-i/2+u,s-o/2+u,n)||wn(e,r,l,l,a+i/2-u,s-o/2+u,n)||wn(e,r,l,l,a+i/2-u,s+o/2-u,n)||wn(e,r,l,l,a-i/2+u,s+o/2-u,n))}}};Vr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Wl(),points:jt(4,0),draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},generateCutTrianglePts:function(e,r,n,i){var o=this.cornerLength,a=r/2,s=e/2,u=n-s,l=n+s,f=i-a,h=i+a;return{topLeft:[u,f+o,u+o,f,u+o,f+o],topRight:[l-o,f,l,f+o,l-o,f+o],bottomRight:[l,h-o,l-o,h,l-o,h-o],bottomLeft:[u+o,h,u,h-o,u+o,h-o]}},intersectLine:function(e,r,n,i,o,a,s){var u=this.generateCutTrianglePts(n+2*s,i+2*s,e,r),l=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Ba(o,a,l,e,r)},checkPoint:function(e,r,n,i,o,a,s){if(qr(e,r,this.points,a,s,i,o-2*this.cornerLength,[0,-1],n)||qr(e,r,this.points,a,s,i-2*this.cornerLength,o,[0,-1],n))return!0;var u=this.generateCutTrianglePts(i,o,a,s);return ur(e,r,u.topLeft)||ur(e,r,u.topRight)||ur(e,r,u.bottomRight)||ur(e,r,u.bottomLeft)}}};Vr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:jt(4,0),draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,a,s){var u=.15,l=.5,f=.85,h=this.generateBarrelBezierPts(n+2*s,i+2*s,e,r),p=function(m){var w=$n({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},u),b=$n({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},l),T=$n({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},f);return[m[0],m[1],w.x,w.y,b.x,b.y,T.x,T.y,m[4],m[5]]},v=[].concat(p(h.topLeft),p(h.topRight),p(h.bottomRight),p(h.bottomLeft));return Ba(o,a,v,e,r)},generateBarrelBezierPts:function(e,r,n,i){var o=r/2,a=e/2,s=n-a,u=n+a,l=i-o,f=i+o,h=$o(e,r),p=h.heightOffset,v=h.widthOffset,g=h.ctrlPtOffsetPct*e,m={topLeft:[s,l+p,s+g,l,s+v,l],topRight:[u-v,l,u-g,l,u,l+p],bottomRight:[u,f-p,u-g,f,u-v,f],bottomLeft:[s+v,f,s+g,f,s,f-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,r,n,i,o,a,s){var u=$o(i,o),l=u.heightOffset,f=u.widthOffset;if(qr(e,r,this.points,a,s,i,o-2*l,[0,-1],n)||qr(e,r,this.points,a,s,i-2*f,o,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(i,o,a,s),p=function(C,A,S){var M=S[4],k=S[2],R=S[0],G=S[5],P=S[1],Y=Math.min(M,R),H=Math.max(M,R),U=Math.min(G,P),W=Math.max(G,P);if(Y<=C&&C<=H&&U<=A&&A<=W){var _=Gy(M,k,R),j=Iy(_[0],_[1],_[2],C),K=j.filter(function(te){return 0<=te&&te<=1});if(K.length>0)return K[0]}return null},v=Object.keys(h),g=0;g<v.length;g++){var m=v[g],w=h[m],b=p(e,r,w);if(b!=null){var T=w[5],x=w[3],L=w[1],N=Bt(T,x,L,b);if(w.isTop&&N<=r||w.isBottom&&r<=N)return!0}}return!1}}};Vr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:jt(4,0),draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,a,s){var u=e-(n/2+s),l=r-(i/2+s),f=l,h=e+(n/2+s),p=Jr(o,a,e,r,u,l,h,f,!1);return p.length>0?p:Vl(o,a,e,r,n,i,s)},checkPoint:function(e,r,n,i,o,a,s){var u=Wa(i,o),l=2*u;if(qr(e,r,this.points,a,s,i,o-l,[0,-1],n)||qr(e,r,this.points,a,s,i-l,o,[0,-1],n))return!0;var f=i/2+2*n,h=o/2+2*n,p=[a-f,s-h,a-f,s,a+f,s,a+f,s-h];return!!(ur(e,r,p)||wn(e,r,l,l,a+i/2-u,s+o/2-u,n)||wn(e,r,l,l,a-i/2+u,s+o/2-u,n))}}};Vr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",jt(3,0)),this.generateRoundPolygon("round-triangle",jt(3,0)),this.generatePolygon("rectangle",jt(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",jt(5,0)),this.generateRoundPolygon("round-pentagon",jt(5,0)),this.generatePolygon("hexagon",jt(6,0)),this.generateRoundPolygon("round-hexagon",jt(6,0)),this.generatePolygon("heptagon",jt(7,0)),this.generateRoundPolygon("round-heptagon",jt(7,0)),this.generatePolygon("octagon",jt(8,0)),this.generateRoundPolygon("round-octagon",jt(8,0));var n=new Array(20);{var i=qo(5,0),o=qo(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[s*2]*=a,o[s*2+1]*=a;for(var s=0;s<20/4;s++)n[s*4]=i[s*2],n[s*4+1]=i[s*2+1],n[s*4+2]=o[s*2],n[s*4+3]=o[s*2+1]}n=Xl(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var f=l.join("$"),h="polygon-"+f,p;return(p=this[h])?p:e.generatePolygon(h,l)}};var Qa={};Qa.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Qa.redraw=function(t){t=t||Gl();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Qa.beforeRender=function(t,e){if(!this.destroyed){e==null&&Dt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var rl=function(e,r,n){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(r,n)};Qa.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){rl(t,!0,i);var o=Hr();t.render(t.renderOptions);var a=t.lastDrawTime=Hr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=a-o),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=a-o;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else rl(t,!1,i);t.skipFrame=!1,Mi(n)}};Mi(r)}};var lb=function(e){this.init(e)},Bf=lb,na=Bf.prototype;na.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];na.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container();if(xt){var n=xt.document,i=n.head,o="__________cytoscape_stylesheet",a="__________cytoscape_container",s=n.getElementById(o)!=null;if(r.className.indexOf(a)<0&&(r.className=(r.className||"")+" "+a),!s){var u=n.createElement("style");u.id=o,u.innerHTML="."+a+" { position: relative; }",i.insertBefore(u,i.children[0])}var l=xt.getComputedStyle(r),f=l.getPropertyValue("position");f==="static"&&ft("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Me(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};na.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};na.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};na.isHeadless=function(){return!1};[Ts,Rf,Pf,ra,Vr,Qa].forEach(function(t){We(na,t)});var Fo=1e3/60,Ff={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var o=Xi.default(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),a=function(l,f){var h=Hr(),p=i.averageRedrawTime,v=i.lastRedrawTime,g=[],m=i.cy.extent(),w=i.getPixelRatio();for(l||i.flushRenderedStyleQueue();;){var b=Hr(),T=b-h,x=b-f;if(v<Fo){var L=Fo-(l?p:0);if(x>=e.deqFastCost*L)break}else if(l){if(T>=e.deqCost*v||T>=e.deqAvgCost*p)break}else if(x>=e.deqNoDrawCost*Fo)break;var N=e.deq(n,w,m);if(N.length>0)for(var d=0;d<N.length;d++)g.push(N[d]);else break}g.length>0&&(e.onDeqd(n,g),!l&&e.shouldRedraw(n,g,w,m)&&o())},s=e.priority||cs;i.beforeRender(a,s(n))}}}},fb=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oi;os(this,t),this.idsByKey=new Or,this.keyForId=new Or,this.cachesByLvl=new Or,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return ss(t,[{key:"getIdsFor",value:function(r){r==null&&Dt("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new jn,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),o=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(o,n),this.keyForId.set(n,o)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),o=this.getKey(r);return i!==o}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,o=n.get(r);return o||(o=new Or,n.set(r,o),i.push(r)),o}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),o=this.getCache(i,n);return o!=null&&this.updateKeyMappingFor(r),o}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),o=this.getCache(i,n);return o}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var o=this.getKey(r);this.setCache(o,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var o=this.doesEleInvalidateKey(r);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}]),t}(),nl=25,Ei=50,Ai=-4,Ko=3,cb=7.99,hb=8,vb=1024,db=1024,gb=1024,pb=.2,yb=.8,mb=10,bb=.15,wb=.1,Eb=.9,xb=.9,Tb=100,Cb=1,qn={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Db=Vt({getKey:null,doesEleInvalidateKey:Oi,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Bl,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Aa=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=Db(r);We(n,i),n.lookup=new fb(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Rt=Aa.prototype;Rt.reasons=qn;Rt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Rt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Rt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Ua.default(function(r,n){return n.reqs-r.reqs});return e};Rt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Rt.getElement=function(t,e,r,n,i){var o=this,a=this.renderer,s=a.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(vs(s*r))),n<Ai)n=Ai;else if(s>=cb||n>Ko)return null;var l=Math.pow(2,n),f=e.h*l,h=e.w*l,p=a.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,p))return null;var v=u.get(t,n);if(v&&v.invalidated&&(v.invalidated=!1,v.texture.invalidatedWidth-=v.width),v)return v;var g;if(f<=nl?g=nl:f<=Ei?g=Ei:g=Math.ceil(f/Ei)*Ei,f>gb||h>db)return null;var m=o.getTextureQueue(g),w=m[m.length-2],b=function(){return o.recycleTexture(g,h)||o.addTexture(g,h)};w||(w=m[m.length-1]),w||(w=b()),w.width-w.usedWidth<h&&(w=b());for(var T=function(H){return H&&H.scaledLabelShown===p},x=i&&i===qn.dequeue,L=i&&i===qn.highQuality,N=i&&i===qn.downscale,d,C=n+1;C<=Ko;C++){var A=u.get(t,C);if(A){d=A;break}}var S=d&&d.level===n+1?d:null,M=function(){w.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,w.usedWidth,0,h,f)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,h,g),T(S))M();else if(T(d))if(L){for(var k=d.level;k>n;k--)S=o.getElement(t,e,r,k,qn.downscale);M()}else return o.queueElement(t,d.level-1),d;else{var R;if(!x&&!L&&!N)for(var G=n-1;G>=Ai;G--){var P=u.get(t,G);if(P){R=P;break}}if(T(R))return o.queueElement(t,n),R;w.context.translate(w.usedWidth,0),w.context.scale(l,l),this.drawElement(w.context,t,e,p,!1),w.context.scale(1/l,1/l),w.context.translate(-w.usedWidth,0)}return v={x:w.usedWidth,texture:w,level:n,scale:l,width:h,height:f,scaledLabelShown:p},w.usedWidth+=Math.ceil(h+hb),w.eleCaches.push(v),u.set(t,n,v),o.checkTextureFullness(w),v};Rt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Rt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var o=Ai;o<=Ko;o++){var a=r.getForCachedKey(t,o);a&&n.push(a)}var s=r.invalidate(t);if(s)for(var u=0;u<n.length;u++){var l=n[u],f=l.texture;f.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(f)}e.removeFromQueue(t)}};Rt.checkTextureUtility=function(t){t.invalidatedWidth>=pb*t.width&&this.retireTexture(t)};Rt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>yb&&t.fullnessChecks>=mb?nn(r,t):t.fullnessChecks++};Rt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;nn(n,t),t.retired=!0;for(var o=t.eleCaches,a=0;a<o.length;a++){var s=o[a];i.deleteCache(s.key,s.level)}hs(o);var u=e.getRetiredTextureQueue(r);u.push(t)};Rt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(vb,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Rt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),o=0;o<i.length;o++){var a=i[o];if(a.width>=e)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,hs(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),nn(i,a),n.push(a),a}};Rt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),o=this.getKey(t),a=i[o];if(a)a.level=Math.max(a.level,e),a.eles.merge(t),a.reqs++,n.updateItem(a);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:o};n.push(s),i[o]=s}};Rt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],o=e.lookup,a=0;a<Cb&&r.size()>0;a++){var s=r.pop(),u=s.key,l=s.eles[0],f=o.hasCache(l,s.level);if(n[u]=null,f)continue;i.push(s);var h=e.getBoundingBox(l);e.getElement(l,h,t,s.level,qn.dequeue)}return i};Rt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),o=n[i];o!=null&&(o.eles.length===1?(o.reqs=fs,r.updateItem(o),r.pop(),n[i]=null):o.eles.unmerge(t))};Rt.onDequeue=function(t){this.onDequeues.push(t)};Rt.offDequeue=function(t){nn(this.onDequeues,t)};Rt.setupDequeueing=Ff.setupDequeueing({deqRedrawThreshold:Tb,deqCost:bb,deqAvgCost:wb,deqNoDrawCost:Eb,deqFastCost:xb,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var o=0;o<r.length;o++)for(var a=r[o].eles,s=0;s<a.length;s++){var u=a[s].boundingBox();if(ds(u,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Sb=1,Ma=-4,Fi=2,Lb=3.99,Ab=50,Nb=50,Mb=.15,Ob=.1,Ib=.9,kb=.9,Rb=1,al=250,Pb=4e3*4e3,Bb=!0,zf=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Hr()-2*al,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=Xi.default(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Nb),n.beforeRender(function(a,s){s-r.lastInvalidationTime<=al?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var o=function(s,u){return u.reqs-s.reqs};r.layersQueue=new Ua.default(o),r.setupDequeueing()},Ut=zf.prototype,il=0,Fb=Math.pow(2,53)-1;Ut.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),o=this.renderer.makeOffscreenCanvas(n,i),a={id:il=++il%Fb,bb:t,level:e,width:n,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,u=-a.bb.x1,l=-a.bb.y1;return s.scale(r,r),s.translate(u,l),a};Ut.getLayers=function(t,e,r){var n=this,i=n.renderer,o=i.cy,a=o.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(vs(a*e)),r<Ma)r=Ma;else if(a>=Lb||r>Fi)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),f=u[r]=u[r]||[],h,p=n.levelIsComplete(r,t),v,g=function(){var M=function(Y){if(n.validateLayersElesOrdering(Y,t),n.levelIsComplete(Y,t))return v=u[Y],!0},k=function(Y){if(!v)for(var H=r+Y;Ma<=H&&H<=Fi&&!M(H);H+=Y);};k(1),k(-1);for(var R=f.length-1;R>=0;R--){var G=f[R];G.invalid&&nn(f,G)}};if(!p)g();else return f;var m=function(){if(!h){h=lr();for(var M=0;M<t.length;M++)Ly(h,t[M].boundingBox())}return h},w=function(M){M=M||{};var k=M.after;m();var R=h.w*l*(h.h*l);if(R>Pb)return null;var G=n.makeLayer(h,r);if(k!=null){var P=f.indexOf(k)+1;f.splice(P,0,G)}else(M.insert===void 0||M.insert)&&f.unshift(G);return G};if(n.skipping&&!s)return null;for(var b=null,T=t.length/Sb,x=!s,L=0;L<t.length;L++){var N=t[L],d=N._private.rscratch,C=d.imgLayerCaches=d.imgLayerCaches||{},A=C[r];if(A){b=A;continue}if((!b||b.eles.length>=T||!$l(b.bb,N.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;v||x?n.queueLayer(b,N):n.drawEleInLayer(b,N,r,e),b.eles.push(N),C[r]=b}return v||(x?null:f)};Ut.getEleLevelForLayerLevel=function(t,e){return t};Ut.drawEleInLayer=function(t,e,r,n){var i=this,o=this.renderer,a=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),o.setImgSmoothing(a,!1),o.drawCachedElement(a,e,null,null,r,Bb),o.setImgSmoothing(a,!0))};Ut.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,o=0;o<n.length;o++){var a=n[o];if(a.reqs>0||a.invalid)return!1;i+=a.eles.length}return i===e.length};Ut.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0){this.invalidateLayer(i);continue}for(var s=o,a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}};Ut.updateElementsInLayers=function(t,e){for(var r=this,n=Xa(t[0]),i=0;i<t.length;i++)for(var o=n?null:t[i],a=n?t[i]:t[i].ele,s=a._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=Ma;l<=Fi;l++){var f=u[l];f&&(o&&r.getEleLevelForLayerLevel(f.level)!==o.level||e(f,a,o))}};Ut.haveLayers=function(){for(var t=this,e=!1,r=Ma;r<=Fi;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Ut.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Hr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,o){e.invalidateLayer(n)}))};Ut.invalidateLayer=function(t){if(this.lastInvalidationTime=Hr(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];nn(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var o=r[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};Ut.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,o){var a=n.replacement;if(a||(a=n.replacement=e.makeLayer(n.bb,n.level),a.replaces=n,a.eles=n.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)e.queueLayer(a,a.eles[s])})};Ut.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Ut.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,o=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Ut.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<Rb&&r.size()!==0;){var o=r.peek();if(o.replacement){r.pop();continue}if(o.replaces&&o!==o.replaces.replacement){r.pop();continue}if(o.invalid){r.pop();continue}var a=o.elesQueue.shift();a&&(e.drawEleInLayer(o,a,o.level,t),i++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(r.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return n};Ut.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var o=0;o<t.eles.length;o++){var a=t.eles[o]._private,s=a.imgLayerCaches=a.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};Ut.requestRedraw=Xi.default(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Ut.setupDequeueing=Ff.setupDequeueing({deqRedrawThreshold:Ab,deqCost:Mb,deqAvgCost:Ob,deqNoDrawCost:Ib,deqFastCost:kb,deq:function(e,r){return e.dequeue(r)},onDeqd:cs,shouldRedraw:Bl,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Gf={},ol;function zb(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function Gb(t,e,r){for(var n,i=0;i<e.length;i++){var o=e[i];i===0&&(n=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function sl(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var o=n[i];t.lineTo(o.x,o.y)}var a=r,s=r[0];t.moveTo(s.x,s.y);for(var i=1;i<a.length;i++){var o=a[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath()}function Hb(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var o=e,a=o[0];t.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var u=o[s];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function qb(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Gf.arrowShapeImpl=function(t){return(ol||(ol={polygon:zb,"triangle-backcurve":Gb,"triangle-tee":sl,"circle-triangle":Hb,"triangle-cross":sl,circle:qb}))[t]};var Rr={};Rr.drawElement=function(t,e,r,n,i,o){var a=this;e.isNode()?a.drawNode(t,e,r,n,i,o):a.drawEdge(t,e,r,n,i,o)};Rr.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Rr.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Rr.drawCachedElementPortion=function(t,e,r,n,i,o,a,s){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var f=r.getElement(e,l,n,i,o);if(f!=null){var h=s(u,e);if(h===0)return;var p=a(u,e),v=l.x1,g=l.y1,m=l.w,w=l.h,b,T,x,L,N;if(p!==0){var d=r.getRotationPoint(e);x=d.x,L=d.y,t.translate(x,L),t.rotate(p),N=u.getImgSmoothing(t),N||u.setImgSmoothing(t,!0);var C=r.getRotationOffset(e);b=C.x,T=C.y}else b=v,T=g;var A;h!==1&&(A=t.globalAlpha,t.globalAlpha=A*h),t.drawImage(f.texture.canvas,f.x,0,f.width,f.height,b,T,m,w),h!==1&&(t.globalAlpha=A),p!==0&&(t.rotate(-p),t.translate(-x,-L),N||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var $b=function(){return 0},Vb=function(e,r){return e.getTextAngle(r,null)},Ub=function(e,r){return e.getTextAngle(r,"source")},Yb=function(e,r){return e.getTextAngle(r,"target")},Xb=function(e,r){return r.effectiveOpacity()},zo=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Rr.drawCachedElement=function(t,e,r,n,i,o){var a=this,s=a.data,u=s.eleTxrCache,l=s.lblTxrCache,f=s.slbTxrCache,h=s.tlbTxrCache,p=e.boundingBox(),v=o===!0?u.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||ds(p,n))){var g=e.isEdge(),m=e.element()._private.rscratch.badLine;a.drawElementUnderlay(t,e),a.drawCachedElementPortion(t,e,u,r,i,v,$b,Xb),(!g||!m)&&a.drawCachedElementPortion(t,e,l,r,i,v,Vb,zo),g&&!m&&(a.drawCachedElementPortion(t,e,f,r,i,v,Ub,zo),a.drawCachedElementPortion(t,e,h,r,i,v,Yb,zo)),a.drawElementOverlay(t,e)}};Rr.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};Rr.drawCachedElements=function(t,e,r,n){for(var i=this,o=0;o<e.length;o++){var a=e[o];i.drawCachedElement(t,a,r,n)}};Rr.drawCachedNodes=function(t,e,r,n){for(var i=this,o=0;o<e.length;o++){var a=e[o];a.isNode()&&i.drawCachedElement(t,a,r,n)}};Rr.drawLayeredElements=function(t,e,r,n){var i=this,o=i.data.lyrTxrCache.getLayers(e,r);if(o)for(var a=0;a<o.length;a++){var s=o[a],u=s.bb;u.w===0||u.h===0||t.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(t,e,r,n)};var Ur={};Ur.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,s=e._private.rscratch;if(!(o&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=o?e.pstyle("opacity").value:1,f=o?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,v=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,m=l*f,w=l*f,b=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;h==="straight-triangle"?(a.eleStrokeStyle(t,e,R),a.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=v,t.lineCap=g,a.eleStrokeStyle(t,e,R),a.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},T=function(){i&&a.drawEdgeOverlay(t,e)},x=function(){i&&a.drawEdgeUnderlay(t,e)},L=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;a.drawArrowheads(t,e,R)},N=function(){a.drawElementText(t,e,null,n)};t.lineJoin="round";var d=e.pstyle("ghost").value==="yes";if(d){var C=e.pstyle("ghost-offset-x").pfValue,A=e.pstyle("ghost-offset-y").pfValue,S=e.pstyle("ghost-opacity").value,M=m*S;t.translate(C,A),b(M),L(M),t.translate(-C,-A)}x(),b(),L(),T(),N(),r&&t.translate(u.x1,u.y1)}};var Hf=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,a=o.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,f=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,s.edgeType==="self"&&!a?r.lineCap="butt":r.lineCap="round",o.colorStrokeStyle(r,f[0],f[1],f[2],i),o.drawEdgePath(n,r,s.allpts,"solid")}}}};Ur.drawEdgeOverlay=Hf("overlay");Ur.drawEdgeUnderlay=Hf("underlay");Ur.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,o=e,a,s=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,f=t.pstyle("line-dash-offset").pfValue;if(u){var h=r.join("$"),p=i.pathCacheKey&&i.pathCacheKey===h;p?(a=e=i.pathCache,s=!0):(a=e=new Path2D,i.pathCacheKey=h,i.pathCache=a)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(l),o.lineDashOffset=f;break;case"solid":o.setLineDash([]);break}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var v=2;v+3<r.length;v+=4)e.quadraticCurveTo(r[v],r[v+1],r[v+2],r[v+3]);break;case"straight":case"segments":case"haystack":for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break}e=o,u?e.stroke(a):e.stroke(),e.setLineDash&&e.setLineDash([])};Ur.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var o=[r[i+2]-r[i],r[i+3]-r[i+1]],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s=[o[1]/a,-o[0]/a],u=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[i]-u[0],r[i+1]-u[1]),e.lineTo(r[i]+u[0],r[i+1]+u[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};Ur.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Ur.drawArrowhead=function(t,e,r,n,i,o,a){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(o)||o==null)){var s=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=e.pstyle(r+"-arrow-fill").value,h=e.pstyle("width").pfValue,p=e.pstyle("opacity").value;a===void 0&&(a=p);var v=t.globalCompositeOperation;(a!==1||f==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,l,h,u,n,i,o),t.globalCompositeOperation=v);var g=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,g[0],g[1],g[2],a),s.colorStrokeStyle(t,g[0],g[1],g[2],a),s.drawArrowShape(e,t,f,h,u,n,i,o)}}};Ur.drawArrowShape=function(t,e,r,n,i,o,a,s){var u=this,l=this.usePaths()&&i!=="triangle-cross",f=!1,h,p=e,v={x:o,y:a},g=t.pstyle("arrow-scale").value,m=this.getArrowWidth(n,g),w=u.arrowShapes[i];if(l){var b=u.arrowPathCache=u.arrowPathCache||[],T=En(i),x=b[T];x!=null?(h=e=x,f=!0):(h=e=new Path2D,b[T]=h)}f||(e.beginPath&&e.beginPath(),l?w.draw(e,1,0,{x:0,y:0},1):w.draw(e,m,s,v,n),e.closePath&&e.closePath()),e=p,l&&(e.translate(o,a),e.rotate(s),e.scale(m,m)),(r==="filled"||r==="both")&&(l?e.fill(h):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=(w.matchEdgeWidth?n:1)/(l?m:1),e.lineJoin="miter",l?e.stroke(h):e.stroke()),l&&(e.scale(1/m,1/m),e.rotate(-s),e.translate(-o,-a))};var Ds={};Ds.safeDrawImage=function(t,e,r,n,i,o,a,s,u,l){if(!(i<=0||o<=0||u<=0||l<=0))try{t.drawImage(e,r,n,i,o,a,s,u,l)}catch(f){ft(f)}};Ds.drawInscribedImage=function(t,e,r,n,i){var o=this,a=r.position(),s=a.x,u=a.y,l=r.cy().style(),f=l.getIndexedStyle.bind(l),h=f(r,"background-fit","value",n),p=f(r,"background-repeat","value",n),v=r.width(),g=r.height(),m=r.padding()*2,w=v+(f(r,"background-width-relative-to","value",n)==="inner"?0:m),b=g+(f(r,"background-height-relative-to","value",n)==="inner"?0:m),T=r._private.rscratch,x=f(r,"background-clip","value",n),L=x==="node",N=f(r,"background-image-opacity","value",n)*i,d=f(r,"background-image-smoothing","value",n),C=e.width||e.cachedW,A=e.height||e.cachedH;(C==null||A==null)&&(document.body.appendChild(e),C=e.cachedW=e.width||e.offsetWidth,A=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var S=C,M=A;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?S=f(r,"background-width","pfValue",n)*w:S=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?M=f(r,"background-height","pfValue",n)*b:M=f(r,"background-height","pfValue",n)),!(S===0||M===0)){if(h==="contain"){var k=Math.min(w/S,b/M);S*=k,M*=k}else if(h==="cover"){var k=Math.max(w/S,b/M);S*=k,M*=k}var R=s-w/2,G=f(r,"background-position-x","units",n),P=f(r,"background-position-x","pfValue",n);G==="%"?R+=(w-S)*P:R+=P;var Y=f(r,"background-offset-x","units",n),H=f(r,"background-offset-x","pfValue",n);Y==="%"?R+=(w-S)*H:R+=H;var U=u-b/2,W=f(r,"background-position-y","units",n),_=f(r,"background-position-y","pfValue",n);W==="%"?U+=(b-M)*_:U+=_;var j=f(r,"background-offset-y","units",n),K=f(r,"background-offset-y","pfValue",n);j==="%"?U+=(b-M)*K:U+=K,T.pathCache&&(R-=s,U-=u,s=0,u=0);var te=t.globalAlpha;t.globalAlpha=N;var ie=o.getImgSmoothing(t),oe=!1;if(d==="no"&&ie?(o.setImgSmoothing(t,!1),oe=!0):d==="yes"&&!ie&&(o.setImgSmoothing(t,!0),oe=!0),p==="no-repeat")L&&(t.save(),T.pathCache?t.clip(T.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(t,s,u,w,b),t.clip())),o.safeDrawImage(t,e,0,0,C,A,R,U,S,M),L&&t.restore();else{var ue=t.createPattern(e,p);t.fillStyle=ue,o.nodeShapes[o.getNodeShape(r)].draw(t,s,u,w,b),t.translate(R,U),t.fill(),t.translate(-R,-U)}t.globalAlpha=te,oe&&o.setImgSmoothing(t,ie)}};var An={};An.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(vs(r*n));e=Math.pow(2,i)}var o=t.pstyle("font-size").pfValue*e,a=t.pstyle("min-zoomed-font-size").pfValue;return!(o<a)};An.drawElementText=function(t,e,r,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this;if(n==null){if(o&&!a.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=a.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,f=e.pstyle("label"),h=e.pstyle("source-label"),p=e.pstyle("target-label");if(l||(!f||!f.value)&&(!h||!h.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var v=!r,g;r&&(g=r,t.translate(-g.x1,-g.y1)),i==null?(a.drawText(t,e,null,v,o),e.isEdge()&&(a.drawText(t,e,"source",v,o),a.drawText(t,e,"target",v,o))):a.drawText(t,e,i,v,o),r&&t.translate(g.x1,g.y1)};An.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};An.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,f=e.pstyle("text-outline-color").value;t.font=n+" "+a+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],s),this.colorStrokeStyle(t,f[0],f[1],f[2],u)};function Wb(t,e,r,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+i-o),t.quadraticCurveTo(e+n,r+i,e+n-o,r+i),t.lineTo(e+o,r+i),t.quadraticCurveTo(e,r+i,e,r+i-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath(),t.fill()}An.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,o=e?e+"-":"",a=t.pstyle(o+"text-rotation"),s=Lr(i,"labelAngle",e);return a.strValue==="autorotate"?r=t.isEdge()?s:0:a.strValue==="none"?r=0:r=a.pfValue,r};An.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,a=o.rscratch,s=i?e.effectiveOpacity():1;if(!(i&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Lr(a,"labelX",r),l=Lr(a,"labelY",r),f,h,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,i);var v=r?r+"-":"",g=Lr(a,"labelWidth",r),m=Lr(a,"labelHeight",r),w=e.pstyle(v+"text-margin-x").pfValue,b=e.pstyle(v+"text-margin-y").pfValue,T=e.isEdge(),x=e.pstyle("text-halign").value,L=e.pstyle("text-valign").value;T&&(x="center",L="center"),u+=w,l+=b;var N;switch(n?N=this.getTextAngle(e,r):N=0,N!==0&&(f=u,h=l,t.translate(f,h),t.rotate(N),u=0,l=0),L){case"top":break;case"center":l+=m/2;break;case"bottom":l+=m;break}var d=e.pstyle("text-background-opacity").value,C=e.pstyle("text-border-opacity").value,A=e.pstyle("text-border-width").pfValue,S=e.pstyle("text-background-padding").pfValue;if(d>0||A>0&&C>0){var M=u-S;switch(x){case"left":M-=g;break;case"center":M-=g/2;break}var k=l-m-S,R=g+2*S,G=m+2*S;if(d>0){var P=t.fillStyle,Y=e.pstyle("text-background-color").value;t.fillStyle="rgba("+Y[0]+","+Y[1]+","+Y[2]+","+d*s+")";var H=e.pstyle("text-background-shape").strValue;H.indexOf("round")===0?Wb(t,M,k,R,G,2):t.fillRect(M,k,R,G),t.fillStyle=P}if(A>0&&C>0){var U=t.strokeStyle,W=t.lineWidth,_=e.pstyle("text-border-color").value,j=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+_[0]+","+_[1]+","+_[2]+","+C*s+")",t.lineWidth=A,t.setLineDash)switch(j){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=A/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(t.strokeRect(M,k,R,G),j==="double"){var K=A/2;t.strokeRect(M+K,k+K,R-K*2,G-K*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=W,t.strokeStyle=U}}var te=2*e.pstyle("text-outline-width").pfValue;if(te>0&&(t.lineWidth=te),e.pstyle("text-wrap").value==="wrap"){var ie=Lr(a,"labelWrapCachedLines",r),oe=Lr(a,"labelLineHeight",r),ue=g/2,le=this.getLabelJustification(e);switch(le==="auto"||(x==="left"?le==="left"?u+=-g:le==="center"&&(u+=-ue):x==="center"?le==="left"?u+=-ue:le==="right"&&(u+=ue):x==="right"&&(le==="center"?u+=ue:le==="right"&&(u+=g))),L){case"top":l-=(ie.length-1)*oe;break;case"center":case"bottom":l-=(ie.length-1)*oe;break}for(var Q=0;Q<ie.length;Q++)te>0&&t.strokeText(ie[Q],u,l),t.fillText(ie[Q],u,l),l+=oe}else te>0&&t.strokeText(p,u,l),t.fillText(p,u,l);N!==0&&(t.rotate(-N),t.translate(-f,-h))}}};var aa={};aa.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,s,u,l=e._private,f=l.rscratch,h=e.position();if(!(!Me(h.x)||!Me(h.y))&&!(o&&!e.visible())){var p=o?e.effectiveOpacity():1,v=a.usePaths(),g,m=!1,w=e.padding();s=e.width()+2*w,u=e.height()+2*w;var b;r&&(b=r,t.translate(-b.x1,-b.y1));for(var T=e.pstyle("background-image"),x=T.value,L=new Array(x.length),N=new Array(x.length),d=0,C=0;C<x.length;C++){var A=x[C],S=L[C]=A!=null&&A!=="none";if(S){var M=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",C);d++,N[C]=a.getCachedImage(A,M,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var k=e.pstyle("background-blacken").value,R=e.pstyle("border-width").pfValue,G=e.pstyle("background-opacity").value*p,P=e.pstyle("border-color").value,Y=e.pstyle("border-style").value,H=e.pstyle("border-opacity").value*p;t.lineJoin="miter";var U=function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;a.eleFillStyle(t,e,Ee)},W=function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H;a.colorStrokeStyle(t,P[0],P[1],P[2],Ee)},_=e.pstyle("shape").strValue,j=e.pstyle("shape-polygon-points").pfValue;if(v){t.translate(h.x,h.y);var K=a.nodePathCache=a.nodePathCache||[],te=Pl(_==="polygon"?_+","+j.join(","):_,""+u,""+s),ie=K[te];ie!=null?(g=ie,m=!0,f.pathCache=g):(g=new Path2D,K[te]=f.pathCache=g)}var oe=function(){if(!m){var Ee=h;v&&(Ee={x:0,y:0}),a.nodeShapes[a.getNodeShape(e)].draw(g||t,Ee.x,Ee.y,s,u)}v?t.fill(g):t.fill()},ue=function(){for(var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Be=l.backgrounding,ke=0,Ie=0;Ie<N.length;Ie++){var he=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ie);if(Ae&&he==="over"||!Ae&&he==="inside"){ke++;continue}L[Ie]&&N[Ie].complete&&!N[Ie].error&&(ke++,a.drawInscribedImage(t,N[Ie],e,Ie,Ee))}l.backgrounding=ke!==d,Be!==l.backgrounding&&e.updateStyle(!1)},le=function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;a.hasPie(e)&&(a.drawPie(t,e,Ae),Ee&&(v||a.nodeShapes[a.getNodeShape(e)].draw(t,h.x,h.y,s,u)))},Q=function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,Ae=(k>0?k:-k)*Ee,Be=k>0?0:255;k!==0&&(a.colorFillStyle(t,Be,Be,Be,Ae),v?t.fill(g):t.fill())},de=function(){if(R>0){if(t.lineWidth=R,t.lineCap="butt",t.setLineDash)switch(Y){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}if(v?t.stroke(g):t.stroke(),Y==="double"){t.lineWidth=R/3;var Ee=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",v?t.stroke(g):t.stroke(),t.globalCompositeOperation=Ee}t.setLineDash&&t.setLineDash([])}},ce=function(){i&&a.drawNodeOverlay(t,e,h,s,u)},De=function(){i&&a.drawNodeUnderlay(t,e,h,s,u)},Se=function(){a.drawElementText(t,e,null,n)},Ve=e.pstyle("ghost").value==="yes";if(Ve){var Fe=e.pstyle("ghost-offset-x").pfValue,Le=e.pstyle("ghost-offset-y").pfValue,fe=e.pstyle("ghost-opacity").value,re=fe*p;t.translate(Fe,Le),U(fe*G),oe(),ue(re,!0),W(fe*H),de(),le(k!==0||R!==0),ue(re,!1),Q(re),t.translate(-Fe,-Le)}v&&t.translate(-h.x,-h.y),De(),v&&t.translate(h.x,h.y),U(),oe(),ue(p,!0),W(),de(),le(k!==0||R!==0),ue(p,!1),Q(),v&&t.translate(-h.x,-h.y),Se(),ce(),r&&t.translate(b.x1,b.y1)}};var qf=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,o,a){var s=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,f=n.pstyle("".concat(e,"-color")).value,h=n.pstyle("".concat(e,"-shape")).value;if(l>0){if(i=i||n.position(),o==null||a==null){var p=n.padding();o=n.width()+2*p,a=n.height()+2*p}s.colorFillStyle(r,f[0],f[1],f[2],l),s.nodeShapes[h].draw(r,i.x,i.y,o+u*2,a+u*2),r.fill()}}}};aa.drawNodeOverlay=qf("overlay");aa.drawNodeUnderlay=qf("underlay");aa.hasPie=function(t){return t=t[0],t._private.hasPie};aa.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=n.x,s=n.y,u=e.width(),l=e.height(),f=Math.min(u,l)/2,h=0,p=this.usePaths();p&&(a=0,s=0),o.units==="%"?f=f*o.pfValue:o.pfValue!==void 0&&(f=o.pfValue/2);for(var v=1;v<=i.pieBackgroundN;v++){var g=e.pstyle("pie-"+v+"-background-size").value,m=e.pstyle("pie-"+v+"-background-color").value,w=e.pstyle("pie-"+v+"-background-opacity").value*r,b=g/100;b+h>1&&(b=1-h);var T=1.5*Math.PI+2*Math.PI*h,x=2*Math.PI*b,L=T+x;g===0||h>=1||h+b>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,f,T,L),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],w),t.fill(),h+=b)}};var gr={},_b=100;gr.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e};gr.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};gr.createGradientStyleFor=function(t,e,r,n,i){var o,a=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),f=r.targetEndpoint(),h=r.midpoint(),p=xn(l,h),v=xn(f,h);o=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(p,v))}else{var g=a?{x:0,y:0}:r.position(),m=r.paddedWidth(),w=r.paddedHeight();o=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(m,w))}else if(r.isEdge()){var b=r.sourceEndpoint(),T=r.targetEndpoint();o=t.createLinearGradient(b.x,b.y,T.x,T.y)}else{var x=a?{x:0,y:0}:r.position(),L=r.paddedWidth(),N=r.paddedHeight(),d=L/2,C=N/2,A=r.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":o=t.createLinearGradient(x.x,x.y-C,x.x,x.y+C);break;case"to-top":o=t.createLinearGradient(x.x,x.y+C,x.x,x.y-C);break;case"to-left":o=t.createLinearGradient(x.x+d,x.y,x.x-d,x.y);break;case"to-right":o=t.createLinearGradient(x.x-d,x.y,x.x+d,x.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(x.x-d,x.y-C,x.x+d,x.y+C);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(x.x-d,x.y+C,x.x+d,x.y-C);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(x.x+d,x.y-C,x.x-d,x.y+C);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(x.x+d,x.y+C,x.x-d,x.y-C);break}}if(!o)return null;for(var S=u.length===s.length,M=s.length,k=0;k<M;k++)o.addColorStop(S?u[k]:k/(M-1),"rgba("+s[k][0]+","+s[k][1]+","+s[k][2]+","+i+")");return o};gr.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};gr.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};gr.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};gr.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};gr.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};gr.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};gr.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],o=n[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(a=s);var u=i*a,l=o*a,f;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=o+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)f=r.canvases[p],f.width=u,f.height=l,f.style.width=i+"px",f.style.height=o+"px";for(var p=0;p<e.BUFFER_COUNT;p++)f=r.bufferCanvases[p],f.width=u,f.height=l,f.style.width=i+"px",f.style.height=o+"px";e.textureMult=1,a<=1&&(f=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,f.width=u*e.textureMult,f.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l}};gr.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};gr.render=function(t){t=t||Gl();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,i=t.forcedZoom,o=t.forcedPan,a=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=a.cy,l=a.data,f=l.canvasNeedsRedraw,h=a.textureOnViewport&&!e&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:a.motionBlur,v=a.motionBlurPxRatio,g=u.hasCompoundNodes(),m=a.hoverData.draggingEles,w=!!(a.hoverData.selecting||a.touchData.selecting);p=p&&!e&&a.motionBlurEnabled&&!w;var b=p;e||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!e&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),p&&(a.mbFrames==null&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(b=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!h&&(f[a.NODE]=!0,f[a.SELECT_BOX]=!0);var T=u.style(),x=u.zoom(),L=i!==void 0?i:x,N=u.pan(),d={x:N.x,y:N.y},C={zoom:x,pan:{x:N.x,y:N.y}},A=a.prevViewport,S=A===void 0||C.zoom!==A.zoom||C.pan.x!==A.pan.x||C.pan.y!==A.pan.y;!S&&!(m&&!g)&&(a.motionBlurPxRatio=1),o&&(d=o),L*=s,d.x*=s,d.y*=s;var M=a.getCachedZSortedEles();function k(Le,fe,re,we,Ee){var Ae=Le.globalCompositeOperation;Le.globalCompositeOperation="destination-out",a.colorFillStyle(Le,255,255,255,a.motionBlurTransparency),Le.fillRect(fe,re,we,Ee),Le.globalCompositeOperation=Ae}function R(Le,fe){var re,we,Ee,Ae;!a.clearingMotionBlur&&(Le===l.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]||Le===l.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG])?(re={x:N.x*v,y:N.y*v},we=x*v,Ee=a.canvasWidth*v,Ae=a.canvasHeight*v):(re=d,we=L,Ee=a.canvasWidth,Ae=a.canvasHeight),Le.setTransform(1,0,0,1,0,0),fe==="motionBlur"?k(Le,0,0,Ee,Ae):!e&&(fe===void 0||fe)&&Le.clearRect(0,0,Ee,Ae),r||(Le.translate(re.x,re.y),Le.scale(we,we)),o&&Le.translate(o.x,o.y),i&&Le.scale(i,i)}if(h||(a.textureDrawLastFrame=!1),h){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=u.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var G=a.data.bufferContexts[a.TEXTURE_BUFFER];G.setTransform(1,0,0,1,0,0),G.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:G,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult});var C=a.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:a.canvasWidth,height:a.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}f[a.DRAG]=!1,f[a.NODE]=!1;var P=l.contexts[a.NODE],Y=a.textureCache.texture,C=a.textureCache.viewport;P.setTransform(1,0,0,1,0,0),p?k(P,0,0,C.width,C.height):P.clearRect(0,0,C.width,C.height);var H=T.core("outside-texture-bg-color").value,U=T.core("outside-texture-bg-opacity").value;a.colorFillStyle(P,H[0],H[1],H[2],U),P.fillRect(0,0,C.width,C.height);var x=u.zoom();R(P,!1),P.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/s,C.height/C.zoom/s),P.drawImage(Y,C.mpan.x,C.mpan.y,C.width/C.zoom/s,C.height/C.zoom/s)}else a.textureOnViewport&&!e&&(a.textureCache=null);var W=u.extent(),_=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles||a.cy.animated(),j=a.hideEdgesOnViewport&&_,K=[];if(K[a.NODE]=!f[a.NODE]&&p&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,K[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),K[a.DRAG]=!f[a.DRAG]&&p&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,K[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),f[a.NODE]||r||n||K[a.NODE]){var te=p&&!K[a.NODE]&&v!==1,P=e||(te?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:l.contexts[a.NODE]),ie=p&&!te?"motionBlur":void 0;R(P,ie),j?a.drawCachedNodes(P,M.nondrag,s,W):a.drawLayeredElements(P,M.nondrag,s,W),a.debug&&a.drawDebugPoints(P,M.nondrag),!r&&!p&&(f[a.NODE]=!1)}if(!n&&(f[a.DRAG]||r||K[a.DRAG])){var te=p&&!K[a.DRAG]&&v!==1,P=e||(te?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:l.contexts[a.DRAG]);R(P,p&&!te?"motionBlur":void 0),j?a.drawCachedNodes(P,M.drag,s,W):a.drawCachedElements(P,M.drag,s,W),a.debug&&a.drawDebugPoints(P,M.drag),!r&&!p&&(f[a.DRAG]=!1)}if(a.showFps||!n&&f[a.SELECT_BOX]&&!r){var P=e||l.contexts[a.SELECT_BOX];if(R(P),a.selection[4]==1&&(a.hoverData.selecting||a.touchData.selecting)){var x=a.cy.zoom(),oe=T.core("selection-box-border-width").value/x;P.lineWidth=oe,P.fillStyle="rgba("+T.core("selection-box-color").value[0]+","+T.core("selection-box-color").value[1]+","+T.core("selection-box-color").value[2]+","+T.core("selection-box-opacity").value+")",P.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),oe>0&&(P.strokeStyle="rgba("+T.core("selection-box-border-color").value[0]+","+T.core("selection-box-border-color").value[1]+","+T.core("selection-box-border-color").value[2]+","+T.core("selection-box-opacity").value+")",P.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(l.bgActivePosistion&&!a.hoverData.selecting){var x=a.cy.zoom(),ue=l.bgActivePosistion;P.fillStyle="rgba("+T.core("active-bg-color").value[0]+","+T.core("active-bg-color").value[1]+","+T.core("active-bg-color").value[2]+","+T.core("active-bg-opacity").value+")",P.beginPath(),P.arc(ue.x,ue.y,T.core("active-bg-size").pfValue/x,0,2*Math.PI),P.fill()}var le=a.lastRedrawTime;if(a.showFps&&le){le=Math.round(le);var Q=Math.round(1e3/le);P.setTransform(1,0,0,1,0,0),P.fillStyle="rgba(255, 0, 0, 0.75)",P.strokeStyle="rgba(255, 0, 0, 0.75)",P.lineWidth=1,P.fillText("1 frame = "+le+" ms = "+Q+" fps",0,20);var de=60;P.strokeRect(0,30,250,20),P.fillRect(0,30,250*Math.min(Q/de,1),20)}r||(f[a.SELECT_BOX]=!1)}if(p&&v!==1){var ce=l.contexts[a.NODE],De=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],Se=l.contexts[a.DRAG],Ve=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],Fe=function(fe,re,we){fe.setTransform(1,0,0,1,0,0),we||!b?fe.clearRect(0,0,a.canvasWidth,a.canvasHeight):k(fe,0,0,a.canvasWidth,a.canvasHeight);var Ee=v;fe.drawImage(re,0,0,a.canvasWidth*Ee,a.canvasHeight*Ee,0,0,a.canvasWidth,a.canvasHeight)};(f[a.NODE]||K[a.NODE])&&(Fe(ce,De,K[a.NODE]),f[a.NODE]=!1),(f[a.DRAG]||K[a.DRAG])&&(Fe(Se,Ve,K[a.DRAG]),f[a.DRAG]=!1)}a.prevViewport=C,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),p&&(a.motionBlurTimeout=setTimeout(function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!h,a.mbFrames=0,f[a.NODE]=!0,f[a.DRAG]=!0,a.redraw()},_b)),e||u.emit("render")};var ln={};ln.drawPolygonPath=function(t,e,r,n,i,o){var a=n/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],r+s*o[1]);for(var u=1;u<o.length/2;u++)t.lineTo(e+a*o[u*2],r+s*o[u*2+1]);t.closePath()};ln.drawRoundPolygonPath=function(t,e,r,n,i,o){var a=n/2,s=i/2,u=gs(n,i);t.beginPath&&t.beginPath();for(var l=0;l<o.length/4;l++){var f=void 0,h=void 0;l===0?f=o.length-2:f=l*4-2,h=l*4+2;var p=e+a*o[l*4],v=r+s*o[l*4+1],g=-o[f]*o[h]-o[f+1]*o[h+1],m=u/Math.tan(Math.acos(g)/2),w=p-m*o[f],b=v-m*o[f+1],T=p+m*o[h],x=v+m*o[h+1];l===0?t.moveTo(w,b):t.lineTo(w,b),t.arcTo(p,v,T,x,u)}t.closePath()};ln.drawRoundRectanglePath=function(t,e,r,n,i){var o=n/2,a=i/2,s=Wa(n,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-a),t.arcTo(e+o,r-a,e+o,r,s),t.arcTo(e+o,r+a,e,r+a,s),t.arcTo(e-o,r+a,e-o,r,s),t.arcTo(e-o,r-a,e,r-a,s),t.lineTo(e,r-a),t.closePath()};ln.drawBottomRoundRectanglePath=function(t,e,r,n,i){var o=n/2,a=i/2,s=Wa(n,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-a),t.lineTo(e+o,r-a),t.lineTo(e+o,r),t.arcTo(e+o,r+a,e,r+a,s),t.arcTo(e-o,r+a,e-o,r,s),t.lineTo(e-o,r-a),t.lineTo(e,r-a),t.closePath()};ln.drawCutRectanglePath=function(t,e,r,n,i){var o=n/2,a=i/2,s=Wl();t.beginPath&&t.beginPath(),t.moveTo(e-o+s,r-a),t.lineTo(e+o-s,r-a),t.lineTo(e+o,r-a+s),t.lineTo(e+o,r+a-s),t.lineTo(e+o-s,r+a),t.lineTo(e-o+s,r+a),t.lineTo(e-o,r+a-s),t.lineTo(e-o,r-a+s),t.closePath()};ln.drawBarrelPath=function(t,e,r,n,i){var o=n/2,a=i/2,s=e-o,u=e+o,l=r-a,f=r+a,h=$o(n,i),p=h.widthOffset,v=h.heightOffset,g=h.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(s,l+v),t.lineTo(s,f-v),t.quadraticCurveTo(s+g,f,s+p,f),t.lineTo(u-p,f),t.quadraticCurveTo(u-g,f,u,f-v),t.lineTo(u,l+v),t.quadraticCurveTo(u-g,l,u-p,l),t.lineTo(s+p,l),t.quadraticCurveTo(s+g,l,s,l+v),t.closePath()};var ul=Math.sin(0),ll=Math.cos(0),Zo={},Qo={},$f=Math.PI/40;for(var zn=0*Math.PI;zn<2*Math.PI;zn+=$f)Zo[zn]=Math.sin(zn),Qo[zn]=Math.cos(zn);ln.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var o,a,s=n/2,u=i/2,l=0*Math.PI;l<2*Math.PI;l+=$f)o=e-s*Zo[l]*ul+s*Qo[l]*ll,a=r+u*Qo[l]*ul+u*Zo[l]*ll,l===0?t.moveTo(o,a):t.lineTo(o,a);t.closePath()};var ja={};ja.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};ja.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),o=t.full?Math.ceil(n.w):i[2],a=t.full?Math.ceil(n.h):i[3],s=Me(t.maxWidth)||Me(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)o*=t.scale,a*=t.scale,l=t.scale;else if(s){var f=1/0,h=1/0;Me(t.maxWidth)&&(f=l*t.maxWidth/o),Me(t.maxHeight)&&(h=l*t.maxHeight/a),l=Math.min(f,h),o*=l,a*=l}s||(o*=u,a*=u,l*=u);var p=document.createElement("canvas");p.width=o,p.height=a,p.style.width=o+"px",p.style.height=a+"px";var v=p.getContext("2d");if(o>0&&a>0){v.clearRect(0,0,o,a),v.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(t.full)v.translate(-n.x1*l,-n.y1*l),v.scale(l,l),this.drawElements(v,g),v.scale(1/l,1/l),v.translate(n.x1*l,n.y1*l);else{var m=e.pan(),w={x:m.x*l,y:m.y*l};l*=e.zoom(),v.translate(w.x,w.y),v.scale(l,l),this.drawElements(v,g),v.scale(1/l,1/l),v.translate(-w.x,-w.y)}t.bg&&(v.globalCompositeOperation="destination-over",v.fillStyle=t.bg,v.rect(0,0,o,a),v.fill())}return p};function Kb(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return new Blob([n],{type:e})}function fl(t){var e=t.indexOf(",");return t.substr(e+1)}function Vf(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Jn(function(i,o){try{e.toBlob(function(a){a!=null?i(a):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(a){o(a)}});case"blob":return Kb(fl(n()),r);case"base64":return fl(n());case"base64uri":default:return n()}}ja.png=function(t){return Vf(t,this.bufferCanvasImage(t),"image/png")};ja.jpg=function(t){return Vf(t,this.bufferCanvasImage(t),"image/jpeg")};var Uf={};Uf.nodeShapeImpl=function(t,e,r,n,i,o,a){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,o);case"polygon":return this.drawPolygonPath(e,r,n,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,o,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,o);case"barrel":return this.drawBarrelPath(e,r,n,i,o)}};var Zb=Yf,ot=Yf.prototype;ot.CANVAS_LAYERS=3;ot.SELECT_BOX=0;ot.DRAG=1;ot.NODE=2;ot.BUFFER_COUNT=3;ot.TEXTURE_BUFFER=0;ot.MOTIONBLUR_BUFFER_NODE=1;ot.MOTIONBLUR_BUFFER_DRAG=2;function Yf(t){var e=this;e.data={canvases:new Array(ot.CANVAS_LAYERS),contexts:new Array(ot.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ot.CANVAS_LAYERS),bufferCanvases:new Array(ot.BUFFER_COUNT),bufferContexts:new Array(ot.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,i.position="relative",i.zIndex="0",i.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[r]=n;var a={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Ip()&&(a["-ms-touch-action"]="none",a["touch-action"]="none");for(var s=0;s<ot.CANVAS_LAYERS;s++){var u=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=u.getContext("2d"),Object.keys(a).forEach(function(le){u.style[le]=a[le]}),u.style.position="absolute",u.setAttribute("data-id","layer"+s),u.style.zIndex=String(ot.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(u),e.data.canvasNeedsRedraw[s]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ot.NODE].setAttribute("data-id","layer"+ot.NODE+"-node"),e.data.canvases[ot.SELECT_BOX].setAttribute("data-id","layer"+ot.SELECT_BOX+"-selectbox"),e.data.canvases[ot.DRAG].setAttribute("data-id","layer"+ot.DRAG+"-drag");for(var s=0;s<ot.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var l=lr(),f=function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},h=function(Q){return{x:-Q.w/2,y:-Q.h/2}},p=function(Q){var de=Q[0]._private,ce=de.oldBackgroundTimestamp===de.backgroundTimestamp;return!ce},v=function(Q){return Q[0]._private.nodeKey},g=function(Q){return Q[0]._private.labelStyleKey},m=function(Q){return Q[0]._private.sourceLabelStyleKey},w=function(Q){return Q[0]._private.targetLabelStyleKey},b=function(Q,de,ce,De,Se){return e.drawElement(Q,de,ce,!1,!1,Se)},T=function(Q,de,ce,De,Se){return e.drawElementText(Q,de,ce,De,"main",Se)},x=function(Q,de,ce,De,Se){return e.drawElementText(Q,de,ce,De,"source",Se)},L=function(Q,de,ce,De,Se){return e.drawElementText(Q,de,ce,De,"target",Se)},N=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},d=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||l},C=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||l},A=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||l},S=function(Q,de){return de},M=function(Q){return f(N(Q))},k=function(Q,de,ce){var De=Q?Q+"-":"";return{x:de.x+ce.pstyle(De+"text-margin-x").pfValue,y:de.y+ce.pstyle(De+"text-margin-y").pfValue}},R=function(Q,de,ce){var De=Q[0]._private.rscratch;return{x:De[de],y:De[ce]}},G=function(Q){return k("",R(Q,"labelX","labelY"),Q)},P=function(Q){return k("source",R(Q,"sourceLabelX","sourceLabelY"),Q)},Y=function(Q){return k("target",R(Q,"targetLabelX","targetLabelY"),Q)},H=function(Q){return h(N(Q))},U=function(Q){return h(C(Q))},W=function(Q){return h(A(Q))},_=function(Q){var de=d(Q),ce=h(d(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":ce.x=-de.w;break;case"right":ce.x=0;break}switch(Q.pstyle("text-valign").value){case"top":ce.y=-de.h;break;case"bottom":ce.y=0;break}}return ce},j=e.data.eleTxrCache=new Aa(e,{getKey:v,doesEleInvalidateKey:p,drawElement:b,getBoundingBox:N,getRotationPoint:M,getRotationOffset:H,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),K=e.data.lblTxrCache=new Aa(e,{getKey:g,drawElement:T,getBoundingBox:d,getRotationPoint:G,getRotationOffset:_,isVisible:S}),te=e.data.slbTxrCache=new Aa(e,{getKey:m,drawElement:x,getBoundingBox:C,getRotationPoint:P,getRotationOffset:U,isVisible:S}),ie=e.data.tlbTxrCache=new Aa(e,{getKey:w,drawElement:L,getBoundingBox:A,getRotationPoint:Y,getRotationOffset:W,isVisible:S}),oe=e.data.lyrTxrCache=new zf(e);e.onUpdateEleCalcs(function(Q,de){j.invalidateElements(de),K.invalidateElements(de),te.invalidateElements(de),ie.invalidateElements(de),oe.invalidateElements(de);for(var ce=0;ce<de.length;ce++){var De=de[ce]._private;De.oldBackgroundTimestamp=De.backgroundTimestamp}});var ue=function(Q){for(var de=0;de<Q.length;de++)oe.enqueueElementRefinement(Q[de].ele)};j.onDequeue(ue),K.onDequeue(ue),te.onDequeue(ue),ie.onDequeue(ue)}ot.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ot.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ot.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ot.SELECT_BOX]=e;break}};var Qb=typeof Path2D<"u";ot.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};ot.usePaths=function(){return Qb&&this.pathsEnabled};ot.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};ot.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};ot.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas>"u"?"undefined":kt(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):(r=document.createElement("canvas"),r.width=t,r.height=e),r};[Gf,Rr,Ur,Ds,An,aa,gr,ln,ja,Uf].forEach(function(t){We(ot,t)});var jb=[{name:"null",impl:Nf},{name:"base",impl:Bf},{name:"canvas",impl:Zb}],Jb=[{type:"layout",extensions:ob},{type:"renderer",extensions:jb}],Xf={},Wf={};function _f(t,e,r){var n=r,i=function(A){ft("Can not register `"+e+"` for `"+t+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Ha.prototype[e])return i(e);Ha.prototype[e]=r}else if(t==="collection"){if($t.prototype[e])return i(e);$t.prototype[e]=r}else if(t==="layout"){for(var o=function(A){this.options=A,r.call(this,A),it(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(r.prototype),s=[],u=0;u<s.length;u++){var l=s[u];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var f=r.prototype.stop;a.stop=function(){var C=this.options;if(C&&C.animate){var A=this.animations;if(A)for(var S=0;S<A.length;S++)A[S].stop()}return f?f.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var h=function(A){return A._private.cy},p={addEventFields:function(A,S){S.layout=A,S.cy=h(A),S.target=A},bubble:function(){return!0},parent:function(A){return h(A)}};We(a,{createEmitter:function(){return this._private.emitter=new ji(p,this),this},emitter:function(){return this._private.emitter},on:function(A,S){return this.emitter().on(A,S),this},one:function(A,S){return this.emitter().one(A,S),this},once:function(A,S){return this.emitter().one(A,S),this},removeListener:function(A,S){return this.emitter().removeListener(A,S),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,S){return this.emitter().emit(A,S),this}}),lt.eventAliasesOn(a),n=o}else if(t==="renderer"&&e!=="null"&&e!=="base"){var v=Kf("renderer","base"),g=v.prototype,m=r,w=r.prototype,b=function(){v.apply(this,arguments),m.apply(this,arguments)},T=b.prototype;for(var x in g){var L=g[x],N=w[x]!=null;if(N)return i(x);T[x]=L}for(var d in w)T[d]=w[d];g.clientFunctions.forEach(function(C){T[C]=T[C]||function(){Dt("Renderer does not implement `renderer."+C+"()` on its prototype")}}),n=b}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Dt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Ml({map:Xf,keys:[t,e],value:n})}function Kf(t,e){return Ol({map:Xf,keys:[t,e]})}function e1(t,e,r,n,i){return Ml({map:Wf,keys:[t,e,r,n],value:i})}function t1(t,e,r,n){return Ol({map:Wf,keys:[t,e,r,n]})}var jo=function(){if(arguments.length===2)return Kf.apply(null,arguments);if(arguments.length===3)return _f.apply(null,arguments);if(arguments.length===4)return t1.apply(null,arguments);if(arguments.length===5)return e1.apply(null,arguments);Dt("Invalid extension access syntax")};Ha.prototype.extension=jo;Jb.forEach(function(t){t.extensions.forEach(function(e){_f(t.type,e.name,e.impl)})});var Zf=function t(){if(!(this instanceof t))return new t;this.length=0},Dn=Zf.prototype;Dn.instanceString=function(){return"stylesheet"};Dn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Dn.css=function(t,e){var r=this.length-1;if(qe(t))this[r].properties.push({name:t,value:e});else if(it(t))for(var n=t,i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a];if(s!=null){var u=Wt.properties[a]||Wt.properties[Wi(a)];if(u!=null){var l=u.name,f=s;this[r].properties.push({name:l,value:f})}}}return this};Dn.style=Dn.css;Dn.generateStyle=function(t){var e=new Wt(t);return this.appendToStyle(e)};Dn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t};var r1="3.23.0",Sn=function(e){if(e===void 0&&(e={}),it(e))return new Ha(e);if(qe(e))return jo.apply(jo,arguments)};Sn.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Sn),t.apply(null,e),this};Sn.warnings=function(t){return Fl(t)};Sn.version=r1;Sn.stylesheet=Sn.Stylesheet=Zf;var Ca=Sn,Jo={},n1={get exports(){return Jo},set exports(t){Jo=t}},zi={},a1={get exports(){return zi},set exports(t){zi=t}},Gi={},i1={get exports(){return Gi},set exports(t){Gi=t}},cl;function o1(){return cl||(cl=1,function(t,e){(function(n,i){t.exports=i()})(Gr,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.i=function(o){return o},i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:s})},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=26)}([function(r,n,i){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,r.exports=o},function(r,n,i){var o=i(2),a=i(8),s=i(9);function u(f,h,p){o.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=f,this.target=h}u.prototype=Object.create(o.prototype);for(var l in o)u[l]=o[l];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(f,h){for(var p=this.getOtherEnd(f),v=h.getGraphManager().getRoot();;){if(p.getOwner()==h)return p;if(p.getOwner()==v)break;p=p.getOwner().getParent()}return null},u.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,i){function o(a){this.vGraphObject=a}r.exports=o},function(r,n,i){var o=i(2),a=i(10),s=i(13),u=i(0),l=i(16),f=i(4);function h(v,g,m,w){m==null&&w==null&&(w=g),o.call(this,w),v.graphManager!=null&&(v=v.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=w,this.edges=[],this.graphManager=v,m!=null&&g!=null?this.rect=new s(g.x,g.y,m.width,m.height):this.rect=new s}h.prototype=Object.create(o.prototype);for(var p in o)h[p]=o[p];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(v){this.rect.width=v},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(v){this.rect.height=v},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(v,g){this.rect.x=v.x,this.rect.y=v.y,this.rect.width=g.width,this.rect.height=g.height},h.prototype.setCenter=function(v,g){this.rect.x=v-this.rect.width/2,this.rect.y=g-this.rect.height/2},h.prototype.setLocation=function(v,g){this.rect.x=v,this.rect.y=g},h.prototype.moveBy=function(v,g){this.rect.x+=v,this.rect.y+=g},h.prototype.getEdgeListToNode=function(v){var g=[],m=this;return m.edges.forEach(function(w){if(w.target==v){if(w.source!=m)throw"Incorrect edge source!";g.push(w)}}),g},h.prototype.getEdgesBetween=function(v){var g=[],m=this;return m.edges.forEach(function(w){if(!(w.source==m||w.target==m))throw"Incorrect edge source and/or target";(w.target==v||w.source==v)&&g.push(w)}),g},h.prototype.getNeighborsList=function(){var v=new Set,g=this;return g.edges.forEach(function(m){if(m.source==g)v.add(m.target);else{if(m.target!=g)throw"Incorrect incidency!";v.add(m.source)}}),v},h.prototype.withChildren=function(){var v=new Set,g,m;if(v.add(this),this.child!=null)for(var w=this.child.getNodes(),b=0;b<w.length;b++)g=w[b],m=g.withChildren(),m.forEach(function(T){v.add(T)});return v},h.prototype.getNoOfChildren=function(){var v=0,g;if(this.child==null)v=1;else for(var m=this.child.getNodes(),w=0;w<m.length;w++)g=m[w],v+=g.getNoOfChildren();return v==0&&(v=1),v},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var v,g,m=-u.INITIAL_WORLD_BOUNDARY,w=u.INITIAL_WORLD_BOUNDARY;v=u.WORLD_CENTER_X+l.nextDouble()*(w-m)+m;var b=-u.INITIAL_WORLD_BOUNDARY,T=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_Y+l.nextDouble()*(T-b)+b,this.rect.x=v,this.rect.y=g},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var v=this.getChild();if(v.updateBounds(!0),this.rect.x=v.getLeft(),this.rect.y=v.getTop(),this.setWidth(v.getRight()-v.getLeft()),this.setHeight(v.getBottom()-v.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var g=v.getRight()-v.getLeft(),m=v.getBottom()-v.getTop();this.labelWidth>g&&(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)),this.labelHeight>m&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-m)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-m),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(v){var g=this.rect.x;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var m=this.rect.y;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var w=new f(g,m),b=v.inverseTransformPoint(w);this.setLocation(b.x,b.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h},function(r,n,i){function o(a,s){a==null&&s==null?(this.x=0,this.y=0):(this.x=a,this.y=s)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(a){this.x=a},o.prototype.setY=function(a){this.y=a},o.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},r.exports=o},function(r,n,i){var o=i(2),a=i(10),s=i(0),u=i(6),l=i(3),f=i(1),h=i(13),p=i(12),v=i(11);function g(w,b,T){o.call(this,T),this.estimatedSize=a.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=w,b!=null&&b instanceof u?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}g.prototype=Object.create(o.prototype);for(var m in o)g[m]=o[m];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(w,b,T){if(b==null&&T==null){var x=w;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(x)>-1)throw"Node already in graph!";return x.owner=this,this.getNodes().push(x),x}else{var L=w;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(!(b.owner==T.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=T.owner?null:(L.source=b,L.target=T,L.isInterGraph=!1,this.getEdges().push(L),b.edges.push(L),T!=b&&T.edges.push(L),L)}},g.prototype.remove=function(w){var b=w;if(w instanceof l){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var T=b.edges.slice(),x,L=T.length,N=0;N<L;N++)x=T[N],x.isInterGraph?this.graphManager.remove(x):x.source.owner.remove(x);var d=this.nodes.indexOf(b);if(d==-1)throw"Node not in owner node list!";this.nodes.splice(d,1)}else if(w instanceof f){var x=w;if(x==null)throw"Edge is null!";if(!(x.source!=null&&x.target!=null))throw"Source and/or target is null!";if(!(x.source.owner!=null&&x.target.owner!=null&&x.source.owner==this&&x.target.owner==this))throw"Source and/or target owner is invalid!";var C=x.source.edges.indexOf(x),A=x.target.edges.indexOf(x);if(!(C>-1&&A>-1))throw"Source and/or target doesn't know this edge!";x.source.edges.splice(C,1),x.target!=x.source&&x.target.edges.splice(A,1);var d=x.source.owner.getEdges().indexOf(x);if(d==-1)throw"Not in owner's edge list!";x.source.owner.getEdges().splice(d,1)}},g.prototype.updateLeftTop=function(){for(var w=a.MAX_VALUE,b=a.MAX_VALUE,T,x,L,N=this.getNodes(),d=N.length,C=0;C<d;C++){var A=N[C];T=A.getTop(),x=A.getLeft(),w>T&&(w=T),b>x&&(b=x)}return w==a.MAX_VALUE?null:(N[0].getParent().paddingLeft!=null?L=N[0].getParent().paddingLeft:L=this.margin,this.left=b-L,this.top=w-L,new p(this.left,this.top))},g.prototype.updateBounds=function(w){for(var b=a.MAX_VALUE,T=-a.MAX_VALUE,x=a.MAX_VALUE,L=-a.MAX_VALUE,N,d,C,A,S,M=this.nodes,k=M.length,R=0;R<k;R++){var G=M[R];w&&G.child!=null&&G.updateBounds(),N=G.getLeft(),d=G.getRight(),C=G.getTop(),A=G.getBottom(),b>N&&(b=N),T<d&&(T=d),x>C&&(x=C),L<A&&(L=A)}var P=new h(b,x,T-b,L-x);b==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),M[0].getParent().paddingLeft!=null?S=M[0].getParent().paddingLeft:S=this.margin,this.left=P.x-S,this.right=P.x+P.width+S,this.top=P.y-S,this.bottom=P.y+P.height+S},g.calculateBounds=function(w){for(var b=a.MAX_VALUE,T=-a.MAX_VALUE,x=a.MAX_VALUE,L=-a.MAX_VALUE,N,d,C,A,S=w.length,M=0;M<S;M++){var k=w[M];N=k.getLeft(),d=k.getRight(),C=k.getTop(),A=k.getBottom(),b>N&&(b=N),T<d&&(T=d),x>C&&(x=C),L<A&&(L=A)}var R=new h(b,x,T-b,L-x);return R},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var w=0,b=this.nodes,T=b.length,x=0;x<T;x++){var L=b[x];w+=L.calcEstimatedSize()}return w==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=w/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var w=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new v,T=new Set,x=this.nodes[0],L,N,d=x.withChildren();for(d.forEach(function(R){b.push(R),T.add(R)});b.length!==0;){x=b.shift(),L=x.getEdges();for(var C=L.length,A=0;A<C;A++){var S=L[A];if(N=S.getOtherEndInGraph(x,this),N!=null&&!T.has(N)){var M=N.withChildren();M.forEach(function(R){b.push(R),T.add(R)})}}}if(this.isConnected=!1,T.size>=this.nodes.length){var k=0;T.forEach(function(R){R.owner==w&&k++}),k==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,i){var o,a=i(1);function s(u){o=i(5),this.layout=u,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var u=this.layout.newGraph(),l=this.layout.newNode(null),f=this.add(u,l);return this.setRootGraph(f),this.rootGraph},s.prototype.add=function(u,l,f,h,p){if(f==null&&h==null&&p==null){if(u==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return u.parent=l,l.child=u,u}else{p=f,h=l,f=u;var v=h.getOwner(),g=p.getOwner();if(!(v!=null&&v.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(v==g)return f.isInterGraph=!1,v.add(f,h,p);if(f.isInterGraph=!0,f.source=h,f.target=p,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},s.prototype.remove=function(u){if(u instanceof o){var l=u;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(l==this.rootGraph||l.parent!=null&&l.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(l.getEdges());for(var h,p=f.length,v=0;v<p;v++)h=f[v],l.remove(h);var g=[];g=g.concat(l.getNodes());var m;p=g.length;for(var v=0;v<p;v++)m=g[v],l.remove(m);l==this.rootGraph&&this.setRootGraph(null);var w=this.graphs.indexOf(l);this.graphs.splice(w,1),l.parent=null}else if(u instanceof a){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var w=h.source.edges.indexOf(h);if(h.source.edges.splice(w,1),w=h.target.edges.indexOf(h),h.target.edges.splice(w,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var w=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(w,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],l=this.getGraphs(),f=l.length,h=0;h<f;h++)u=u.concat(l[h].getNodes());this.allNodes=u}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],l=this.getGraphs();l.length;for(var f=0;f<l.length;f++)u=u.concat(l[f].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(u,l){if(!(u!=null&&l!=null))throw"assert failed";if(u==l)return!0;var f=u.getOwner(),h;do{if(h=f.getParent(),h==null)break;if(h==l)return!0;if(f=h.getOwner(),f==null)break}while(!0);f=l.getOwner();do{if(h=f.getParent(),h==null)break;if(h==u)return!0;if(f=h.getOwner(),f==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var u,l,f,h,p,v=this.getAllEdges(),g=v.length,m=0;m<g;m++){if(u=v[m],l=u.source,f=u.target,u.lca=null,u.sourceInLca=l,u.targetInLca=f,l==f){u.lca=l.getOwner();continue}for(h=l.getOwner();u.lca==null;){for(u.targetInLca=f,p=f.getOwner();u.lca==null;){if(p==h){u.lca=p;break}if(p==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=p.getParent(),p=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(u,l){if(u==l)return u.getOwner();var f=u.getOwner();do{if(f==null)break;var h=l.getOwner();do{if(h==null)break;if(h==f)return h;h=h.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},s.prototype.calcInclusionTreeDepths=function(u,l){u==null&&l==null&&(u=this.rootGraph,l=1);for(var f,h=u.getNodes(),p=h.length,v=0;v<p;v++)f=h[v],f.inclusionTreeDepth=l,f.child!=null&&this.calcInclusionTreeDepths(f.child,l+1)},s.prototype.includesInvalidEdge=function(){for(var u,l=this.edges.length,f=0;f<l;f++)if(u=this.edges[f],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=s},function(r,n,i){var o=i(0);function a(){}for(var s in o)a[s]=o[s];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=a},function(r,n,i){var o=i(12);function a(){}a.calcSeparationAmount=function(s,u,l,f){if(!s.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(s,u,h),l[0]=Math.min(s.getRight(),u.getRight())-Math.max(s.x,u.x),l[1]=Math.min(s.getBottom(),u.getBottom())-Math.max(s.y,u.y),s.getX()<=u.getX()&&s.getRight()>=u.getRight()?l[0]+=Math.min(u.getX()-s.getX(),s.getRight()-u.getRight()):u.getX()<=s.getX()&&u.getRight()>=s.getRight()&&(l[0]+=Math.min(s.getX()-u.getX(),u.getRight()-s.getRight())),s.getY()<=u.getY()&&s.getBottom()>=u.getBottom()?l[1]+=Math.min(u.getY()-s.getY(),s.getBottom()-u.getBottom()):u.getY()<=s.getY()&&u.getBottom()>=s.getBottom()&&(l[1]+=Math.min(s.getY()-u.getY(),u.getBottom()-s.getBottom()));var p=Math.abs((u.getCenterY()-s.getCenterY())/(u.getCenterX()-s.getCenterX()));u.getCenterY()===s.getCenterY()&&u.getCenterX()===s.getCenterX()&&(p=1);var v=p*l[0],g=l[1]/p;l[0]<g?g=l[0]:v=l[1],l[0]=-1*h[0]*(g/2+f),l[1]=-1*h[1]*(v/2+f)},a.decideDirectionsForOverlappingNodes=function(s,u,l){s.getCenterX()<u.getCenterX()?l[0]=-1:l[0]=1,s.getCenterY()<u.getCenterY()?l[1]=-1:l[1]=1},a.getIntersection2=function(s,u,l){var f=s.getCenterX(),h=s.getCenterY(),p=u.getCenterX(),v=u.getCenterY();if(s.intersects(u))return l[0]=f,l[1]=h,l[2]=p,l[3]=v,!0;var g=s.getX(),m=s.getY(),w=s.getRight(),b=s.getX(),T=s.getBottom(),x=s.getRight(),L=s.getWidthHalf(),N=s.getHeightHalf(),d=u.getX(),C=u.getY(),A=u.getRight(),S=u.getX(),M=u.getBottom(),k=u.getRight(),R=u.getWidthHalf(),G=u.getHeightHalf(),P=!1,Y=!1;if(f===p){if(h>v)return l[0]=f,l[1]=m,l[2]=p,l[3]=M,!1;if(h<v)return l[0]=f,l[1]=T,l[2]=p,l[3]=C,!1}else if(h===v){if(f>p)return l[0]=g,l[1]=h,l[2]=A,l[3]=v,!1;if(f<p)return l[0]=w,l[1]=h,l[2]=d,l[3]=v,!1}else{var H=s.height/s.width,U=u.height/u.width,W=(v-h)/(p-f),_=void 0,j=void 0,K=void 0,te=void 0,ie=void 0,oe=void 0;if(-H===W?f>p?(l[0]=b,l[1]=T,P=!0):(l[0]=w,l[1]=m,P=!0):H===W&&(f>p?(l[0]=g,l[1]=m,P=!0):(l[0]=x,l[1]=T,P=!0)),-U===W?p>f?(l[2]=S,l[3]=M,Y=!0):(l[2]=A,l[3]=C,Y=!0):U===W&&(p>f?(l[2]=d,l[3]=C,Y=!0):(l[2]=k,l[3]=M,Y=!0)),P&&Y)return!1;if(f>p?h>v?(_=this.getCardinalDirection(H,W,4),j=this.getCardinalDirection(U,W,2)):(_=this.getCardinalDirection(-H,W,3),j=this.getCardinalDirection(-U,W,1)):h>v?(_=this.getCardinalDirection(-H,W,1),j=this.getCardinalDirection(-U,W,3)):(_=this.getCardinalDirection(H,W,2),j=this.getCardinalDirection(U,W,4)),!P)switch(_){case 1:te=m,K=f+-N/W,l[0]=K,l[1]=te;break;case 2:K=x,te=h+L*W,l[0]=K,l[1]=te;break;case 3:te=T,K=f+N/W,l[0]=K,l[1]=te;break;case 4:K=b,te=h+-L*W,l[0]=K,l[1]=te;break}if(!Y)switch(j){case 1:oe=C,ie=p+-G/W,l[2]=ie,l[3]=oe;break;case 2:ie=k,oe=v+R*W,l[2]=ie,l[3]=oe;break;case 3:oe=M,ie=p+G/W,l[2]=ie,l[3]=oe;break;case 4:ie=S,oe=v+-R*W,l[2]=ie,l[3]=oe;break}}return!1},a.getCardinalDirection=function(s,u,l){return s>u?l:1+l%4},a.getIntersection=function(s,u,l,f){if(f==null)return this.getIntersection2(s,u,l);var h=s.x,p=s.y,v=u.x,g=u.y,m=l.x,w=l.y,b=f.x,T=f.y,x=void 0,L=void 0,N=void 0,d=void 0,C=void 0,A=void 0,S=void 0,M=void 0,k=void 0;return N=g-p,C=h-v,S=v*p-h*g,d=T-w,A=m-b,M=b*w-m*T,k=N*A-d*C,k===0?null:(x=(C*M-A*S)/k,L=(d*S-N*M)/k,new o(x,L))},a.angleOfVector=function(s,u,l,f){var h=void 0;return s!==l?(h=Math.atan((f-u)/(l-s)),l<s?h+=Math.PI:f<u&&(h+=this.TWO_PI)):f<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},a.doIntersect=function(s,u,l,f){var h=s.x,p=s.y,v=u.x,g=u.y,m=l.x,w=l.y,b=f.x,T=f.y,x=(v-h)*(T-w)-(b-m)*(g-p);if(x===0)return!1;var L=((T-w)*(b-h)+(m-b)*(T-p))/x,N=((p-g)*(b-h)+(v-h)*(T-p))/x;return 0<L&&L<1&&0<N&&N<1},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,r.exports=a},function(r,n,i){function o(){}o.sign=function(a){return a>0?1:a<0?-1:0},o.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},o.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},r.exports=o},function(r,n,i){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,r.exports=o},function(r,n,i){var o=function(){function h(p,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,v,g){return v&&h(p.prototype,v),g&&h(p,g),p}}();function a(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var s=function(p){return{value:p,next:null,prev:null}},u=function(p,v,g,m){return p!==null?p.next=v:m.head=v,g!==null?g.prev=v:m.tail=v,v.prev=p,v.next=g,m.length++,v},l=function(p,v){var g=p.prev,m=p.next;return g!==null?g.next=m:v.head=m,m!==null?m.prev=g:v.tail=g,p.prev=p.next=null,v.length--,p},f=function(){function h(p){var v=this;a(this,h),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(g){return v.push(g)})}return o(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(v,g){return u(g.prev,s(v),g,this)}},{key:"insertAfter",value:function(v,g){return u(g,s(v),g.next,this)}},{key:"insertNodeBefore",value:function(v,g){return u(g.prev,v,g,this)}},{key:"insertNodeAfter",value:function(v,g){return u(g,v,g.next,this)}},{key:"push",value:function(v){return u(this.tail,s(v),null,this)}},{key:"unshift",value:function(v){return u(null,s(v),this.head,this)}},{key:"remove",value:function(v){return l(v,this)}},{key:"pop",value:function(){return l(this.tail,this).value}},{key:"popNode",value:function(){return l(this.tail,this)}},{key:"shift",value:function(){return l(this.head,this).value}},{key:"shiftNode",value:function(){return l(this.head,this)}},{key:"get_object_at",value:function(v){if(v<=this.length()){for(var g=1,m=this.head;g<v;)m=m.next,g++;return m.value}}},{key:"set_object_at",value:function(v,g){if(v<=this.length()){for(var m=1,w=this.head;m<v;)w=w.next,m++;w.value=g}}}]),h}();r.exports=f},function(r,n,i){function o(a,s,u){this.x=null,this.y=null,a==null&&s==null&&u==null?(this.x=0,this.y=0):typeof a=="number"&&typeof s=="number"&&u==null?(this.x=a,this.y=s):a.constructor.name=="Point"&&s==null&&u==null&&(u=a,this.x=u.x,this.y=u.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(a,s,u){a.constructor.name=="Point"&&s==null&&u==null?(u=a,this.setLocation(u.x,u.y)):typeof a=="number"&&typeof s=="number"&&u==null&&(parseInt(a)==a&&parseInt(s)==s?this.move(a,s):(this.x=Math.floor(a+.5),this.y=Math.floor(s+.5)))},o.prototype.move=function(a,s){this.x=a,this.y=s},o.prototype.translate=function(a,s){this.x+=a,this.y+=s},o.prototype.equals=function(a){if(a.constructor.name=="Point"){var s=a;return this.x==s.x&&this.y==s.y}return this==a},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=o},function(r,n,i){function o(a,s,u,l){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&s!=null&&u!=null&&l!=null&&(this.x=a,this.y=s,this.width=u,this.height=l)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(a){this.x=a},o.prototype.getY=function(){return this.y},o.prototype.setY=function(a){this.y=a},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(a){this.width=a},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(a){this.height=a},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},r.exports=o},function(r,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function a(){}a.lastID=0,a.createID=function(s){return a.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=a.getString(),a.lastID++),s.uniqueID)},a.getString=function(s){return s==null&&(s=a.lastID),"Object#"+s},a.isPrimitive=function(s){var u=typeof s>"u"?"undefined":o(s);return s==null||u!="object"&&u!="function"},r.exports=a},function(r,n,i){function o(m){if(Array.isArray(m)){for(var w=0,b=Array(m.length);w<m.length;w++)b[w]=m[w];return b}else return Array.from(m)}var a=i(0),s=i(6),u=i(3),l=i(1),f=i(5),h=i(4),p=i(17),v=i(27);function g(m){v.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}g.RANDOM_SEED=1,g.prototype=Object.create(v.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var m=new s(this);return this.graphManager=m,m},g.prototype.newGraph=function(m){return new f(null,this.graphManager,m)},g.prototype.newNode=function(m){return new u(this.graphManager,m)},g.prototype.newEdge=function(m){return new l(null,null,m)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),a.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),w=0;w<m.length;w++)m[w];for(var b=this.graphManager.getRoot().getNodes(),w=0;w<b.length;w++)b[w];this.update(this.graphManager.getRoot())}},g.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof u){var w=m;if(w.getChild()!=null)for(var b=w.getChild().getNodes(),T=0;T<b.length;T++)update(b[T]);if(w.vGraphObject!=null){var x=w.vGraphObject;x.update(w)}}else if(m instanceof l){var L=m;if(L.vGraphObject!=null){var N=L.vGraphObject;N.update(L)}}else if(m instanceof f){var d=m;if(d.vGraphObject!=null){var C=d.vGraphObject;C.update(d)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(m){if(m==null)this.transform(new h(0,0));else{var w=new p,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){w.setWorldOrgX(m.x),w.setWorldOrgY(m.y),w.setDeviceOrgX(b.x),w.setDeviceOrgY(b.y);for(var T=this.getAllNodes(),x,L=0;L<T.length;L++)x=T[L],x.transform(w)}}},g.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,b,T=m.getNodes(),x=0;x<T.length;x++)w=T[x],b=w.getChild(),b==null||b.getNodes().length==0?w.scatter():(this.positionNodesRandomly(b),w.updateBounds())},g.prototype.getFlatForest=function(){for(var m=[],w=!0,b=this.graphManager.getRoot().getNodes(),T=!0,x=0;x<b.length;x++)b[x].getChild()!=null&&(T=!1);if(!T)return m;var L=new Set,N=[],d=new Map,C=[];for(C=C.concat(b);C.length>0&&w;){for(N.push(C[0]);N.length>0&&w;){var A=N[0];N.splice(0,1),L.add(A);for(var S=A.getEdges(),x=0;x<S.length;x++){var M=S[x].getOtherEnd(A);if(d.get(A)!=M)if(!L.has(M))N.push(M),d.set(M,A);else{w=!1;break}}}if(!w)m=[];else{var k=[].concat(o(L));m.push(k);for(var x=0;x<k.length;x++){var R=k[x],G=C.indexOf(R);G>-1&&C.splice(G,1)}L=new Set,d=new Map}}return m},g.prototype.createDummyNodesForBendpoints=function(m){for(var w=[],b=m.source,T=this.graphManager.calcLowestCommonAncestor(m.source,m.target),x=0;x<m.bendpoints.length;x++){var L=this.newNode(null);L.setRect(new Point(0,0),new Dimension(1,1)),T.add(L);var N=this.newEdge(null);this.graphManager.add(N,b,L),w.add(L),b=L}var N=this.newEdge(null);return this.graphManager.add(N,b,m.target),this.edgeToDummyNodes.set(m,w),m.isInterGraph()?this.graphManager.remove(m):T.remove(m),w},g.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(o(this.edgeToDummyNodes.keys())).concat(m);for(var w=0;w<m.length;w++){var b=m[w];if(b.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(b),x=0;x<T.length;x++){var L=T[x],N=new h(L.getCenterX(),L.getCenterY()),d=b.bendpoints.get(x);d.x=N.x,d.y=N.y,L.getOwner().remove(L)}this.graphManager.add(b,b.source,b.target)}}},g.transform=function(m,w,b,T){if(b!=null&&T!=null){var x=w;if(m<=50){var L=w/b;x-=(w-L)/50*(50-m)}else{var N=w*T;x+=(N-w)/50*(m-50)}return x}else{var d,C;return m<=50?(d=9*w/500,C=w/10):(d=9*w/50,C=-8*w),d*m+C}},g.findCenterOfTree=function(m){var w=[];w=w.concat(m);var b=[],T=new Map,x=!1,L=null;(w.length==1||w.length==2)&&(x=!0,L=w[0]);for(var N=0;N<w.length;N++){var d=w[N],C=d.getNeighborsList().size;T.set(d,d.getNeighborsList().size),C==1&&b.push(d)}var A=[];for(A=A.concat(b);!x;){var S=[];S=S.concat(A),A=[];for(var N=0;N<w.length;N++){var d=w[N],M=w.indexOf(d);M>=0&&w.splice(M,1);var k=d.getNeighborsList();k.forEach(function(P){if(b.indexOf(P)<0){var Y=T.get(P),H=Y-1;H==1&&A.push(P),T.set(P,H)}})}b=b.concat(A),(w.length==1||w.length==2)&&(x=!0,L=w[0])}return L},g.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=g},function(r,n,i){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},r.exports=o},function(r,n,i){var o=i(4);function a(s,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(s){this.lworldExtX=s},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(s){this.lworldExtY=s},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},a.prototype.transformX=function(s){var u=0,l=this.lworldExtX;return l!=0&&(u=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/l),u},a.prototype.transformY=function(s){var u=0,l=this.lworldExtY;return l!=0&&(u=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/l),u},a.prototype.inverseTransformX=function(s){var u=0,l=this.ldeviceExtX;return l!=0&&(u=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/l),u},a.prototype.inverseTransformY=function(s){var u=0,l=this.ldeviceExtY;return l!=0&&(u=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/l),u},a.prototype.inverseTransformPoint=function(s){var u=new o(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return u},r.exports=a},function(r,n,i){function o(v){if(Array.isArray(v)){for(var g=0,m=Array(v.length);g<v.length;g++)m[g]=v[g];return m}else return Array.from(v)}var a=i(15),s=i(7),u=i(0),l=i(8),f=i(9);function h(){a.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=s.DEFAULT_EDGE_LENGTH,this.springConstant=s.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=s.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}h.prototype=Object.create(a.prototype);for(var p in a)h[p]=a[p];h.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var v,g,m,w,b,T,x=this.getGraphManager().getAllEdges(),L=0;L<x.length;L++)v=x[L],v.idealLength=this.idealEdgeLength,v.isInterGraph&&(m=v.getSource(),w=v.getTarget(),b=v.getSourceInLca().getEstimatedSize(),T=v.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(v.idealLength+=b+T-2*u.SIMPLE_NODE_SIZE),g=v.getLca().getInclusionTreeDepth(),v.idealLength+=s.DEFAULT_EDGE_LENGTH*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+w.getInclusionTreeDepth()-2*g))},h.prototype.initSpringEmbedder=function(){var v=this.getAllNodes().length;this.incremental?(v>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(v-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(v>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(v-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var v=this.getAllEdges(),g,m=0;m<v.length;m++)g=v[m],this.calcSpringForce(g,g.idealLength)},h.prototype.calcRepulsionForces=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,w,b,T,x=this.getAllNodes(),L;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&v&&this.updateGrid(),L=new Set,m=0;m<x.length;m++)b=x[m],this.calculateRepulsionForceOfANode(b,L,v,g),L.add(b);else for(m=0;m<x.length;m++)for(b=x[m],w=m+1;w<x.length;w++)T=x[w],b.getOwner()==T.getOwner()&&this.calcRepulsionForce(b,T)},h.prototype.calcGravitationalForces=function(){for(var v,g=this.getAllNodesToApplyGravitation(),m=0;m<g.length;m++)v=g[m],this.calcGravitationalForce(v)},h.prototype.moveNodes=function(){for(var v=this.getAllNodes(),g,m=0;m<v.length;m++)g=v[m],g.move()},h.prototype.calcSpringForce=function(v,g){var m=v.getSource(),w=v.getTarget(),b,T,x,L;if(this.uniformLeafNodeSizes&&m.getChild()==null&&w.getChild()==null)v.updateLengthSimple();else if(v.updateLength(),v.isOverlapingSourceAndTarget)return;b=v.getLength(),b!=0&&(T=this.springConstant*(b-g),x=T*(v.lengthX/b),L=T*(v.lengthY/b),m.springForceX+=x,m.springForceY+=L,w.springForceX-=x,w.springForceY-=L)},h.prototype.calcRepulsionForce=function(v,g){var m=v.getRect(),w=g.getRect(),b=new Array(2),T=new Array(4),x,L,N,d,C,A,S;if(m.intersects(w)){l.calcSeparationAmount(m,w,b,s.DEFAULT_EDGE_LENGTH/2),A=2*b[0],S=2*b[1];var M=v.noOfChildren*g.noOfChildren/(v.noOfChildren+g.noOfChildren);v.repulsionForceX-=M*A,v.repulsionForceY-=M*S,g.repulsionForceX+=M*A,g.repulsionForceY+=M*S}else this.uniformLeafNodeSizes&&v.getChild()==null&&g.getChild()==null?(x=w.getCenterX()-m.getCenterX(),L=w.getCenterY()-m.getCenterY()):(l.getIntersection(m,w,T),x=T[2]-T[0],L=T[3]-T[1]),Math.abs(x)<s.MIN_REPULSION_DIST&&(x=f.sign(x)*s.MIN_REPULSION_DIST),Math.abs(L)<s.MIN_REPULSION_DIST&&(L=f.sign(L)*s.MIN_REPULSION_DIST),N=x*x+L*L,d=Math.sqrt(N),C=this.repulsionConstant*v.noOfChildren*g.noOfChildren/N,A=C*x/d,S=C*L/d,v.repulsionForceX-=A,v.repulsionForceY-=S,g.repulsionForceX+=A,g.repulsionForceY+=S},h.prototype.calcGravitationalForce=function(v){var g,m,w,b,T,x,L,N;g=v.getOwner(),m=(g.getRight()+g.getLeft())/2,w=(g.getTop()+g.getBottom())/2,b=v.getCenterX()-m,T=v.getCenterY()-w,x=Math.abs(b)+v.getWidth()/2,L=Math.abs(T)+v.getHeight()/2,v.getOwner()==this.graphManager.getRoot()?(N=g.getEstimatedSize()*this.gravityRangeFactor,(x>N||L>N)&&(v.gravitationForceX=-this.gravityConstant*b,v.gravitationForceY=-this.gravityConstant*T)):(N=g.getEstimatedSize()*this.compoundGravityRangeFactor,(x>N||L>N)&&(v.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,v.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant))},h.prototype.isConverged=function(){var v,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),v=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,v||g},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var v,g=this.graphManager.getAllNodes(),m=0;m<g.length;m++)v=g[m],v.noOfChildren=v.getNoOfChildren()},h.prototype.calcGrid=function(v){var g=0,m=0;g=parseInt(Math.ceil((v.getRight()-v.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((v.getBottom()-v.getTop())/this.repulsionRange));for(var w=new Array(g),b=0;b<g;b++)w[b]=new Array(m);for(var b=0;b<g;b++)for(var T=0;T<m;T++)w[b][T]=new Array;return w},h.prototype.addNodeToGrid=function(v,g,m){var w=0,b=0,T=0,x=0;w=parseInt(Math.floor((v.getRect().x-g)/this.repulsionRange)),b=parseInt(Math.floor((v.getRect().width+v.getRect().x-g)/this.repulsionRange)),T=parseInt(Math.floor((v.getRect().y-m)/this.repulsionRange)),x=parseInt(Math.floor((v.getRect().height+v.getRect().y-m)/this.repulsionRange));for(var L=w;L<=b;L++)for(var N=T;N<=x;N++)this.grid[L][N].push(v),v.setGridCoordinates(w,b,T,x)},h.prototype.updateGrid=function(){var v,g,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),v=0;v<m.length;v++)g=m[v],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(v,g,m,w){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&m||w){var b=new Set;v.surrounding=new Array;for(var T,x=this.grid,L=v.startX-1;L<v.finishX+2;L++)for(var N=v.startY-1;N<v.finishY+2;N++)if(!(L<0||N<0||L>=x.length||N>=x[0].length)){for(var d=0;d<x[L][N].length;d++)if(T=x[L][N][d],!(v.getOwner()!=T.getOwner()||v==T)&&!g.has(T)&&!b.has(T)){var C=Math.abs(v.getCenterX()-T.getCenterX())-(v.getWidth()/2+T.getWidth()/2),A=Math.abs(v.getCenterY()-T.getCenterY())-(v.getHeight()/2+T.getHeight()/2);C<=this.repulsionRange&&A<=this.repulsionRange&&b.add(T)}}v.surrounding=[].concat(o(b))}for(L=0;L<v.surrounding.length;L++)this.calcRepulsionForce(v,v.surrounding[L])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h},function(r,n,i){var o=i(1),a=i(7);function s(l,f,h){o.call(this,l,f,h),this.idealLength=a.DEFAULT_EDGE_LENGTH}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];r.exports=s},function(r,n,i){var o=i(3);function a(u,l,f,h){o.call(this,u,l,f,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a.prototype=Object.create(o.prototype);for(var s in o)a[s]=o[s];a.prototype.setGridCoordinates=function(u,l,f,h){this.startX=u,this.finishX=l,this.startY=f,this.finishY=h},r.exports=a},function(r,n,i){function o(a,s){this.width=0,this.height=0,a!==null&&s!==null&&(this.height=s,this.width=a)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(a){this.width=a},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(a){this.height=a},r.exports=o},function(r,n,i){var o=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(s,u){var l=o.createID(s);this.contains(l)||(this.map[l]=u,this.keys.push(s))},a.prototype.contains=function(s){return o.createID(s),this.map[s]!=null},a.prototype.get=function(s){var u=o.createID(s);return this.map[u]},a.prototype.keySet=function(){return this.keys},r.exports=a},function(r,n,i){var o=i(14);function a(){this.set={}}a.prototype.add=function(s){var u=o.createID(s);this.contains(u)||(this.set[u]=s)},a.prototype.remove=function(s){delete this.set[o.createID(s)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(s){return this.set[o.createID(s)]==s},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(s){for(var u=Object.keys(this.set),l=u.length,f=0;f<l;f++)s.push(this.set[u[f]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(s){for(var u=s.length,l=0;l<u;l++){var f=s[l];this.add(f)}},r.exports=a},function(r,n,i){var o=function(){function l(f,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}return function(f,h,p){return h&&l(f.prototype,h),p&&l(f,p),f}}();function a(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var s=i(11),u=function(){function l(f,h){a(this,l),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;f instanceof s?p=f.size():p=f.length,this._quicksort(f,0,p-1)}return o(l,[{key:"_quicksort",value:function(h,p,v){if(p<v){var g=this._partition(h,p,v);this._quicksort(h,p,g),this._quicksort(h,g+1,v)}}},{key:"_partition",value:function(h,p,v){for(var g=this._get(h,p),m=p,w=v;;){for(;this.compareFunction(g,this._get(h,w));)w--;for(;this.compareFunction(this._get(h,m),g);)m++;if(m<w)this._swap(h,m,w),m++,w--;else return w}}},{key:"_get",value:function(h,p){return h instanceof s?h.get_object_at(p):h[p]}},{key:"_set",value:function(h,p,v){h instanceof s?h.set_object_at(p,v):h[p]=v}},{key:"_swap",value:function(h,p,v){var g=this._get(h,p);this._set(h,p,this._get(h,v)),this._set(h,v,g)}},{key:"_defaultCompareFunction",value:function(h,p){return p>h}}]),l}();r.exports=u},function(r,n,i){var o=function(){function u(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&u(l.prototype,f),h&&u(l,h),l}}();function a(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(l,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,u),this.sequence1=l,this.sequence2=f,this.match_score=h,this.mismatch_penalty=p,this.gap_penalty=v,this.iMax=l.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[g][m]=0}this.tracebackGrid=new Array(this.iMax);for(var w=0;w<this.iMax;w++){this.tracebackGrid[w]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[w][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var v=1;v<this.jMax;v++){var g=void 0;this.sequence1[p-1]===this.sequence2[v-1]?g=this.grid[p-1][v-1]+this.match_score:g=this.grid[p-1][v-1]+this.mismatch_penalty;var m=this.grid[p-1][v]+this.gap_penalty,w=this.grid[p][v-1]+this.gap_penalty,b=[g,m,w],T=this.arrayAllMaxIndexes(b);this.grid[p][v]=b[T[0]],this.tracebackGrid[p][v]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var h=f[0],p=this.tracebackGrid[h.pos[0]][h.pos[1]];p[0]&&f.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),p[1]&&f.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),p[2]&&f.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),f.shift()}return this.alignments}},{key:"getAllIndexes",value:function(f,h){for(var p=[],v=-1;(v=f.indexOf(h,v+1))!==-1;)p.push(v);return p}},{key:"arrayAllMaxIndexes",value:function(f){return this.getAllIndexes(f,Math.max.apply(null,f))}}]),u}();r.exports=s},function(r,n,i){var o=function(){};o.FDLayout=i(18),o.FDLayoutConstants=i(7),o.FDLayoutEdge=i(19),o.FDLayoutNode=i(20),o.DimensionD=i(21),o.HashMap=i(22),o.HashSet=i(23),o.IGeometry=i(8),o.IMath=i(9),o.Integer=i(10),o.Point=i(12),o.PointD=i(4),o.RandomSeed=i(16),o.RectangleD=i(13),o.Transform=i(17),o.UniqueIDGeneretor=i(14),o.Quicksort=i(24),o.LinkedList=i(11),o.LGraphObject=i(2),o.LGraph=i(5),o.LEdge=i(1),o.LGraphManager=i(6),o.LNode=i(3),o.Layout=i(15),o.LayoutConstants=i(0),o.NeedlemanWunsch=i(25),r.exports=o},function(r,n,i){function o(){this.listeners=[]}var a=o.prototype;a.addListener=function(s,u){this.listeners.push({event:s,callback:u})},a.removeListener=function(s,u){for(var l=this.listeners.length;l>=0;l--){var f=this.listeners[l];f.event===s&&f.callback===u&&this.listeners.splice(l,1)}},a.emit=function(s,u){for(var l=0;l<this.listeners.length;l++){var f=this.listeners[l];s===f.event&&f.callback(u)}},r.exports=o}])})}(i1)),Gi}var hl;function s1(){return hl||(hl=1,function(t,e){(function(n,i){t.exports=i(o1())})(Gr,function(r){return function(n){var i={};function o(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=i,o.i=function(a){return a},o.d=function(a,s,u){o.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:u})},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,"a",s),s},o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.p="",o(o.s=7)}([function(n,i){n.exports=r},function(n,i,o){var a=o(0).FDLayoutConstants;function s(){}for(var u in a)s[u]=a[u];s.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,s.DEFAULT_RADIAL_SEPARATION=a.DEFAULT_EDGE_LENGTH,s.DEFAULT_COMPONENT_SEPERATION=60,s.TILE=!0,s.TILING_PADDING_VERTICAL=10,s.TILING_PADDING_HORIZONTAL=10,s.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=s},function(n,i,o){var a=o(0).FDLayoutEdge;function s(l,f,h){a.call(this,l,f,h)}s.prototype=Object.create(a.prototype);for(var u in a)s[u]=a[u];n.exports=s},function(n,i,o){var a=o(0).LGraph;function s(l,f,h){a.call(this,l,f,h)}s.prototype=Object.create(a.prototype);for(var u in a)s[u]=a[u];n.exports=s},function(n,i,o){var a=o(0).LGraphManager;function s(l){a.call(this,l)}s.prototype=Object.create(a.prototype);for(var u in a)s[u]=a[u];n.exports=s},function(n,i,o){var a=o(0).FDLayoutNode,s=o(0).IMath;function u(f,h,p,v){a.call(this,f,h,p,v)}u.prototype=Object.create(a.prototype);for(var l in a)u[l]=a[l];u.prototype.move=function(){var f=this.graphManager.getLayout();this.displacementX=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementX=f.coolingFactor*f.maxNodeDisplacement*s.sign(this.displacementX)),Math.abs(this.displacementY)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementY=f.coolingFactor*f.maxNodeDisplacement*s.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),f.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(f,h){for(var p=this.getChild().getNodes(),v,g=0;g<p.length;g++)v=p[g],v.getChild()==null?(v.moveBy(f,h),v.displacementX+=f,v.displacementY+=h):v.propogateDisplacementToChildren(f,h)},u.prototype.setPred1=function(f){this.pred1=f},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(f){this.next=f},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(f){this.processed=f},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,i,o){var a=o(0).FDLayout,s=o(4),u=o(3),l=o(5),f=o(2),h=o(1),p=o(0).FDLayoutConstants,v=o(0).LayoutConstants,g=o(0).Point,m=o(0).PointD,w=o(0).Layout,b=o(0).Integer,T=o(0).IGeometry,x=o(0).LGraph,L=o(0).Transform;function N(){a.call(this),this.toBeTiled={}}N.prototype=Object.create(a.prototype);for(var d in a)N[d]=a[d];N.prototype.newGraphManager=function(){var C=new s(this);return this.graphManager=C,C},N.prototype.newGraph=function(C){return new u(null,this.graphManager,C)},N.prototype.newNode=function(C){return new l(this.graphManager,C)},N.prototype.newEdge=function(C){return new f(null,null,C)},N.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=p.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=p.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=p.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=p.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/p.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=p.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},N.prototype.layout=function(){var C=v.DEFAULT_CREATE_BENDS_AS_NEEDED;return C&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},N.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(R){return A.has(R)});this.graphManager.setAllNodesToApplyGravitation(S)}}else{var C=this.getFlatForest();if(C.length>0)this.positionNodesRadially(C);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(M){return A.has(M)});this.graphManager.setAllNodesToApplyGravitation(S),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},N.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%p.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(k){return C.has(k)});this.graphManager.setAllNodesToApplyGravitation(A),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var S=!this.isTreeGrowing&&!this.isGrowthFinished,M=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(S,M),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},N.prototype.getPositionsData=function(){for(var C=this.graphManager.getAllNodes(),A={},S=0;S<C.length;S++){var M=C[S].rect,k=C[S].id;A[k]={id:k,x:M.getCenterX(),y:M.getCenterY(),w:M.width,h:M.height}}return A},N.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var C=!1;if(p.ANIMATE==="during")this.emit("layoutstarted");else{for(;!C;)C=this.tick();this.graphManager.updateBounds()}},N.prototype.calculateNodesToApplyGravitationTo=function(){var C=[],A,S=this.graphManager.getGraphs(),M=S.length,k;for(k=0;k<M;k++)A=S[k],A.updateConnected(),A.isConnected||(C=C.concat(A.getNodes()));return C},N.prototype.createBendpoints=function(){var C=[];C=C.concat(this.graphManager.getAllEdges());var A=new Set,S;for(S=0;S<C.length;S++){var M=C[S];if(!A.has(M)){var k=M.getSource(),R=M.getTarget();if(k==R)M.getBendpoints().push(new m),M.getBendpoints().push(new m),this.createDummyNodesForBendpoints(M),A.add(M);else{var G=[];if(G=G.concat(k.getEdgeListToNode(R)),G=G.concat(R.getEdgeListToNode(k)),!A.has(G[0])){if(G.length>1){var P;for(P=0;P<G.length;P++){var Y=G[P];Y.getBendpoints().push(new m),this.createDummyNodesForBendpoints(Y)}}G.forEach(function(H){A.add(H)})}}}if(A.size==C.length)break}},N.prototype.positionNodesRadially=function(C){for(var A=new g(0,0),S=Math.ceil(Math.sqrt(C.length)),M=0,k=0,R=0,G=new m(0,0),P=0;P<C.length;P++){P%S==0&&(R=0,k=M,P!=0&&(k+=h.DEFAULT_COMPONENT_SEPERATION),M=0);var Y=C[P],H=w.findCenterOfTree(Y);A.x=R,A.y=k,G=N.radialLayout(Y,H,A),G.y>M&&(M=Math.floor(G.y)),R=Math.floor(G.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(v.WORLD_CENTER_X-G.x/2,v.WORLD_CENTER_Y-G.y/2))},N.radialLayout=function(C,A,S){var M=Math.max(this.maxDiagonalInTree(C),h.DEFAULT_RADIAL_SEPARATION);N.branchRadialLayout(A,null,0,359,0,M);var k=x.calculateBounds(C),R=new L;R.setDeviceOrgX(k.getMinX()),R.setDeviceOrgY(k.getMinY()),R.setWorldOrgX(S.x),R.setWorldOrgY(S.y);for(var G=0;G<C.length;G++){var P=C[G];P.transform(R)}var Y=new m(k.getMaxX(),k.getMaxY());return R.inverseTransformPoint(Y)},N.branchRadialLayout=function(C,A,S,M,k,R){var G=(M-S+1)/2;G<0&&(G+=180);var P=(G+S)%360,Y=P*T.TWO_PI/360,H=k*Math.cos(Y),U=k*Math.sin(Y);C.setCenter(H,U);var W=[];W=W.concat(C.getEdges());var _=W.length;A!=null&&_--;for(var j=0,K=W.length,te,ie=C.getEdgesBetween(A);ie.length>1;){var oe=ie[0];ie.splice(0,1);var ue=W.indexOf(oe);ue>=0&&W.splice(ue,1),K--,_--}A!=null?te=(W.indexOf(ie[0])+1)%K:te=0;for(var le=Math.abs(M-S)/_,Q=te;j!=_;Q=++Q%K){var de=W[Q].getOtherEnd(C);if(de!=A){var ce=(S+j*le)%360,De=(ce+le)%360;N.branchRadialLayout(de,C,ce,De,k+R,R),j++}}},N.maxDiagonalInTree=function(C){for(var A=b.MIN_VALUE,S=0;S<C.length;S++){var M=C[S],k=M.getDiagonal();k>A&&(A=k)}return A},N.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},N.prototype.groupZeroDegreeMembers=function(){var C=this,A={};this.memberGroups={},this.idToDummyNode={};for(var S=[],M=this.graphManager.getAllNodes(),k=0;k<M.length;k++){var R=M[k],G=R.getParent();this.getNodeDegreeWithChildren(R)===0&&(G.id==null||!this.getToBeTiled(G))&&S.push(R)}for(var k=0;k<S.length;k++){var R=S[k],P=R.getParent().id;typeof A[P]>"u"&&(A[P]=[]),A[P]=A[P].concat(R)}Object.keys(A).forEach(function(Y){if(A[Y].length>1){var H="DummyCompound_"+Y;C.memberGroups[H]=A[Y];var U=A[Y][0].getParent(),W=new l(C.graphManager);W.id=H,W.paddingLeft=U.paddingLeft||0,W.paddingRight=U.paddingRight||0,W.paddingBottom=U.paddingBottom||0,W.paddingTop=U.paddingTop||0,C.idToDummyNode[H]=W;var _=C.getGraphManager().add(C.newGraph(),W),j=U.getChild();j.add(W);for(var K=0;K<A[Y].length;K++){var te=A[Y][K];j.remove(te),_.add(te)}}})},N.prototype.clearCompounds=function(){var C={},A={};this.performDFSOnCompounds();for(var S=0;S<this.compoundOrder.length;S++)A[this.compoundOrder[S].id]=this.compoundOrder[S],C[this.compoundOrder[S].id]=[].concat(this.compoundOrder[S].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[S].getChild()),this.compoundOrder[S].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(C,A)},N.prototype.clearZeroDegreeMembers=function(){var C=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(S){var M=C.idToDummyNode[S];A[S]=C.tileNodes(C.memberGroups[S],M.paddingLeft+M.paddingRight),M.rect.width=A[S].width,M.rect.height=A[S].height})},N.prototype.repopulateCompounds=function(){for(var C=this.compoundOrder.length-1;C>=0;C--){var A=this.compoundOrder[C],S=A.id,M=A.paddingLeft,k=A.paddingTop;this.adjustLocations(this.tiledMemberPack[S],A.rect.x,A.rect.y,M,k)}},N.prototype.repopulateZeroDegreeMembers=function(){var C=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(S){var M=C.idToDummyNode[S],k=M.paddingLeft,R=M.paddingTop;C.adjustLocations(A[S],M.rect.x,M.rect.y,k,R)})},N.prototype.getToBeTiled=function(C){var A=C.id;if(this.toBeTiled[A]!=null)return this.toBeTiled[A];var S=C.getChild();if(S==null)return this.toBeTiled[A]=!1,!1;for(var M=S.getNodes(),k=0;k<M.length;k++){var R=M[k];if(this.getNodeDegree(R)>0)return this.toBeTiled[A]=!1,!1;if(R.getChild()==null){this.toBeTiled[R.id]=!1;continue}if(!this.getToBeTiled(R))return this.toBeTiled[A]=!1,!1}return this.toBeTiled[A]=!0,!0},N.prototype.getNodeDegree=function(C){C.id;for(var A=C.getEdges(),S=0,M=0;M<A.length;M++){var k=A[M];k.getSource().id!==k.getTarget().id&&(S=S+1)}return S},N.prototype.getNodeDegreeWithChildren=function(C){var A=this.getNodeDegree(C);if(C.getChild()==null)return A;for(var S=C.getChild().getNodes(),M=0;M<S.length;M++){var k=S[M];A+=this.getNodeDegreeWithChildren(k)}return A},N.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},N.prototype.fillCompexOrderByDFS=function(C){for(var A=0;A<C.length;A++){var S=C[A];S.getChild()!=null&&this.fillCompexOrderByDFS(S.getChild().getNodes()),this.getToBeTiled(S)&&this.compoundOrder.push(S)}},N.prototype.adjustLocations=function(C,A,S,M,k){A+=M,S+=k;for(var R=A,G=0;G<C.rows.length;G++){var P=C.rows[G];A=R;for(var Y=0,H=0;H<P.length;H++){var U=P[H];U.rect.x=A,U.rect.y=S,A+=U.rect.width+C.horizontalPadding,U.rect.height>Y&&(Y=U.rect.height)}S+=Y+C.verticalPadding}},N.prototype.tileCompoundMembers=function(C,A){var S=this;this.tiledMemberPack=[],Object.keys(C).forEach(function(M){var k=A[M];S.tiledMemberPack[M]=S.tileNodes(C[M],k.paddingLeft+k.paddingRight),k.rect.width=S.tiledMemberPack[M].width,k.rect.height=S.tiledMemberPack[M].height})},N.prototype.tileNodes=function(C,A){var S=h.TILING_PADDING_VERTICAL,M=h.TILING_PADDING_HORIZONTAL,k={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:S,horizontalPadding:M};C.sort(function(P,Y){return P.rect.width*P.rect.height>Y.rect.width*Y.rect.height?-1:P.rect.width*P.rect.height<Y.rect.width*Y.rect.height?1:0});for(var R=0;R<C.length;R++){var G=C[R];k.rows.length==0?this.insertNodeToRow(k,G,0,A):this.canAddHorizontal(k,G.rect.width,G.rect.height)?this.insertNodeToRow(k,G,this.getShortestRowIndex(k),A):this.insertNodeToRow(k,G,k.rows.length,A),this.shiftToLastRow(k)}return k},N.prototype.insertNodeToRow=function(C,A,S,M){var k=M;if(S==C.rows.length){var R=[];C.rows.push(R),C.rowWidth.push(k),C.rowHeight.push(0)}var G=C.rowWidth[S]+A.rect.width;C.rows[S].length>0&&(G+=C.horizontalPadding),C.rowWidth[S]=G,C.width<G&&(C.width=G);var P=A.rect.height;S>0&&(P+=C.verticalPadding);var Y=0;P>C.rowHeight[S]&&(Y=C.rowHeight[S],C.rowHeight[S]=P,Y=C.rowHeight[S]-Y),C.height+=Y,C.rows[S].push(A)},N.prototype.getShortestRowIndex=function(C){for(var A=-1,S=Number.MAX_VALUE,M=0;M<C.rows.length;M++)C.rowWidth[M]<S&&(A=M,S=C.rowWidth[M]);return A},N.prototype.getLongestRowIndex=function(C){for(var A=-1,S=Number.MIN_VALUE,M=0;M<C.rows.length;M++)C.rowWidth[M]>S&&(A=M,S=C.rowWidth[M]);return A},N.prototype.canAddHorizontal=function(C,A,S){var M=this.getShortestRowIndex(C);if(M<0)return!0;var k=C.rowWidth[M];if(k+C.horizontalPadding+A<=C.width)return!0;var R=0;C.rowHeight[M]<S&&M>0&&(R=S+C.verticalPadding-C.rowHeight[M]);var G;C.width-k>=A+C.horizontalPadding?G=(C.height+R)/(k+A+C.horizontalPadding):G=(C.height+R)/C.width,R=S+C.verticalPadding;var P;return C.width<A?P=(C.height+R)/A:P=(C.height+R)/C.width,P<1&&(P=1/P),G<1&&(G=1/G),G<P},N.prototype.shiftToLastRow=function(C){var A=this.getLongestRowIndex(C),S=C.rowWidth.length-1,M=C.rows[A],k=M[M.length-1],R=k.width+C.horizontalPadding;if(C.width-C.rowWidth[S]>R&&A!=S){M.splice(-1,1),C.rows[S].push(k),C.rowWidth[A]=C.rowWidth[A]-R,C.rowWidth[S]=C.rowWidth[S]+R,C.width=C.rowWidth[instance.getLongestRowIndex(C)];for(var G=Number.MIN_VALUE,P=0;P<M.length;P++)M[P].height>G&&(G=M[P].height);A>0&&(G+=C.verticalPadding);var Y=C.rowHeight[A]+C.rowHeight[S];C.rowHeight[A]=G,C.rowHeight[S]<k.height+C.verticalPadding&&(C.rowHeight[S]=k.height+C.verticalPadding);var H=C.rowHeight[A]+C.rowHeight[S];C.height+=H-Y,this.shiftToLastRow(C)}},N.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},N.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},N.prototype.reduceTrees=function(){for(var C=[],A=!0,S;A;){var M=this.graphManager.getAllNodes(),k=[];A=!1;for(var R=0;R<M.length;R++)S=M[R],S.getEdges().length==1&&!S.getEdges()[0].isInterGraph&&S.getChild()==null&&(k.push([S,S.getEdges()[0],S.getOwner()]),A=!0);if(A==!0){for(var G=[],P=0;P<k.length;P++)k[P][0].getEdges().length==1&&(G.push(k[P]),k[P][0].getOwner().remove(k[P][0]));C.push(G),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=C},N.prototype.growTree=function(C){for(var A=C.length,S=C[A-1],M,k=0;k<S.length;k++)M=S[k],this.findPlaceforPrunedNode(M),M[2].add(M[0]),M[2].add(M[1],M[1].source,M[1].target);C.splice(C.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},N.prototype.findPlaceforPrunedNode=function(C){var A,S,M=C[0];M==C[1].source?S=C[1].target:S=C[1].source;var k=S.startX,R=S.finishX,G=S.startY,P=S.finishY,Y=0,H=0,U=0,W=0,_=[Y,U,H,W];if(G>0)for(var j=k;j<=R;j++)_[0]+=this.grid[j][G-1].length+this.grid[j][G].length-1;if(R<this.grid.length-1)for(var j=G;j<=P;j++)_[1]+=this.grid[R+1][j].length+this.grid[R][j].length-1;if(P<this.grid[0].length-1)for(var j=k;j<=R;j++)_[2]+=this.grid[j][P+1].length+this.grid[j][P].length-1;if(k>0)for(var j=G;j<=P;j++)_[3]+=this.grid[k-1][j].length+this.grid[k][j].length-1;for(var K=b.MAX_VALUE,te,ie,oe=0;oe<_.length;oe++)_[oe]<K?(K=_[oe],te=1,ie=oe):_[oe]==K&&te++;if(te==3&&K==0)_[0]==0&&_[1]==0&&_[2]==0?A=1:_[0]==0&&_[1]==0&&_[3]==0?A=0:_[0]==0&&_[2]==0&&_[3]==0?A=3:_[1]==0&&_[2]==0&&_[3]==0&&(A=2);else if(te==2&&K==0){var ue=Math.floor(Math.random()*2);_[0]==0&&_[1]==0?ue==0?A=0:A=1:_[0]==0&&_[2]==0?ue==0?A=0:A=2:_[0]==0&&_[3]==0?ue==0?A=0:A=3:_[1]==0&&_[2]==0?ue==0?A=1:A=2:_[1]==0&&_[3]==0?ue==0?A=1:A=3:ue==0?A=2:A=3}else if(te==4&&K==0){var ue=Math.floor(Math.random()*4);A=ue}else A=ie;A==0?M.setCenter(S.getCenterX(),S.getCenterY()-S.getHeight()/2-p.DEFAULT_EDGE_LENGTH-M.getHeight()/2):A==1?M.setCenter(S.getCenterX()+S.getWidth()/2+p.DEFAULT_EDGE_LENGTH+M.getWidth()/2,S.getCenterY()):A==2?M.setCenter(S.getCenterX(),S.getCenterY()+S.getHeight()/2+p.DEFAULT_EDGE_LENGTH+M.getHeight()/2):M.setCenter(S.getCenterX()-S.getWidth()/2-p.DEFAULT_EDGE_LENGTH-M.getWidth()/2,S.getCenterY())},n.exports=N},function(n,i,o){var a={};a.layoutBase=o(0),a.CoSEConstants=o(1),a.CoSEEdge=o(2),a.CoSEGraph=o(3),a.CoSEGraphManager=o(4),a.CoSELayout=o(6),a.CoSENode=o(5),n.exports=a}])})}(a1)),zi}(function(t,e){(function(n,i){t.exports=i(s1())})(Gr,function(r){return function(n){var i={};function o(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=i,o.i=function(a){return a},o.d=function(a,s,u){o.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:u})},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,"a",s),s},o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.p="",o(o.s=1)}([function(n,i){n.exports=r},function(n,i,o){var a=o(0).layoutBase.LayoutConstants,s=o(0).layoutBase.FDLayoutConstants,u=o(0).CoSEConstants,l=o(0).CoSELayout,f=o(0).CoSENode,h=o(0).layoutBase.PointD,p=o(0).layoutBase.DimensionD,v={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function g(T,x){var L={};for(var N in T)L[N]=T[N];for(var N in x)L[N]=x[N];return L}function m(T){this.options=g(v,T),w(this.options)}var w=function(x){x.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=s.DEFAULT_REPULSION_STRENGTH=x.nodeRepulsion),x.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=s.DEFAULT_EDGE_LENGTH=x.idealEdgeLength),x.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=s.DEFAULT_SPRING_STRENGTH=x.edgeElasticity),x.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.nestingFactor),x.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=s.DEFAULT_GRAVITY_STRENGTH=x.gravity),x.numIter!=null&&(u.MAX_ITERATIONS=s.MAX_ITERATIONS=x.numIter),x.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=s.DEFAULT_GRAVITY_RANGE_FACTOR=x.gravityRange),x.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.gravityCompound),x.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.gravityRangeCompound),x.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=s.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.initialEnergyOnIncremental),x.quality=="draft"?a.QUALITY=0:x.quality=="proof"?a.QUALITY=2:a.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=a.NODE_DIMENSIONS_INCLUDE_LABELS=x.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=a.DEFAULT_INCREMENTAL=!x.randomize,u.ANIMATE=s.ANIMATE=a.ANIMATE=x.animate,u.TILE=x.tile,u.TILING_PADDING_VERTICAL=typeof x.tilingPaddingVertical=="function"?x.tilingPaddingVertical.call():x.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof x.tilingPaddingHorizontal=="function"?x.tilingPaddingHorizontal.call():x.tilingPaddingHorizontal};m.prototype.run=function(){var T,x,L=this.options;this.idToLNode={};var N=this.layout=new l,d=this;d.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var C=N.newGraphManager();this.gm=C;var A=this.options.eles.nodes(),S=this.options.eles.edges();this.root=C.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(A),N);for(var M=0;M<S.length;M++){var k=S[M],R=this.idToLNode[k.data("source")],G=this.idToLNode[k.data("target")];if(R!==G&&R.getEdgesBetween(G).length==0){var P=C.add(N.newEdge(),R,G);P.id=k.id()}}var Y=function(W,_){typeof W=="number"&&(W=_);var j=W.data("id"),K=d.idToLNode[j];return{x:K.getRect().getCenterX(),y:K.getRect().getCenterY()}},H=function U(){for(var W=function(){L.fit&&L.cy.fit(L.eles,L.padding),T||(T=!0,d.cy.one("layoutready",L.ready),d.cy.trigger({type:"layoutready",layout:d}))},_=d.options.refresh,j,K=0;K<_&&!j;K++)j=d.stopped||d.layout.tick();if(j){N.checkLayoutSuccess()&&!N.isSubLayout&&N.doPostLayout(),N.tilingPostLayout&&N.tilingPostLayout(),N.isLayoutFinished=!0,d.options.eles.nodes().positions(Y),W(),d.cy.one("layoutstop",d.options.stop),d.cy.trigger({type:"layoutstop",layout:d}),x&&cancelAnimationFrame(x),T=!1;return}var te=d.layout.getPositionsData();L.eles.nodes().positions(function(ie,oe){if(typeof ie=="number"&&(ie=oe),!ie.isParent()){for(var ue=ie.id(),le=te[ue],Q=ie;le==null&&(le=te[Q.data("parent")]||te["DummyCompound_"+Q.data("parent")],te[ue]=le,Q=Q.parent()[0],Q!=null););return le!=null?{x:le.x,y:le.y}:{x:ie.position("x"),y:ie.position("y")}}}),W(),x=requestAnimationFrame(U)};return N.addListener("layoutstarted",function(){d.options.animate==="during"&&(x=requestAnimationFrame(H))}),N.runLayout(),this.options.animate!=="during"&&(d.options.eles.nodes().not(":parent").layoutPositions(d,d.options,Y),T=!1),this},m.prototype.getTopMostNodes=function(T){for(var x={},L=0;L<T.length;L++)x[T[L].id()]=!0;var N=T.filter(function(d,C){typeof d=="number"&&(d=C);for(var A=d.parent()[0];A!=null;){if(x[A.id()])return!1;A=A.parent()[0]}return!0});return N},m.prototype.processChildrenList=function(T,x,L){for(var N=x.length,d=0;d<N;d++){var C=x[d],A=C.children(),S,M=C.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(C.outerWidth()!=null&&C.outerHeight()!=null?S=T.add(new f(L.graphManager,new h(C.position("x")-M.w/2,C.position("y")-M.h/2),new p(parseFloat(M.w),parseFloat(M.h)))):S=T.add(new f(this.graphManager)),S.id=C.data("id"),S.paddingLeft=parseInt(C.css("padding")),S.paddingTop=parseInt(C.css("padding")),S.paddingRight=parseInt(C.css("padding")),S.paddingBottom=parseInt(C.css("padding")),this.options.nodeDimensionsIncludeLabels&&C.isParent()){var k=C.boundingBox({includeLabels:!0,includeNodes:!1}).w,R=C.boundingBox({includeLabels:!0,includeNodes:!1}).h,G=C.css("text-halign");S.labelWidth=k,S.labelHeight=R,S.labelPos=G}if(this.idToLNode[C.data("id")]=S,isNaN(S.rect.x)&&(S.rect.x=0),isNaN(S.rect.y)&&(S.rect.y=0),A!=null&&A.length>0){var P;P=L.getGraphManager().add(L.newGraph(),S),this.processChildrenList(P,A,L)}}},m.prototype.stop=function(){return this.stopped=!0,this};var b=function(x){x("layout","cose-bilkent",m)};typeof cytoscape<"u"&&b(cytoscape),n.exports=b}])})})(n1);const u1=Pc(Jo);var es={},l1={get exports(){return es},set exports(t){es=t}},Hi={},f1={get exports(){return Hi},set exports(t){Hi=t}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */var vl;function c1(){return vl||(vl=1,function(t){(function(e,r){t.exports=e.document?r(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:Gr,function(e,r){var n=[],i=Object.getPrototypeOf,o=n.slice,a=n.flat?function(c){return n.flat.call(c)}:function(c){return n.concat.apply([],c)},s=n.push,u=n.indexOf,l={},f=l.toString,h=l.hasOwnProperty,p=h.toString,v=p.call(Object),g={},m=function(y){return typeof y=="function"&&typeof y.nodeType!="number"&&typeof y.item!="function"},w=function(y){return y!=null&&y===y.window},b=e.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function x(c,y,E){E=E||b;var D,O,I=E.createElement("script");if(I.text=c,y)for(D in T)O=y[D]||y.getAttribute&&y.getAttribute(D),O&&I.setAttribute(D,O);E.head.appendChild(I).parentNode.removeChild(I)}function L(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?l[f.call(c)]||"object":typeof c}var N="3.6.4",d=function(c,y){return new d.fn.init(c,y)};d.fn=d.prototype={jquery:N,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(c){return c==null?o.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var y=d.merge(this.constructor(),c);return y.prevObject=this,y},each:function(c){return d.each(this,c)},map:function(c){return this.pushStack(d.map(this,function(y,E){return c.call(y,E,y)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(c,y){return(y+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(c,y){return y%2}))},eq:function(c){var y=this.length,E=+c+(c<0?y:0);return this.pushStack(E>=0&&E<y?[this[E]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var c,y,E,D,O,I,B=arguments[0]||{},X=1,q=arguments.length,ee=!1;for(typeof B=="boolean"&&(ee=B,B=arguments[X]||{},X++),typeof B!="object"&&!m(B)&&(B={}),X===q&&(B=this,X--);X<q;X++)if((c=arguments[X])!=null)for(y in c)D=c[y],!(y==="__proto__"||B===D)&&(ee&&D&&(d.isPlainObject(D)||(O=Array.isArray(D)))?(E=B[y],O&&!Array.isArray(E)?I=[]:!O&&!d.isPlainObject(E)?I={}:I=E,O=!1,B[y]=d.extend(ee,I,D)):D!==void 0&&(B[y]=D));return B},d.extend({expando:"jQuery"+(N+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var y,E;return!c||f.call(c)!=="[object Object]"?!1:(y=i(c),y?(E=h.call(y,"constructor")&&y.constructor,typeof E=="function"&&p.call(E)===v):!0)},isEmptyObject:function(c){var y;for(y in c)return!1;return!0},globalEval:function(c,y,E){x(c,{nonce:y&&y.nonce},E)},each:function(c,y){var E,D=0;if(C(c))for(E=c.length;D<E&&y.call(c[D],D,c[D])!==!1;D++);else for(D in c)if(y.call(c[D],D,c[D])===!1)break;return c},makeArray:function(c,y){var E=y||[];return c!=null&&(C(Object(c))?d.merge(E,typeof c=="string"?[c]:c):s.call(E,c)),E},inArray:function(c,y,E){return y==null?-1:u.call(y,c,E)},merge:function(c,y){for(var E=+y.length,D=0,O=c.length;D<E;D++)c[O++]=y[D];return c.length=O,c},grep:function(c,y,E){for(var D,O=[],I=0,B=c.length,X=!E;I<B;I++)D=!y(c[I],I),D!==X&&O.push(c[I]);return O},map:function(c,y,E){var D,O,I=0,B=[];if(C(c))for(D=c.length;I<D;I++)O=y(c[I],I,E),O!=null&&B.push(O);else for(I in c)O=y(c[I],I,E),O!=null&&B.push(O);return a(B)},guid:1,support:g}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,y){l["[object "+y+"]"]=y.toLowerCase()});function C(c){var y=!!c&&"length"in c&&c.length,E=L(c);return m(c)||w(c)?!1:E==="array"||y===0||typeof y=="number"&&y>0&&y-1 in c}var A=function(c){var y,E,D,O,I,B,X,q,ee,se,Te,ae,ve,Ge,Qe,ze,Mt,Lt,fr,ct="sizzle"+1*new Date,Ze=c.document,ir=0,nt=0,Tt=si(),ga=si(),ai=si(),cr=si(),vn=function(F,V){return F===V&&(Te=!0),0},dn={}.hasOwnProperty,or=[],Wr=or.pop,yr=or.push,_r=or.push,Hs=or.slice,gn=function(F,V){for(var Z=0,pe=F.length;Z<pe;Z++)if(F[Z]===V)return Z;return-1},mo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ut="[\\x20\\t\\r\\n\\f]",pn="(?:\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",qs="\\["+ut+"*("+pn+")(?:"+ut+"*([*^$|!~]?=)"+ut+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+pn+"))|)"+ut+"*\\]",bo=":("+pn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+qs+")*)|.*)\\)|)",Ec=new RegExp(ut+"+","g"),ii=new RegExp("^"+ut+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ut+"+$","g"),xc=new RegExp("^"+ut+"*,"+ut+"*"),$s=new RegExp("^"+ut+"*([>+~]|"+ut+")"+ut+"*"),Tc=new RegExp(ut+"|>"),Cc=new RegExp(bo),Dc=new RegExp("^"+pn+"$"),oi={ID:new RegExp("^#("+pn+")"),CLASS:new RegExp("^\\.("+pn+")"),TAG:new RegExp("^("+pn+"|[*])"),ATTR:new RegExp("^"+qs),PSEUDO:new RegExp("^"+bo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ut+"*(even|odd|(([+-]|)(\\d*)n|)"+ut+"*(?:([+-]|)"+ut+"*(\\d+)|))"+ut+"*\\)|)","i"),bool:new RegExp("^(?:"+mo+")$","i"),needsContext:new RegExp("^"+ut+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ut+"*((?:-\\d)?\\d*)"+ut+"*\\)|)(?=[^-]|$)","i")},Sc=/HTML$/i,Lc=/^(?:input|select|textarea|button)$/i,Ac=/^h\d$/i,pa=/^[^{]+\{\s*\[native \w/,Nc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wo=/[+~]/,Br=new RegExp("\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\([^\\r\\n\\f])","g"),Fr=function(F,V){var Z="0x"+F.slice(1)-65536;return V||(Z<0?String.fromCharCode(Z+65536):String.fromCharCode(Z>>10|55296,Z&1023|56320))},Vs=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Us=function(F,V){return V?F==="\0"?"�":F.slice(0,-1)+"\\"+F.charCodeAt(F.length-1).toString(16)+" ":"\\"+F},Ys=function(){ae()},Mc=li(function(F){return F.disabled===!0&&F.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{_r.apply(or=Hs.call(Ze.childNodes),Ze.childNodes),or[Ze.childNodes.length].nodeType}catch{_r={apply:or.length?function(V,Z){yr.apply(V,Hs.call(Z))}:function(V,Z){for(var pe=V.length,J=0;V[pe++]=Z[J++];);V.length=pe-1}}}function vt(F,V,Z,pe){var J,be,Ce,Ne,Oe,Ye,Ue,_e=V&&V.ownerDocument,et=V?V.nodeType:9;if(Z=Z||[],typeof F!="string"||!F||et!==1&&et!==9&&et!==11)return Z;if(!pe&&(ae(V),V=V||ve,Qe)){if(et!==11&&(Oe=Nc.exec(F)))if(J=Oe[1]){if(et===9)if(Ce=V.getElementById(J)){if(Ce.id===J)return Z.push(Ce),Z}else return Z;else if(_e&&(Ce=_e.getElementById(J))&&fr(V,Ce)&&Ce.id===J)return Z.push(Ce),Z}else{if(Oe[2])return _r.apply(Z,V.getElementsByTagName(F)),Z;if((J=Oe[3])&&E.getElementsByClassName&&V.getElementsByClassName)return _r.apply(Z,V.getElementsByClassName(J)),Z}if(E.qsa&&!cr[F+" "]&&(!ze||!ze.test(F))&&(et!==1||V.nodeName.toLowerCase()!=="object")){if(Ue=F,_e=V,et===1&&(Tc.test(F)||$s.test(F))){for(_e=wo.test(F)&&xo(V.parentNode)||V,(_e!==V||!E.scope)&&((Ne=V.getAttribute("id"))?Ne=Ne.replace(Vs,Us):V.setAttribute("id",Ne=ct)),Ye=B(F),be=Ye.length;be--;)Ye[be]=(Ne?"#"+Ne:":scope")+" "+ui(Ye[be]);Ue=Ye.join(",")}try{return _r.apply(Z,_e.querySelectorAll(Ue)),Z}catch{cr(F,!0)}finally{Ne===ct&&V.removeAttribute("id")}}}return q(F.replace(ii,"$1"),V,Z,pe)}function si(){var F=[];function V(Z,pe){return F.push(Z+" ")>D.cacheLength&&delete V[F.shift()],V[Z+" "]=pe}return V}function Dr(F){return F[ct]=!0,F}function mr(F){var V=ve.createElement("fieldset");try{return!!F(V)}catch{return!1}finally{V.parentNode&&V.parentNode.removeChild(V),V=null}}function Eo(F,V){for(var Z=F.split("|"),pe=Z.length;pe--;)D.attrHandle[Z[pe]]=V}function Xs(F,V){var Z=V&&F,pe=Z&&F.nodeType===1&&V.nodeType===1&&F.sourceIndex-V.sourceIndex;if(pe)return pe;if(Z){for(;Z=Z.nextSibling;)if(Z===V)return-1}return F?1:-1}function Oc(F){return function(V){var Z=V.nodeName.toLowerCase();return Z==="input"&&V.type===F}}function Ic(F){return function(V){var Z=V.nodeName.toLowerCase();return(Z==="input"||Z==="button")&&V.type===F}}function Ws(F){return function(V){return"form"in V?V.parentNode&&V.disabled===!1?"label"in V?"label"in V.parentNode?V.parentNode.disabled===F:V.disabled===F:V.isDisabled===F||V.isDisabled!==!F&&Mc(V)===F:V.disabled===F:"label"in V?V.disabled===F:!1}}function yn(F){return Dr(function(V){return V=+V,Dr(function(Z,pe){for(var J,be=F([],Z.length,V),Ce=be.length;Ce--;)Z[J=be[Ce]]&&(Z[J]=!(pe[J]=Z[J]))})})}function xo(F){return F&&typeof F.getElementsByTagName<"u"&&F}E=vt.support={},I=vt.isXML=function(F){var V=F&&F.namespaceURI,Z=F&&(F.ownerDocument||F).documentElement;return!Sc.test(V||Z&&Z.nodeName||"HTML")},ae=vt.setDocument=function(F){var V,Z,pe=F?F.ownerDocument||F:Ze;return pe==ve||pe.nodeType!==9||!pe.documentElement||(ve=pe,Ge=ve.documentElement,Qe=!I(ve),Ze!=ve&&(Z=ve.defaultView)&&Z.top!==Z&&(Z.addEventListener?Z.addEventListener("unload",Ys,!1):Z.attachEvent&&Z.attachEvent("onunload",Ys)),E.scope=mr(function(J){return Ge.appendChild(J).appendChild(ve.createElement("div")),typeof J.querySelectorAll<"u"&&!J.querySelectorAll(":scope fieldset div").length}),E.cssHas=mr(function(){try{return ve.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),E.attributes=mr(function(J){return J.className="i",!J.getAttribute("className")}),E.getElementsByTagName=mr(function(J){return J.appendChild(ve.createComment("")),!J.getElementsByTagName("*").length}),E.getElementsByClassName=pa.test(ve.getElementsByClassName),E.getById=mr(function(J){return Ge.appendChild(J).id=ct,!ve.getElementsByName||!ve.getElementsByName(ct).length}),E.getById?(D.filter.ID=function(J){var be=J.replace(Br,Fr);return function(Ce){return Ce.getAttribute("id")===be}},D.find.ID=function(J,be){if(typeof be.getElementById<"u"&&Qe){var Ce=be.getElementById(J);return Ce?[Ce]:[]}}):(D.filter.ID=function(J){var be=J.replace(Br,Fr);return function(Ce){var Ne=typeof Ce.getAttributeNode<"u"&&Ce.getAttributeNode("id");return Ne&&Ne.value===be}},D.find.ID=function(J,be){if(typeof be.getElementById<"u"&&Qe){var Ce,Ne,Oe,Ye=be.getElementById(J);if(Ye){if(Ce=Ye.getAttributeNode("id"),Ce&&Ce.value===J)return[Ye];for(Oe=be.getElementsByName(J),Ne=0;Ye=Oe[Ne++];)if(Ce=Ye.getAttributeNode("id"),Ce&&Ce.value===J)return[Ye]}return[]}}),D.find.TAG=E.getElementsByTagName?function(J,be){if(typeof be.getElementsByTagName<"u")return be.getElementsByTagName(J);if(E.qsa)return be.querySelectorAll(J)}:function(J,be){var Ce,Ne=[],Oe=0,Ye=be.getElementsByTagName(J);if(J==="*"){for(;Ce=Ye[Oe++];)Ce.nodeType===1&&Ne.push(Ce);return Ne}return Ye},D.find.CLASS=E.getElementsByClassName&&function(J,be){if(typeof be.getElementsByClassName<"u"&&Qe)return be.getElementsByClassName(J)},Mt=[],ze=[],(E.qsa=pa.test(ve.querySelectorAll))&&(mr(function(J){var be;Ge.appendChild(J).innerHTML="<a id='"+ct+"'></a><select id='"+ct+"-\r\\' msallowcapture=''><option selected=''></option></select>",J.querySelectorAll("[msallowcapture^='']").length&&ze.push("[*^$]="+ut+`*(?:''|"")`),J.querySelectorAll("[selected]").length||ze.push("\\["+ut+"*(?:value|"+mo+")"),J.querySelectorAll("[id~="+ct+"-]").length||ze.push("~="),be=ve.createElement("input"),be.setAttribute("name",""),J.appendChild(be),J.querySelectorAll("[name='']").length||ze.push("\\["+ut+"*name"+ut+"*="+ut+`*(?:''|"")`),J.querySelectorAll(":checked").length||ze.push(":checked"),J.querySelectorAll("a#"+ct+"+*").length||ze.push(".#.+[+~]"),J.querySelectorAll("\\\f"),ze.push("[\\r\\n\\f]")}),mr(function(J){J.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var be=ve.createElement("input");be.setAttribute("type","hidden"),J.appendChild(be).setAttribute("name","D"),J.querySelectorAll("[name=d]").length&&ze.push("name"+ut+"*[*^$|!~]?="),J.querySelectorAll(":enabled").length!==2&&ze.push(":enabled",":disabled"),Ge.appendChild(J).disabled=!0,J.querySelectorAll(":disabled").length!==2&&ze.push(":enabled",":disabled"),J.querySelectorAll("*,:x"),ze.push(",.*:")})),(E.matchesSelector=pa.test(Lt=Ge.matches||Ge.webkitMatchesSelector||Ge.mozMatchesSelector||Ge.oMatchesSelector||Ge.msMatchesSelector))&&mr(function(J){E.disconnectedMatch=Lt.call(J,"*"),Lt.call(J,"[s!='']:x"),Mt.push("!=",bo)}),E.cssHas||ze.push(":has"),ze=ze.length&&new RegExp(ze.join("|")),Mt=Mt.length&&new RegExp(Mt.join("|")),V=pa.test(Ge.compareDocumentPosition),fr=V||pa.test(Ge.contains)?function(J,be){var Ce=J.nodeType===9&&J.documentElement||J,Ne=be&&be.parentNode;return J===Ne||!!(Ne&&Ne.nodeType===1&&(Ce.contains?Ce.contains(Ne):J.compareDocumentPosition&&J.compareDocumentPosition(Ne)&16))}:function(J,be){if(be){for(;be=be.parentNode;)if(be===J)return!0}return!1},vn=V?function(J,be){if(J===be)return Te=!0,0;var Ce=!J.compareDocumentPosition-!be.compareDocumentPosition;return Ce||(Ce=(J.ownerDocument||J)==(be.ownerDocument||be)?J.compareDocumentPosition(be):1,Ce&1||!E.sortDetached&&be.compareDocumentPosition(J)===Ce?J==ve||J.ownerDocument==Ze&&fr(Ze,J)?-1:be==ve||be.ownerDocument==Ze&&fr(Ze,be)?1:se?gn(se,J)-gn(se,be):0:Ce&4?-1:1)}:function(J,be){if(J===be)return Te=!0,0;var Ce,Ne=0,Oe=J.parentNode,Ye=be.parentNode,Ue=[J],_e=[be];if(!Oe||!Ye)return J==ve?-1:be==ve?1:Oe?-1:Ye?1:se?gn(se,J)-gn(se,be):0;if(Oe===Ye)return Xs(J,be);for(Ce=J;Ce=Ce.parentNode;)Ue.unshift(Ce);for(Ce=be;Ce=Ce.parentNode;)_e.unshift(Ce);for(;Ue[Ne]===_e[Ne];)Ne++;return Ne?Xs(Ue[Ne],_e[Ne]):Ue[Ne]==Ze?-1:_e[Ne]==Ze?1:0}),ve},vt.matches=function(F,V){return vt(F,null,null,V)},vt.matchesSelector=function(F,V){if(ae(F),E.matchesSelector&&Qe&&!cr[V+" "]&&(!Mt||!Mt.test(V))&&(!ze||!ze.test(V)))try{var Z=Lt.call(F,V);if(Z||E.disconnectedMatch||F.document&&F.document.nodeType!==11)return Z}catch{cr(V,!0)}return vt(V,ve,null,[F]).length>0},vt.contains=function(F,V){return(F.ownerDocument||F)!=ve&&ae(F),fr(F,V)},vt.attr=function(F,V){(F.ownerDocument||F)!=ve&&ae(F);var Z=D.attrHandle[V.toLowerCase()],pe=Z&&dn.call(D.attrHandle,V.toLowerCase())?Z(F,V,!Qe):void 0;return pe!==void 0?pe:E.attributes||!Qe?F.getAttribute(V):(pe=F.getAttributeNode(V))&&pe.specified?pe.value:null},vt.escape=function(F){return(F+"").replace(Vs,Us)},vt.error=function(F){throw new Error("Syntax error, unrecognized expression: "+F)},vt.uniqueSort=function(F){var V,Z=[],pe=0,J=0;if(Te=!E.detectDuplicates,se=!E.sortStable&&F.slice(0),F.sort(vn),Te){for(;V=F[J++];)V===F[J]&&(pe=Z.push(J));for(;pe--;)F.splice(Z[pe],1)}return se=null,F},O=vt.getText=function(F){var V,Z="",pe=0,J=F.nodeType;if(J){if(J===1||J===9||J===11){if(typeof F.textContent=="string")return F.textContent;for(F=F.firstChild;F;F=F.nextSibling)Z+=O(F)}else if(J===3||J===4)return F.nodeValue}else for(;V=F[pe++];)Z+=O(V);return Z},D=vt.selectors={cacheLength:50,createPseudo:Dr,match:oi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(F){return F[1]=F[1].replace(Br,Fr),F[3]=(F[3]||F[4]||F[5]||"").replace(Br,Fr),F[2]==="~="&&(F[3]=" "+F[3]+" "),F.slice(0,4)},CHILD:function(F){return F[1]=F[1].toLowerCase(),F[1].slice(0,3)==="nth"?(F[3]||vt.error(F[0]),F[4]=+(F[4]?F[5]+(F[6]||1):2*(F[3]==="even"||F[3]==="odd")),F[5]=+(F[7]+F[8]||F[3]==="odd")):F[3]&&vt.error(F[0]),F},PSEUDO:function(F){var V,Z=!F[6]&&F[2];return oi.CHILD.test(F[0])?null:(F[3]?F[2]=F[4]||F[5]||"":Z&&Cc.test(Z)&&(V=B(Z,!0))&&(V=Z.indexOf(")",Z.length-V)-Z.length)&&(F[0]=F[0].slice(0,V),F[2]=Z.slice(0,V)),F.slice(0,3))}},filter:{TAG:function(F){var V=F.replace(Br,Fr).toLowerCase();return F==="*"?function(){return!0}:function(Z){return Z.nodeName&&Z.nodeName.toLowerCase()===V}},CLASS:function(F){var V=Tt[F+" "];return V||(V=new RegExp("(^|"+ut+")"+F+"("+ut+"|$)"))&&Tt(F,function(Z){return V.test(typeof Z.className=="string"&&Z.className||typeof Z.getAttribute<"u"&&Z.getAttribute("class")||"")})},ATTR:function(F,V,Z){return function(pe){var J=vt.attr(pe,F);return J==null?V==="!=":V?(J+="",V==="="?J===Z:V==="!="?J!==Z:V==="^="?Z&&J.indexOf(Z)===0:V==="*="?Z&&J.indexOf(Z)>-1:V==="$="?Z&&J.slice(-Z.length)===Z:V==="~="?(" "+J.replace(Ec," ")+" ").indexOf(Z)>-1:V==="|="?J===Z||J.slice(0,Z.length+1)===Z+"-":!1):!0}},CHILD:function(F,V,Z,pe,J){var be=F.slice(0,3)!=="nth",Ce=F.slice(-4)!=="last",Ne=V==="of-type";return pe===1&&J===0?function(Oe){return!!Oe.parentNode}:function(Oe,Ye,Ue){var _e,et,dt,Xe,Ot,Xt,hr=be!==Ce?"nextSibling":"previousSibling",Et=Oe.parentNode,ya=Ne&&Oe.nodeName.toLowerCase(),ma=!Ue&&!Ne,vr=!1;if(Et){if(be){for(;hr;){for(Xe=Oe;Xe=Xe[hr];)if(Ne?Xe.nodeName.toLowerCase()===ya:Xe.nodeType===1)return!1;Xt=hr=F==="only"&&!Xt&&"nextSibling"}return!0}if(Xt=[Ce?Et.firstChild:Et.lastChild],Ce&&ma){for(Xe=Et,dt=Xe[ct]||(Xe[ct]={}),et=dt[Xe.uniqueID]||(dt[Xe.uniqueID]={}),_e=et[F]||[],Ot=_e[0]===ir&&_e[1],vr=Ot&&_e[2],Xe=Ot&&Et.childNodes[Ot];Xe=++Ot&&Xe&&Xe[hr]||(vr=Ot=0)||Xt.pop();)if(Xe.nodeType===1&&++vr&&Xe===Oe){et[F]=[ir,Ot,vr];break}}else if(ma&&(Xe=Oe,dt=Xe[ct]||(Xe[ct]={}),et=dt[Xe.uniqueID]||(dt[Xe.uniqueID]={}),_e=et[F]||[],Ot=_e[0]===ir&&_e[1],vr=Ot),vr===!1)for(;(Xe=++Ot&&Xe&&Xe[hr]||(vr=Ot=0)||Xt.pop())&&!((Ne?Xe.nodeName.toLowerCase()===ya:Xe.nodeType===1)&&++vr&&(ma&&(dt=Xe[ct]||(Xe[ct]={}),et=dt[Xe.uniqueID]||(dt[Xe.uniqueID]={}),et[F]=[ir,vr]),Xe===Oe)););return vr-=J,vr===pe||vr%pe===0&&vr/pe>=0}}},PSEUDO:function(F,V){var Z,pe=D.pseudos[F]||D.setFilters[F.toLowerCase()]||vt.error("unsupported pseudo: "+F);return pe[ct]?pe(V):pe.length>1?(Z=[F,F,"",V],D.setFilters.hasOwnProperty(F.toLowerCase())?Dr(function(J,be){for(var Ce,Ne=pe(J,V),Oe=Ne.length;Oe--;)Ce=gn(J,Ne[Oe]),J[Ce]=!(be[Ce]=Ne[Oe])}):function(J){return pe(J,0,Z)}):pe}},pseudos:{not:Dr(function(F){var V=[],Z=[],pe=X(F.replace(ii,"$1"));return pe[ct]?Dr(function(J,be,Ce,Ne){for(var Oe,Ye=pe(J,null,Ne,[]),Ue=J.length;Ue--;)(Oe=Ye[Ue])&&(J[Ue]=!(be[Ue]=Oe))}):function(J,be,Ce){return V[0]=J,pe(V,null,Ce,Z),V[0]=null,!Z.pop()}}),has:Dr(function(F){return function(V){return vt(F,V).length>0}}),contains:Dr(function(F){return F=F.replace(Br,Fr),function(V){return(V.textContent||O(V)).indexOf(F)>-1}}),lang:Dr(function(F){return Dc.test(F||"")||vt.error("unsupported lang: "+F),F=F.replace(Br,Fr).toLowerCase(),function(V){var Z;do if(Z=Qe?V.lang:V.getAttribute("xml:lang")||V.getAttribute("lang"))return Z=Z.toLowerCase(),Z===F||Z.indexOf(F+"-")===0;while((V=V.parentNode)&&V.nodeType===1);return!1}}),target:function(F){var V=c.location&&c.location.hash;return V&&V.slice(1)===F.id},root:function(F){return F===Ge},focus:function(F){return F===ve.activeElement&&(!ve.hasFocus||ve.hasFocus())&&!!(F.type||F.href||~F.tabIndex)},enabled:Ws(!1),disabled:Ws(!0),checked:function(F){var V=F.nodeName.toLowerCase();return V==="input"&&!!F.checked||V==="option"&&!!F.selected},selected:function(F){return F.parentNode&&F.parentNode.selectedIndex,F.selected===!0},empty:function(F){for(F=F.firstChild;F;F=F.nextSibling)if(F.nodeType<6)return!1;return!0},parent:function(F){return!D.pseudos.empty(F)},header:function(F){return Ac.test(F.nodeName)},input:function(F){return Lc.test(F.nodeName)},button:function(F){var V=F.nodeName.toLowerCase();return V==="input"&&F.type==="button"||V==="button"},text:function(F){var V;return F.nodeName.toLowerCase()==="input"&&F.type==="text"&&((V=F.getAttribute("type"))==null||V.toLowerCase()==="text")},first:yn(function(){return[0]}),last:yn(function(F,V){return[V-1]}),eq:yn(function(F,V,Z){return[Z<0?Z+V:Z]}),even:yn(function(F,V){for(var Z=0;Z<V;Z+=2)F.push(Z);return F}),odd:yn(function(F,V){for(var Z=1;Z<V;Z+=2)F.push(Z);return F}),lt:yn(function(F,V,Z){for(var pe=Z<0?Z+V:Z>V?V:Z;--pe>=0;)F.push(pe);return F}),gt:yn(function(F,V,Z){for(var pe=Z<0?Z+V:Z;++pe<V;)F.push(pe);return F})}},D.pseudos.nth=D.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[y]=Oc(y);for(y in{submit:!0,reset:!0})D.pseudos[y]=Ic(y);function _s(){}_s.prototype=D.filters=D.pseudos,D.setFilters=new _s,B=vt.tokenize=function(F,V){var Z,pe,J,be,Ce,Ne,Oe,Ye=ga[F+" "];if(Ye)return V?0:Ye.slice(0);for(Ce=F,Ne=[],Oe=D.preFilter;Ce;){(!Z||(pe=xc.exec(Ce)))&&(pe&&(Ce=Ce.slice(pe[0].length)||Ce),Ne.push(J=[])),Z=!1,(pe=$s.exec(Ce))&&(Z=pe.shift(),J.push({value:Z,type:pe[0].replace(ii," ")}),Ce=Ce.slice(Z.length));for(be in D.filter)(pe=oi[be].exec(Ce))&&(!Oe[be]||(pe=Oe[be](pe)))&&(Z=pe.shift(),J.push({value:Z,type:be,matches:pe}),Ce=Ce.slice(Z.length));if(!Z)break}return V?Ce.length:Ce?vt.error(F):ga(F,Ne).slice(0)};function ui(F){for(var V=0,Z=F.length,pe="";V<Z;V++)pe+=F[V].value;return pe}function li(F,V,Z){var pe=V.dir,J=V.next,be=J||pe,Ce=Z&&be==="parentNode",Ne=nt++;return V.first?function(Oe,Ye,Ue){for(;Oe=Oe[pe];)if(Oe.nodeType===1||Ce)return F(Oe,Ye,Ue);return!1}:function(Oe,Ye,Ue){var _e,et,dt,Xe=[ir,Ne];if(Ue){for(;Oe=Oe[pe];)if((Oe.nodeType===1||Ce)&&F(Oe,Ye,Ue))return!0}else for(;Oe=Oe[pe];)if(Oe.nodeType===1||Ce)if(dt=Oe[ct]||(Oe[ct]={}),et=dt[Oe.uniqueID]||(dt[Oe.uniqueID]={}),J&&J===Oe.nodeName.toLowerCase())Oe=Oe[pe]||Oe;else{if((_e=et[be])&&_e[0]===ir&&_e[1]===Ne)return Xe[2]=_e[2];if(et[be]=Xe,Xe[2]=F(Oe,Ye,Ue))return!0}return!1}}function To(F){return F.length>1?function(V,Z,pe){for(var J=F.length;J--;)if(!F[J](V,Z,pe))return!1;return!0}:F[0]}function kc(F,V,Z){for(var pe=0,J=V.length;pe<J;pe++)vt(F,V[pe],Z);return Z}function fi(F,V,Z,pe,J){for(var be,Ce=[],Ne=0,Oe=F.length,Ye=V!=null;Ne<Oe;Ne++)(be=F[Ne])&&(!Z||Z(be,pe,J))&&(Ce.push(be),Ye&&V.push(Ne));return Ce}function Co(F,V,Z,pe,J,be){return pe&&!pe[ct]&&(pe=Co(pe)),J&&!J[ct]&&(J=Co(J,be)),Dr(function(Ce,Ne,Oe,Ye){var Ue,_e,et,dt=[],Xe=[],Ot=Ne.length,Xt=Ce||kc(V||"*",Oe.nodeType?[Oe]:Oe,[]),hr=F&&(Ce||!V)?fi(Xt,dt,F,Oe,Ye):Xt,Et=Z?J||(Ce?F:Ot||pe)?[]:Ne:hr;if(Z&&Z(hr,Et,Oe,Ye),pe)for(Ue=fi(Et,Xe),pe(Ue,[],Oe,Ye),_e=Ue.length;_e--;)(et=Ue[_e])&&(Et[Xe[_e]]=!(hr[Xe[_e]]=et));if(Ce){if(J||F){if(J){for(Ue=[],_e=Et.length;_e--;)(et=Et[_e])&&Ue.push(hr[_e]=et);J(null,Et=[],Ue,Ye)}for(_e=Et.length;_e--;)(et=Et[_e])&&(Ue=J?gn(Ce,et):dt[_e])>-1&&(Ce[Ue]=!(Ne[Ue]=et))}}else Et=fi(Et===Ne?Et.splice(Ot,Et.length):Et),J?J(null,Ne,Et,Ye):_r.apply(Ne,Et)})}function Do(F){for(var V,Z,pe,J=F.length,be=D.relative[F[0].type],Ce=be||D.relative[" "],Ne=be?1:0,Oe=li(function(_e){return _e===V},Ce,!0),Ye=li(function(_e){return gn(V,_e)>-1},Ce,!0),Ue=[function(_e,et,dt){var Xe=!be&&(dt||et!==ee)||((V=et).nodeType?Oe(_e,et,dt):Ye(_e,et,dt));return V=null,Xe}];Ne<J;Ne++)if(Z=D.relative[F[Ne].type])Ue=[li(To(Ue),Z)];else{if(Z=D.filter[F[Ne].type].apply(null,F[Ne].matches),Z[ct]){for(pe=++Ne;pe<J&&!D.relative[F[pe].type];pe++);return Co(Ne>1&&To(Ue),Ne>1&&ui(F.slice(0,Ne-1).concat({value:F[Ne-2].type===" "?"*":""})).replace(ii,"$1"),Z,Ne<pe&&Do(F.slice(Ne,pe)),pe<J&&Do(F=F.slice(pe)),pe<J&&ui(F))}Ue.push(Z)}return To(Ue)}function Rc(F,V){var Z=V.length>0,pe=F.length>0,J=function(be,Ce,Ne,Oe,Ye){var Ue,_e,et,dt=0,Xe="0",Ot=be&&[],Xt=[],hr=ee,Et=be||pe&&D.find.TAG("*",Ye),ya=ir+=hr==null?1:Math.random()||.1,ma=Et.length;for(Ye&&(ee=Ce==ve||Ce||Ye);Xe!==ma&&(Ue=Et[Xe])!=null;Xe++){if(pe&&Ue){for(_e=0,!Ce&&Ue.ownerDocument!=ve&&(ae(Ue),Ne=!Qe);et=F[_e++];)if(et(Ue,Ce||ve,Ne)){Oe.push(Ue);break}Ye&&(ir=ya)}Z&&((Ue=!et&&Ue)&&dt--,be&&Ot.push(Ue))}if(dt+=Xe,Z&&Xe!==dt){for(_e=0;et=V[_e++];)et(Ot,Xt,Ce,Ne);if(be){if(dt>0)for(;Xe--;)Ot[Xe]||Xt[Xe]||(Xt[Xe]=Wr.call(Oe));Xt=fi(Xt)}_r.apply(Oe,Xt),Ye&&!be&&Xt.length>0&&dt+V.length>1&&vt.uniqueSort(Oe)}return Ye&&(ir=ya,ee=hr),Ot};return Z?Dr(J):J}return X=vt.compile=function(F,V){var Z,pe=[],J=[],be=ai[F+" "];if(!be){for(V||(V=B(F)),Z=V.length;Z--;)be=Do(V[Z]),be[ct]?pe.push(be):J.push(be);be=ai(F,Rc(J,pe)),be.selector=F}return be},q=vt.select=function(F,V,Z,pe){var J,be,Ce,Ne,Oe,Ye=typeof F=="function"&&F,Ue=!pe&&B(F=Ye.selector||F);if(Z=Z||[],Ue.length===1){if(be=Ue[0]=Ue[0].slice(0),be.length>2&&(Ce=be[0]).type==="ID"&&V.nodeType===9&&Qe&&D.relative[be[1].type]){if(V=(D.find.ID(Ce.matches[0].replace(Br,Fr),V)||[])[0],V)Ye&&(V=V.parentNode);else return Z;F=F.slice(be.shift().value.length)}for(J=oi.needsContext.test(F)?0:be.length;J--&&(Ce=be[J],!D.relative[Ne=Ce.type]);)if((Oe=D.find[Ne])&&(pe=Oe(Ce.matches[0].replace(Br,Fr),wo.test(be[0].type)&&xo(V.parentNode)||V))){if(be.splice(J,1),F=pe.length&&ui(be),!F)return _r.apply(Z,pe),Z;break}}return(Ye||X(F,Ue))(pe,V,!Qe,Z,!V||wo.test(F)&&xo(V.parentNode)||V),Z},E.sortStable=ct.split("").sort(vn).join("")===ct,E.detectDuplicates=!!Te,ae(),E.sortDetached=mr(function(F){return F.compareDocumentPosition(ve.createElement("fieldset"))&1}),mr(function(F){return F.innerHTML="<a href='#'></a>",F.firstChild.getAttribute("href")==="#"})||Eo("type|href|height|width",function(F,V,Z){if(!Z)return F.getAttribute(V,V.toLowerCase()==="type"?1:2)}),(!E.attributes||!mr(function(F){return F.innerHTML="<input/>",F.firstChild.setAttribute("value",""),F.firstChild.getAttribute("value")===""}))&&Eo("value",function(F,V,Z){if(!Z&&F.nodeName.toLowerCase()==="input")return F.defaultValue}),mr(function(F){return F.getAttribute("disabled")==null})||Eo(mo,function(F,V,Z){var pe;if(!Z)return F[V]===!0?V.toLowerCase():(pe=F.getAttributeNode(V))&&pe.specified?pe.value:null}),vt}(e);d.find=A,d.expr=A.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=A.uniqueSort,d.text=A.getText,d.isXMLDoc=A.isXML,d.contains=A.contains,d.escapeSelector=A.escape;var S=function(c,y,E){for(var D=[],O=E!==void 0;(c=c[y])&&c.nodeType!==9;)if(c.nodeType===1){if(O&&d(c).is(E))break;D.push(c)}return D},M=function(c,y){for(var E=[];c;c=c.nextSibling)c.nodeType===1&&c!==y&&E.push(c);return E},k=d.expr.match.needsContext;function R(c,y){return c.nodeName&&c.nodeName.toLowerCase()===y.toLowerCase()}var G=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(c,y,E){return m(y)?d.grep(c,function(D,O){return!!y.call(D,O,D)!==E}):y.nodeType?d.grep(c,function(D){return D===y!==E}):typeof y!="string"?d.grep(c,function(D){return u.call(y,D)>-1!==E}):d.filter(y,c,E)}d.filter=function(c,y,E){var D=y[0];return E&&(c=":not("+c+")"),y.length===1&&D.nodeType===1?d.find.matchesSelector(D,c)?[D]:[]:d.find.matches(c,d.grep(y,function(O){return O.nodeType===1}))},d.fn.extend({find:function(c){var y,E,D=this.length,O=this;if(typeof c!="string")return this.pushStack(d(c).filter(function(){for(y=0;y<D;y++)if(d.contains(O[y],this))return!0}));for(E=this.pushStack([]),y=0;y<D;y++)d.find(c,O[y],E);return D>1?d.uniqueSort(E):E},filter:function(c){return this.pushStack(P(this,c||[],!1))},not:function(c){return this.pushStack(P(this,c||[],!0))},is:function(c){return!!P(this,typeof c=="string"&&k.test(c)?d(c):c||[],!1).length}});var Y,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,U=d.fn.init=function(c,y,E){var D,O;if(!c)return this;if(E=E||Y,typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?D=[null,c,null]:D=H.exec(c),D&&(D[1]||!y))if(D[1]){if(y=y instanceof d?y[0]:y,d.merge(this,d.parseHTML(D[1],y&&y.nodeType?y.ownerDocument||y:b,!0)),G.test(D[1])&&d.isPlainObject(y))for(D in y)m(this[D])?this[D](y[D]):this.attr(D,y[D]);return this}else return O=b.getElementById(D[2]),O&&(this[0]=O,this.length=1),this;else return!y||y.jquery?(y||E).find(c):this.constructor(y).find(c);else{if(c.nodeType)return this[0]=c,this.length=1,this;if(m(c))return E.ready!==void 0?E.ready(c):c(d)}return d.makeArray(c,this)};U.prototype=d.fn,Y=d(b);var W=/^(?:parents|prev(?:Until|All))/,_={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(c){var y=d(c,this),E=y.length;return this.filter(function(){for(var D=0;D<E;D++)if(d.contains(this,y[D]))return!0})},closest:function(c,y){var E,D=0,O=this.length,I=[],B=typeof c!="string"&&d(c);if(!k.test(c)){for(;D<O;D++)for(E=this[D];E&&E!==y;E=E.parentNode)if(E.nodeType<11&&(B?B.index(E)>-1:E.nodeType===1&&d.find.matchesSelector(E,c))){I.push(E);break}}return this.pushStack(I.length>1?d.uniqueSort(I):I)},index:function(c){return c?typeof c=="string"?u.call(d(c),this[0]):u.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,y){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(c,y))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function j(c,y){for(;(c=c[y])&&c.nodeType!==1;);return c}d.each({parent:function(c){var y=c.parentNode;return y&&y.nodeType!==11?y:null},parents:function(c){return S(c,"parentNode")},parentsUntil:function(c,y,E){return S(c,"parentNode",E)},next:function(c){return j(c,"nextSibling")},prev:function(c){return j(c,"previousSibling")},nextAll:function(c){return S(c,"nextSibling")},prevAll:function(c){return S(c,"previousSibling")},nextUntil:function(c,y,E){return S(c,"nextSibling",E)},prevUntil:function(c,y,E){return S(c,"previousSibling",E)},siblings:function(c){return M((c.parentNode||{}).firstChild,c)},children:function(c){return M(c.firstChild)},contents:function(c){return c.contentDocument!=null&&i(c.contentDocument)?c.contentDocument:(R(c,"template")&&(c=c.content||c),d.merge([],c.childNodes))}},function(c,y){d.fn[c]=function(E,D){var O=d.map(this,y,E);return c.slice(-5)!=="Until"&&(D=E),D&&typeof D=="string"&&(O=d.filter(D,O)),this.length>1&&(_[c]||d.uniqueSort(O),W.test(c)&&O.reverse()),this.pushStack(O)}});var K=/[^\x20\t\r\n\f]+/g;function te(c){var y={};return d.each(c.match(K)||[],function(E,D){y[D]=!0}),y}d.Callbacks=function(c){c=typeof c=="string"?te(c):d.extend({},c);var y,E,D,O,I=[],B=[],X=-1,q=function(){for(O=O||c.once,D=y=!0;B.length;X=-1)for(E=B.shift();++X<I.length;)I[X].apply(E[0],E[1])===!1&&c.stopOnFalse&&(X=I.length,E=!1);c.memory||(E=!1),y=!1,O&&(E?I=[]:I="")},ee={add:function(){return I&&(E&&!y&&(X=I.length-1,B.push(E)),function se(Te){d.each(Te,function(ae,ve){m(ve)?(!c.unique||!ee.has(ve))&&I.push(ve):ve&&ve.length&&L(ve)!=="string"&&se(ve)})}(arguments),E&&!y&&q()),this},remove:function(){return d.each(arguments,function(se,Te){for(var ae;(ae=d.inArray(Te,I,ae))>-1;)I.splice(ae,1),ae<=X&&X--}),this},has:function(se){return se?d.inArray(se,I)>-1:I.length>0},empty:function(){return I&&(I=[]),this},disable:function(){return O=B=[],I=E="",this},disabled:function(){return!I},lock:function(){return O=B=[],!E&&!y&&(I=E=""),this},locked:function(){return!!O},fireWith:function(se,Te){return O||(Te=Te||[],Te=[se,Te.slice?Te.slice():Te],B.push(Te),y||q()),this},fire:function(){return ee.fireWith(this,arguments),this},fired:function(){return!!D}};return ee};function ie(c){return c}function oe(c){throw c}function ue(c,y,E,D){var O;try{c&&m(O=c.promise)?O.call(c).done(y).fail(E):c&&m(O=c.then)?O.call(c,y,E):y.apply(void 0,[c].slice(D))}catch(I){E.apply(void 0,[I])}}d.extend({Deferred:function(c){var y=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],E="pending",D={state:function(){return E},always:function(){return O.done(arguments).fail(arguments),this},catch:function(I){return D.then(null,I)},pipe:function(){var I=arguments;return d.Deferred(function(B){d.each(y,function(X,q){var ee=m(I[q[4]])&&I[q[4]];O[q[1]](function(){var se=ee&&ee.apply(this,arguments);se&&m(se.promise)?se.promise().progress(B.notify).done(B.resolve).fail(B.reject):B[q[0]+"With"](this,ee?[se]:arguments)})}),I=null}).promise()},then:function(I,B,X){var q=0;function ee(se,Te,ae,ve){return function(){var Ge=this,Qe=arguments,ze=function(){var Lt,fr;if(!(se<q)){if(Lt=ae.apply(Ge,Qe),Lt===Te.promise())throw new TypeError("Thenable self-resolution");fr=Lt&&(typeof Lt=="object"||typeof Lt=="function")&&Lt.then,m(fr)?ve?fr.call(Lt,ee(q,Te,ie,ve),ee(q,Te,oe,ve)):(q++,fr.call(Lt,ee(q,Te,ie,ve),ee(q,Te,oe,ve),ee(q,Te,ie,Te.notifyWith))):(ae!==ie&&(Ge=void 0,Qe=[Lt]),(ve||Te.resolveWith)(Ge,Qe))}},Mt=ve?ze:function(){try{ze()}catch(Lt){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Lt,Mt.stackTrace),se+1>=q&&(ae!==oe&&(Ge=void 0,Qe=[Lt]),Te.rejectWith(Ge,Qe))}};se?Mt():(d.Deferred.getStackHook&&(Mt.stackTrace=d.Deferred.getStackHook()),e.setTimeout(Mt))}}return d.Deferred(function(se){y[0][3].add(ee(0,se,m(X)?X:ie,se.notifyWith)),y[1][3].add(ee(0,se,m(I)?I:ie)),y[2][3].add(ee(0,se,m(B)?B:oe))}).promise()},promise:function(I){return I!=null?d.extend(I,D):D}},O={};return d.each(y,function(I,B){var X=B[2],q=B[5];D[B[1]]=X.add,q&&X.add(function(){E=q},y[3-I][2].disable,y[3-I][3].disable,y[0][2].lock,y[0][3].lock),X.add(B[3].fire),O[B[0]]=function(){return O[B[0]+"With"](this===O?void 0:this,arguments),this},O[B[0]+"With"]=X.fireWith}),D.promise(O),c&&c.call(O,O),O},when:function(c){var y=arguments.length,E=y,D=Array(E),O=o.call(arguments),I=d.Deferred(),B=function(X){return function(q){D[X]=this,O[X]=arguments.length>1?o.call(arguments):q,--y||I.resolveWith(D,O)}};if(y<=1&&(ue(c,I.done(B(E)).resolve,I.reject,!y),I.state()==="pending"||m(O[E]&&O[E].then)))return I.then();for(;E--;)ue(O[E],B(E),I.reject);return I.promise()}});var le=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(c,y){e.console&&e.console.warn&&c&&le.test(c.name)&&e.console.warn("jQuery.Deferred exception: "+c.message,c.stack,y)},d.readyException=function(c){e.setTimeout(function(){throw c})};var Q=d.Deferred();d.fn.ready=function(c){return Q.then(c).catch(function(y){d.readyException(y)}),this},d.extend({isReady:!1,readyWait:1,ready:function(c){(c===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(c!==!0&&--d.readyWait>0)&&Q.resolveWith(b,[d]))}}),d.ready.then=Q.then;function de(){b.removeEventListener("DOMContentLoaded",de),e.removeEventListener("load",de),d.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(d.ready):(b.addEventListener("DOMContentLoaded",de),e.addEventListener("load",de));var ce=function(c,y,E,D,O,I,B){var X=0,q=c.length,ee=E==null;if(L(E)==="object"){O=!0;for(X in E)ce(c,y,X,E[X],!0,I,B)}else if(D!==void 0&&(O=!0,m(D)||(B=!0),ee&&(B?(y.call(c,D),y=null):(ee=y,y=function(se,Te,ae){return ee.call(d(se),ae)})),y))for(;X<q;X++)y(c[X],E,B?D:D.call(c[X],X,y(c[X],E)));return O?c:ee?y.call(c):q?y(c[0],E):I},De=/^-ms-/,Se=/-([a-z])/g;function Ve(c,y){return y.toUpperCase()}function Fe(c){return c.replace(De,"ms-").replace(Se,Ve)}var Le=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function fe(){this.expando=d.expando+fe.uid++}fe.uid=1,fe.prototype={cache:function(c){var y=c[this.expando];return y||(y={},Le(c)&&(c.nodeType?c[this.expando]=y:Object.defineProperty(c,this.expando,{value:y,configurable:!0}))),y},set:function(c,y,E){var D,O=this.cache(c);if(typeof y=="string")O[Fe(y)]=E;else for(D in y)O[Fe(D)]=y[D];return O},get:function(c,y){return y===void 0?this.cache(c):c[this.expando]&&c[this.expando][Fe(y)]},access:function(c,y,E){return y===void 0||y&&typeof y=="string"&&E===void 0?this.get(c,y):(this.set(c,y,E),E!==void 0?E:y)},remove:function(c,y){var E,D=c[this.expando];if(D!==void 0){if(y!==void 0)for(Array.isArray(y)?y=y.map(Fe):(y=Fe(y),y=y in D?[y]:y.match(K)||[]),E=y.length;E--;)delete D[y[E]];(y===void 0||d.isEmptyObject(D))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var y=c[this.expando];return y!==void 0&&!d.isEmptyObject(y)}};var re=new fe,we=new fe,Ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/[A-Z]/g;function Be(c){return c==="true"?!0:c==="false"?!1:c==="null"?null:c===+c+""?+c:Ee.test(c)?JSON.parse(c):c}function ke(c,y,E){var D;if(E===void 0&&c.nodeType===1)if(D="data-"+y.replace(Ae,"-$&").toLowerCase(),E=c.getAttribute(D),typeof E=="string"){try{E=Be(E)}catch{}we.set(c,y,E)}else E=void 0;return E}d.extend({hasData:function(c){return we.hasData(c)||re.hasData(c)},data:function(c,y,E){return we.access(c,y,E)},removeData:function(c,y){we.remove(c,y)},_data:function(c,y,E){return re.access(c,y,E)},_removeData:function(c,y){re.remove(c,y)}}),d.fn.extend({data:function(c,y){var E,D,O,I=this[0],B=I&&I.attributes;if(c===void 0){if(this.length&&(O=we.get(I),I.nodeType===1&&!re.get(I,"hasDataAttrs"))){for(E=B.length;E--;)B[E]&&(D=B[E].name,D.indexOf("data-")===0&&(D=Fe(D.slice(5)),ke(I,D,O[D])));re.set(I,"hasDataAttrs",!0)}return O}return typeof c=="object"?this.each(function(){we.set(this,c)}):ce(this,function(X){var q;if(I&&X===void 0)return q=we.get(I,c),q!==void 0||(q=ke(I,c),q!==void 0)?q:void 0;this.each(function(){we.set(this,c,X)})},null,y,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){we.remove(this,c)})}}),d.extend({queue:function(c,y,E){var D;if(c)return y=(y||"fx")+"queue",D=re.get(c,y),E&&(!D||Array.isArray(E)?D=re.access(c,y,d.makeArray(E)):D.push(E)),D||[]},dequeue:function(c,y){y=y||"fx";var E=d.queue(c,y),D=E.length,O=E.shift(),I=d._queueHooks(c,y),B=function(){d.dequeue(c,y)};O==="inprogress"&&(O=E.shift(),D--),O&&(y==="fx"&&E.unshift("inprogress"),delete I.stop,O.call(c,B,I)),!D&&I&&I.empty.fire()},_queueHooks:function(c,y){var E=y+"queueHooks";return re.get(c,E)||re.access(c,E,{empty:d.Callbacks("once memory").add(function(){re.remove(c,[y+"queue",E])})})}}),d.fn.extend({queue:function(c,y){var E=2;return typeof c!="string"&&(y=c,c="fx",E--),arguments.length<E?d.queue(this[0],c):y===void 0?this:this.each(function(){var D=d.queue(this,c,y);d._queueHooks(this,c),c==="fx"&&D[0]!=="inprogress"&&d.dequeue(this,c)})},dequeue:function(c){return this.each(function(){d.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,y){var E,D=1,O=d.Deferred(),I=this,B=this.length,X=function(){--D||O.resolveWith(I,[I])};for(typeof c!="string"&&(y=c,c=void 0),c=c||"fx";B--;)E=re.get(I[B],c+"queueHooks"),E&&E.empty&&(D++,E.empty.add(X));return X(),O.promise(y)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),z=["Top","Right","Bottom","Left"],ne=b.documentElement,me=function(c){return d.contains(c.ownerDocument,c)},ye={composed:!0};ne.getRootNode&&(me=function(c){return d.contains(c.ownerDocument,c)||c.getRootNode(ye)===c.ownerDocument});var ge=function(c,y){return c=y||c,c.style.display==="none"||c.style.display===""&&me(c)&&d.css(c,"display")==="none"};function Ke(c,y,E,D){var O,I,B=20,X=D?function(){return D.cur()}:function(){return d.css(c,y,"")},q=X(),ee=E&&E[3]||(d.cssNumber[y]?"":"px"),se=c.nodeType&&(d.cssNumber[y]||ee!=="px"&&+q)&&he.exec(d.css(c,y));if(se&&se[3]!==ee){for(q=q/2,ee=ee||se[3],se=+q||1;B--;)d.style(c,y,se+ee),(1-I)*(1-(I=X()/q||.5))<=0&&(B=0),se=se/I;se=se*2,d.style(c,y,se+ee),E=E||[]}return E&&(se=+se||+q||0,O=E[1]?se+(E[1]+1)*E[2]:+E[2],D&&(D.unit=ee,D.start=se,D.end=O)),O}var xe={};function Pe(c){var y,E=c.ownerDocument,D=c.nodeName,O=xe[D];return O||(y=E.body.appendChild(E.createElement(D)),O=d.css(y,"display"),y.parentNode.removeChild(y),O==="none"&&(O="block"),xe[D]=O,O)}function Je(c,y){for(var E,D,O=[],I=0,B=c.length;I<B;I++)D=c[I],D.style&&(E=D.style.display,y?(E==="none"&&(O[I]=re.get(D,"display")||null,O[I]||(D.style.display="")),D.style.display===""&&ge(D)&&(O[I]=Pe(D))):E!=="none"&&(O[I]="none",re.set(D,"display",E)));for(I=0;I<B;I++)O[I]!=null&&(c[I].style.display=O[I]);return c}d.fn.extend({show:function(){return Je(this,!0)},hide:function(){return Je(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){ge(this)?d(this).show():d(this).hide()})}});var tt=/^(?:checkbox|radio)$/i,je=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,rt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var c=b.createDocumentFragment(),y=c.appendChild(b.createElement("div")),E=b.createElement("input");E.setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","t"),y.appendChild(E),g.checkClone=y.cloneNode(!0).cloneNode(!0).lastChild.checked,y.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!y.cloneNode(!0).lastChild.defaultValue,y.innerHTML="<option></option>",g.option=!!y.lastChild})();var He={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td,g.option||(He.optgroup=He.option=[1,"<select multiple='multiple'>","</select>"]);function $e(c,y){var E;return typeof c.getElementsByTagName<"u"?E=c.getElementsByTagName(y||"*"):typeof c.querySelectorAll<"u"?E=c.querySelectorAll(y||"*"):E=[],y===void 0||y&&R(c,y)?d.merge([c],E):E}function pt(c,y){for(var E=0,D=c.length;E<D;E++)re.set(c[E],"globalEval",!y||re.get(y[E],"globalEval"))}var At=/<|&#?\w+;/;function tr(c,y,E,D,O){for(var I,B,X,q,ee,se,Te=y.createDocumentFragment(),ae=[],ve=0,Ge=c.length;ve<Ge;ve++)if(I=c[ve],I||I===0)if(L(I)==="object")d.merge(ae,I.nodeType?[I]:I);else if(!At.test(I))ae.push(y.createTextNode(I));else{for(B=B||Te.appendChild(y.createElement("div")),X=(je.exec(I)||["",""])[1].toLowerCase(),q=He[X]||He._default,B.innerHTML=q[1]+d.htmlPrefilter(I)+q[2],se=q[0];se--;)B=B.lastChild;d.merge(ae,B.childNodes),B=Te.firstChild,B.textContent=""}for(Te.textContent="",ve=0;I=ae[ve++];){if(D&&d.inArray(I,D)>-1){O&&O.push(I);continue}if(ee=me(I),B=$e(Te.appendChild(I),"script"),ee&&pt(B),E)for(se=0;I=B[se++];)rt.test(I.type||"")&&E.push(I)}return Te}var rr=/^([^.]*)(?:\.(.+)|)/;function wt(){return!0}function Nt(){return!1}function Ft(c,y){return c===Er()==(y==="focus")}function Er(){try{return b.activeElement}catch{}}function pr(c,y,E,D,O,I){var B,X;if(typeof y=="object"){typeof E!="string"&&(D=D||E,E=void 0);for(X in y)pr(c,X,E,D,y[X],I);return c}if(D==null&&O==null?(O=E,D=E=void 0):O==null&&(typeof E=="string"?(O=D,D=void 0):(O=D,D=E,E=void 0)),O===!1)O=Nt;else if(!O)return c;return I===1&&(B=O,O=function(q){return d().off(q),B.apply(this,arguments)},O.guid=B.guid||(B.guid=d.guid++)),c.each(function(){d.event.add(this,y,O,D,E)})}d.event={global:{},add:function(c,y,E,D,O){var I,B,X,q,ee,se,Te,ae,ve,Ge,Qe,ze=re.get(c);if(Le(c))for(E.handler&&(I=E,E=I.handler,O=I.selector),O&&d.find.matchesSelector(ne,O),E.guid||(E.guid=d.guid++),(q=ze.events)||(q=ze.events=Object.create(null)),(B=ze.handle)||(B=ze.handle=function(Mt){return typeof d<"u"&&d.event.triggered!==Mt.type?d.event.dispatch.apply(c,arguments):void 0}),y=(y||"").match(K)||[""],ee=y.length;ee--;)X=rr.exec(y[ee])||[],ve=Qe=X[1],Ge=(X[2]||"").split(".").sort(),ve&&(Te=d.event.special[ve]||{},ve=(O?Te.delegateType:Te.bindType)||ve,Te=d.event.special[ve]||{},se=d.extend({type:ve,origType:Qe,data:D,handler:E,guid:E.guid,selector:O,needsContext:O&&d.expr.match.needsContext.test(O),namespace:Ge.join(".")},I),(ae=q[ve])||(ae=q[ve]=[],ae.delegateCount=0,(!Te.setup||Te.setup.call(c,D,Ge,B)===!1)&&c.addEventListener&&c.addEventListener(ve,B)),Te.add&&(Te.add.call(c,se),se.handler.guid||(se.handler.guid=E.guid)),O?ae.splice(ae.delegateCount++,0,se):ae.push(se),d.event.global[ve]=!0)},remove:function(c,y,E,D,O){var I,B,X,q,ee,se,Te,ae,ve,Ge,Qe,ze=re.hasData(c)&&re.get(c);if(!(!ze||!(q=ze.events))){for(y=(y||"").match(K)||[""],ee=y.length;ee--;){if(X=rr.exec(y[ee])||[],ve=Qe=X[1],Ge=(X[2]||"").split(".").sort(),!ve){for(ve in q)d.event.remove(c,ve+y[ee],E,D,!0);continue}for(Te=d.event.special[ve]||{},ve=(D?Te.delegateType:Te.bindType)||ve,ae=q[ve]||[],X=X[2]&&new RegExp("(^|\\.)"+Ge.join("\\.(?:.*\\.|)")+"(\\.|$)"),B=I=ae.length;I--;)se=ae[I],(O||Qe===se.origType)&&(!E||E.guid===se.guid)&&(!X||X.test(se.namespace))&&(!D||D===se.selector||D==="**"&&se.selector)&&(ae.splice(I,1),se.selector&&ae.delegateCount--,Te.remove&&Te.remove.call(c,se));B&&!ae.length&&((!Te.teardown||Te.teardown.call(c,Ge,ze.handle)===!1)&&d.removeEvent(c,ve,ze.handle),delete q[ve])}d.isEmptyObject(q)&&re.remove(c,"handle events")}},dispatch:function(c){var y,E,D,O,I,B,X=new Array(arguments.length),q=d.event.fix(c),ee=(re.get(this,"events")||Object.create(null))[q.type]||[],se=d.event.special[q.type]||{};for(X[0]=q,y=1;y<arguments.length;y++)X[y]=arguments[y];if(q.delegateTarget=this,!(se.preDispatch&&se.preDispatch.call(this,q)===!1)){for(B=d.event.handlers.call(this,q,ee),y=0;(O=B[y++])&&!q.isPropagationStopped();)for(q.currentTarget=O.elem,E=0;(I=O.handlers[E++])&&!q.isImmediatePropagationStopped();)(!q.rnamespace||I.namespace===!1||q.rnamespace.test(I.namespace))&&(q.handleObj=I,q.data=I.data,D=((d.event.special[I.origType]||{}).handle||I.handler).apply(O.elem,X),D!==void 0&&(q.result=D)===!1&&(q.preventDefault(),q.stopPropagation()));return se.postDispatch&&se.postDispatch.call(this,q),q.result}},handlers:function(c,y){var E,D,O,I,B,X=[],q=y.delegateCount,ee=c.target;if(q&&ee.nodeType&&!(c.type==="click"&&c.button>=1)){for(;ee!==this;ee=ee.parentNode||this)if(ee.nodeType===1&&!(c.type==="click"&&ee.disabled===!0)){for(I=[],B={},E=0;E<q;E++)D=y[E],O=D.selector+" ",B[O]===void 0&&(B[O]=D.needsContext?d(O,this).index(ee)>-1:d.find(O,this,null,[ee]).length),B[O]&&I.push(D);I.length&&X.push({elem:ee,handlers:I})}}return ee=this,q<y.length&&X.push({elem:ee,handlers:y.slice(q)}),X},addProp:function(c,y){Object.defineProperty(d.Event.prototype,c,{enumerable:!0,configurable:!0,get:m(y)?function(){if(this.originalEvent)return y(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(E){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:E})}})},fix:function(c){return c[d.expando]?c:new d.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var y=this||c;return tt.test(y.type)&&y.click&&R(y,"input")&&xr(y,"click",wt),!1},trigger:function(c){var y=this||c;return tt.test(y.type)&&y.click&&R(y,"input")&&xr(y,"click"),!0},_default:function(c){var y=c.target;return tt.test(y.type)&&y.click&&R(y,"input")&&re.get(y,"click")||R(y,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};function xr(c,y,E){if(!E){re.get(c,y)===void 0&&d.event.add(c,y,wt);return}re.set(c,y,!1),d.event.add(c,y,{namespace:!1,handler:function(D){var O,I,B=re.get(this,y);if(D.isTrigger&1&&this[y]){if(B.length)(d.event.special[y]||{}).delegateType&&D.stopPropagation();else if(B=o.call(arguments),re.set(this,y,B),O=E(this,y),this[y](),I=re.get(this,y),B!==I||O?re.set(this,y,!1):I={},B!==I)return D.stopImmediatePropagation(),D.preventDefault(),I&&I.value}else B.length&&(re.set(this,y,{value:d.event.trigger(d.extend(B[0],d.Event.prototype),B.slice(1),this)}),D.stopImmediatePropagation())}})}d.removeEvent=function(c,y,E){c.removeEventListener&&c.removeEventListener(y,E)},d.Event=function(c,y){if(!(this instanceof d.Event))return new d.Event(c,y);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.returnValue===!1?wt:Nt,this.target=c.target&&c.target.nodeType===3?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,y&&d.extend(this,y),this.timeStamp=c&&c.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Nt,isPropagationStopped:Nt,isImmediatePropagationStopped:Nt,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=wt,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=wt,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=wt,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(c,y){d.event.special[c]={setup:function(){return xr(this,c,Ft),!1},trigger:function(){return xr(this,c),!0},_default:function(E){return re.get(E.target,c)},delegateType:y}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,y){d.event.special[c]={delegateType:y,bindType:y,handle:function(E){var D,O=this,I=E.relatedTarget,B=E.handleObj;return(!I||I!==O&&!d.contains(O,I))&&(E.type=B.origType,D=B.handler.apply(this,arguments),E.type=y),D}}}),d.fn.extend({on:function(c,y,E,D){return pr(this,c,y,E,D)},one:function(c,y,E,D){return pr(this,c,y,E,D,1)},off:function(c,y,E){var D,O;if(c&&c.preventDefault&&c.handleObj)return D=c.handleObj,d(c.delegateTarget).off(D.namespace?D.origType+"."+D.namespace:D.origType,D.selector,D.handler),this;if(typeof c=="object"){for(O in c)this.off(O,y,c[O]);return this}return(y===!1||typeof y=="function")&&(E=y,y=void 0),E===!1&&(E=Nt),this.each(function(){d.event.remove(this,c,E,y)})}});var Pr=/<script|<style|<link/i,Yr=/checked\s*(?:[^=]|=\s*.checked.)/i,Nn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Nr(c,y){return R(c,"table")&&R(y.nodeType!==11?y:y.firstChild,"tr")&&d(c).children("tbody")[0]||c}function Yt(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function Pt(c){return(c.type||"").slice(0,5)==="true/"?c.type=c.type.slice(5):c.removeAttribute("type"),c}function zt(c,y){var E,D,O,I,B,X,q;if(y.nodeType===1){if(re.hasData(c)&&(I=re.get(c),q=I.events,q)){re.remove(y,"handle events");for(O in q)for(E=0,D=q[O].length;E<D;E++)d.event.add(y,O,q[O][E])}we.hasData(c)&&(B=we.access(c),X=d.extend({},B),we.set(y,X))}}function Mn(c,y){var E=y.nodeName.toLowerCase();E==="input"&&tt.test(c.type)?y.checked=c.checked:(E==="input"||E==="textarea")&&(y.defaultValue=c.defaultValue)}function Gt(c,y,E,D){y=a(y);var O,I,B,X,q,ee,se=0,Te=c.length,ae=Te-1,ve=y[0],Ge=m(ve);if(Ge||Te>1&&typeof ve=="string"&&!g.checkClone&&Yr.test(ve))return c.each(function(Qe){var ze=c.eq(Qe);Ge&&(y[0]=ve.call(this,Qe,ze.html())),Gt(ze,y,E,D)});if(Te&&(O=tr(y,c[0].ownerDocument,!1,c,D),I=O.firstChild,O.childNodes.length===1&&(O=I),I||D)){for(B=d.map($e(O,"script"),Yt),X=B.length;se<Te;se++)q=O,se!==ae&&(q=d.clone(q,!0,!0),X&&d.merge(B,$e(q,"script"))),E.call(c[se],q,se);if(X)for(ee=B[B.length-1].ownerDocument,d.map(B,Pt),se=0;se<X;se++)q=B[se],rt.test(q.type||"")&&!re.access(q,"globalEval")&&d.contains(ee,q)&&(q.src&&(q.type||"").toLowerCase()!=="module"?d._evalUrl&&!q.noModule&&d._evalUrl(q.src,{nonce:q.nonce||q.getAttribute("nonce")},ee):x(q.textContent.replace(Nn,""),q,ee))}return c}function ia(c,y,E){for(var D,O=y?d.filter(y,c):c,I=0;(D=O[I])!=null;I++)!E&&D.nodeType===1&&d.cleanData($e(D)),D.parentNode&&(E&&me(D)&&pt($e(D,"script")),D.parentNode.removeChild(D));return c}d.extend({htmlPrefilter:function(c){return c},clone:function(c,y,E){var D,O,I,B,X=c.cloneNode(!0),q=me(c);if(!g.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!d.isXMLDoc(c))for(B=$e(X),I=$e(c),D=0,O=I.length;D<O;D++)Mn(I[D],B[D]);if(y)if(E)for(I=I||$e(c),B=B||$e(X),D=0,O=I.length;D<O;D++)zt(I[D],B[D]);else zt(c,X);return B=$e(X,"script"),B.length>0&&pt(B,!q&&$e(c,"script")),X},cleanData:function(c){for(var y,E,D,O=d.event.special,I=0;(E=c[I])!==void 0;I++)if(Le(E)){if(y=E[re.expando]){if(y.events)for(D in y.events)O[D]?d.event.remove(E,D):d.removeEvent(E,D,y.handle);E[re.expando]=void 0}E[we.expando]&&(E[we.expando]=void 0)}}}),d.fn.extend({detach:function(c){return ia(this,c,!0)},remove:function(c){return ia(this,c)},text:function(c){return ce(this,function(y){return y===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=y)})},null,c,arguments.length)},append:function(){return Gt(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=Nr(this,c);y.appendChild(c)}})},prepend:function(){return Gt(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=Nr(this,c);y.insertBefore(c,y.firstChild)}})},before:function(){return Gt(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Gt(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,y=0;(c=this[y])!=null;y++)c.nodeType===1&&(d.cleanData($e(c,!1)),c.textContent="");return this},clone:function(c,y){return c=c??!1,y=y??c,this.map(function(){return d.clone(this,c,y)})},html:function(c){return ce(this,function(y){var E=this[0]||{},D=0,O=this.length;if(y===void 0&&E.nodeType===1)return E.innerHTML;if(typeof y=="string"&&!Pr.test(y)&&!He[(je.exec(y)||["",""])[1].toLowerCase()]){y=d.htmlPrefilter(y);try{for(;D<O;D++)E=this[D]||{},E.nodeType===1&&(d.cleanData($e(E,!1)),E.innerHTML=y);E=0}catch{}}E&&this.empty().append(y)},null,c,arguments.length)},replaceWith:function(){var c=[];return Gt(this,arguments,function(y){var E=this.parentNode;d.inArray(this,c)<0&&(d.cleanData($e(this)),E&&E.replaceChild(y,this))},c)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,y){d.fn[c]=function(E){for(var D,O=[],I=d(E),B=I.length-1,X=0;X<=B;X++)D=X===B?this:this.clone(!0),d(I[X])[y](D),s.apply(O,D.get());return this.pushStack(O)}});var oa=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),sa=/^--/,On=function(c){var y=c.ownerDocument.defaultView;return(!y||!y.opener)&&(y=e),y.getComputedStyle(c)},Ja=function(c,y,E){var D,O,I={};for(O in y)I[O]=c.style[O],c.style[O]=y[O];D=E.call(c);for(O in y)c.style[O]=I[O];return D},oo=new RegExp(z.join("|"),"i"),ei="[\\x20\\t\\r\\n\\f]",so=new RegExp("^"+ei+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ei+"+$","g");(function(){function c(){if(ee){q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ee.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(q).appendChild(ee);var se=e.getComputedStyle(ee);E=se.top!=="1%",X=y(se.marginLeft)===12,ee.style.right="60%",I=y(se.right)===36,D=y(se.width)===36,ee.style.position="absolute",O=y(ee.offsetWidth/3)===12,ne.removeChild(q),ee=null}}function y(se){return Math.round(parseFloat(se))}var E,D,O,I,B,X,q=b.createElement("div"),ee=b.createElement("div");ee.style&&(ee.style.backgroundClip="content-box",ee.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=ee.style.backgroundClip==="content-box",d.extend(g,{boxSizingReliable:function(){return c(),D},pixelBoxStyles:function(){return c(),I},pixelPosition:function(){return c(),E},reliableMarginLeft:function(){return c(),X},scrollboxSize:function(){return c(),O},reliableTrDimensions:function(){var se,Te,ae,ve;return B==null&&(se=b.createElement("table"),Te=b.createElement("tr"),ae=b.createElement("div"),se.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Te.style.cssText="border:1px solid",Te.style.height="1px",ae.style.height="9px",ae.style.display="block",ne.appendChild(se).appendChild(Te).appendChild(ae),ve=e.getComputedStyle(Te),B=parseInt(ve.height,10)+parseInt(ve.borderTopWidth,10)+parseInt(ve.borderBottomWidth,10)===Te.offsetHeight,ne.removeChild(se)),B}}))})();function Tr(c,y,E){var D,O,I,B,X=sa.test(y),q=c.style;return E=E||On(c),E&&(B=E.getPropertyValue(y)||E[y],X&&B&&(B=B.replace(so,"$1")||void 0),B===""&&!me(c)&&(B=d.style(c,y)),!g.pixelBoxStyles()&&oa.test(B)&&oo.test(y)&&(D=q.width,O=q.minWidth,I=q.maxWidth,q.minWidth=q.maxWidth=q.width=B,B=E.width,q.width=D,q.minWidth=O,q.maxWidth=I)),B!==void 0?B+"":B}function In(c,y){return{get:function(){if(c()){delete this.get;return}return(this.get=y).apply(this,arguments)}}}var fn=["Webkit","Moz","ms"],ua=b.createElement("div").style,la={};function uo(c){for(var y=c[0].toUpperCase()+c.slice(1),E=fn.length;E--;)if(c=fn[E]+y,c in ua)return c}function Qt(c){var y=d.cssProps[c]||la[c];return y||(c in ua?c:la[c]=uo(c)||c)}var fa=/^(none|table(?!-c[ea]).+)/,ti={position:"absolute",visibility:"hidden",display:"block"},Xr={letterSpacing:"0",fontWeight:"400"};function nr(c,y,E){var D=he.exec(y);return D?Math.max(0,D[2]-(E||0))+(D[3]||"px"):y}function ca(c,y,E,D,O,I){var B=y==="width"?1:0,X=0,q=0;if(E===(D?"border":"content"))return 0;for(;B<4;B+=2)E==="margin"&&(q+=d.css(c,E+z[B],!0,O)),D?(E==="content"&&(q-=d.css(c,"padding"+z[B],!0,O)),E!=="margin"&&(q-=d.css(c,"border"+z[B]+"Width",!0,O))):(q+=d.css(c,"padding"+z[B],!0,O),E!=="padding"?q+=d.css(c,"border"+z[B]+"Width",!0,O):X+=d.css(c,"border"+z[B]+"Width",!0,O));return!D&&I>=0&&(q+=Math.max(0,Math.ceil(c["offset"+y[0].toUpperCase()+y.slice(1)]-I-q-X-.5))||0),q}function Ls(c,y,E){var D=On(c),O=!g.boxSizingReliable()||E,I=O&&d.css(c,"boxSizing",!1,D)==="border-box",B=I,X=Tr(c,y,D),q="offset"+y[0].toUpperCase()+y.slice(1);if(oa.test(X)){if(!E)return X;X="auto"}return(!g.boxSizingReliable()&&I||!g.reliableTrDimensions()&&R(c,"tr")||X==="auto"||!parseFloat(X)&&d.css(c,"display",!1,D)==="inline")&&c.getClientRects().length&&(I=d.css(c,"boxSizing",!1,D)==="border-box",B=q in c,B&&(X=c[q])),X=parseFloat(X)||0,X+ca(c,y,E||(I?"border":"content"),B,D,X)+"px"}d.extend({cssHooks:{opacity:{get:function(c,y){if(y){var E=Tr(c,"opacity");return E===""?"1":E}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(c,y,E,D){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var O,I,B,X=Fe(y),q=sa.test(y),ee=c.style;if(q||(y=Qt(X)),B=d.cssHooks[y]||d.cssHooks[X],E!==void 0){if(I=typeof E,I==="string"&&(O=he.exec(E))&&O[1]&&(E=Ke(c,y,O),I="number"),E==null||E!==E)return;I==="number"&&!q&&(E+=O&&O[3]||(d.cssNumber[X]?"":"px")),!g.clearCloneStyle&&E===""&&y.indexOf("background")===0&&(ee[y]="inherit"),(!B||!("set"in B)||(E=B.set(c,E,D))!==void 0)&&(q?ee.setProperty(y,E):ee[y]=E)}else return B&&"get"in B&&(O=B.get(c,!1,D))!==void 0?O:ee[y]}},css:function(c,y,E,D){var O,I,B,X=Fe(y),q=sa.test(y);return q||(y=Qt(X)),B=d.cssHooks[y]||d.cssHooks[X],B&&"get"in B&&(O=B.get(c,!0,E)),O===void 0&&(O=Tr(c,y,D)),O==="normal"&&y in Xr&&(O=Xr[y]),E===""||E?(I=parseFloat(O),E===!0||isFinite(I)?I||0:O):O}}),d.each(["height","width"],function(c,y){d.cssHooks[y]={get:function(E,D,O){if(D)return fa.test(d.css(E,"display"))&&(!E.getClientRects().length||!E.getBoundingClientRect().width)?Ja(E,ti,function(){return Ls(E,y,O)}):Ls(E,y,O)},set:function(E,D,O){var I,B=On(E),X=!g.scrollboxSize()&&B.position==="absolute",q=X||O,ee=q&&d.css(E,"boxSizing",!1,B)==="border-box",se=O?ca(E,y,O,ee,B):0;return ee&&X&&(se-=Math.ceil(E["offset"+y[0].toUpperCase()+y.slice(1)]-parseFloat(B[y])-ca(E,y,"border",!1,B)-.5)),se&&(I=he.exec(D))&&(I[3]||"px")!=="px"&&(E.style[y]=D,D=d.css(E,y)),nr(E,D,se)}}}),d.cssHooks.marginLeft=In(g.reliableMarginLeft,function(c,y){if(y)return(parseFloat(Tr(c,"marginLeft"))||c.getBoundingClientRect().left-Ja(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(c,y){d.cssHooks[c+y]={expand:function(E){for(var D=0,O={},I=typeof E=="string"?E.split(" "):[E];D<4;D++)O[c+z[D]+y]=I[D]||I[D-2]||I[0];return O}},c!=="margin"&&(d.cssHooks[c+y].set=nr)}),d.fn.extend({css:function(c,y){return ce(this,function(E,D,O){var I,B,X={},q=0;if(Array.isArray(D)){for(I=On(E),B=D.length;q<B;q++)X[D[q]]=d.css(E,D[q],!1,I);return X}return O!==void 0?d.style(E,D,O):d.css(E,D)},c,y,arguments.length>1)}});function ar(c,y,E,D,O){return new ar.prototype.init(c,y,E,D,O)}d.Tween=ar,ar.prototype={constructor:ar,init:function(c,y,E,D,O,I){this.elem=c,this.prop=E,this.easing=O||d.easing._default,this.options=y,this.start=this.now=this.cur(),this.end=D,this.unit=I||(d.cssNumber[E]?"":"px")},cur:function(){var c=ar.propHooks[this.prop];return c&&c.get?c.get(this):ar.propHooks._default.get(this)},run:function(c){var y,E=ar.propHooks[this.prop];return this.options.duration?this.pos=y=d.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=y=c,this.now=(this.end-this.start)*y+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),E&&E.set?E.set(this):ar.propHooks._default.set(this),this}},ar.prototype.init.prototype=ar.prototype,ar.propHooks={_default:{get:function(c){var y;return c.elem.nodeType!==1||c.elem[c.prop]!=null&&c.elem.style[c.prop]==null?c.elem[c.prop]:(y=d.css(c.elem,c.prop,""),!y||y==="auto"?0:y)},set:function(c){d.fx.step[c.prop]?d.fx.step[c.prop](c):c.elem.nodeType===1&&(d.cssHooks[c.prop]||c.elem.style[Qt(c.prop)]!=null)?d.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},ar.propHooks.scrollTop=ar.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},d.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2},_default:"swing"},d.fx=ar.prototype.init,d.fx.step={};var kn,ri,jf=/^(?:toggle|show|hide)$/,Jf=/queueHooks$/;function lo(){ri&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(lo):e.setTimeout(lo,d.fx.interval),d.fx.tick())}function As(){return e.setTimeout(function(){kn=void 0}),kn=Date.now()}function ni(c,y){var E,D=0,O={height:c};for(y=y?1:0;D<4;D+=2-y)E=z[D],O["margin"+E]=O["padding"+E]=c;return y&&(O.opacity=O.width=c),O}function Ns(c,y,E){for(var D,O=(Cr.tweeners[y]||[]).concat(Cr.tweeners["*"]),I=0,B=O.length;I<B;I++)if(D=O[I].call(E,y,c))return D}function ec(c,y,E){var D,O,I,B,X,q,ee,se,Te="width"in y||"height"in y,ae=this,ve={},Ge=c.style,Qe=c.nodeType&&ge(c),ze=re.get(c,"fxshow");E.queue||(B=d._queueHooks(c,"fx"),B.unqueued==null&&(B.unqueued=0,X=B.empty.fire,B.empty.fire=function(){B.unqueued||X()}),B.unqueued++,ae.always(function(){ae.always(function(){B.unqueued--,d.queue(c,"fx").length||B.empty.fire()})}));for(D in y)if(O=y[D],jf.test(O)){if(delete y[D],I=I||O==="toggle",O===(Qe?"hide":"show"))if(O==="show"&&ze&&ze[D]!==void 0)Qe=!0;else continue;ve[D]=ze&&ze[D]||d.style(c,D)}if(q=!d.isEmptyObject(y),!(!q&&d.isEmptyObject(ve))){Te&&c.nodeType===1&&(E.overflow=[Ge.overflow,Ge.overflowX,Ge.overflowY],ee=ze&&ze.display,ee==null&&(ee=re.get(c,"display")),se=d.css(c,"display"),se==="none"&&(ee?se=ee:(Je([c],!0),ee=c.style.display||ee,se=d.css(c,"display"),Je([c]))),(se==="inline"||se==="inline-block"&&ee!=null)&&d.css(c,"float")==="none"&&(q||(ae.done(function(){Ge.display=ee}),ee==null&&(se=Ge.display,ee=se==="none"?"":se)),Ge.display="inline-block")),E.overflow&&(Ge.overflow="hidden",ae.always(function(){Ge.overflow=E.overflow[0],Ge.overflowX=E.overflow[1],Ge.overflowY=E.overflow[2]})),q=!1;for(D in ve)q||(ze?"hidden"in ze&&(Qe=ze.hidden):ze=re.access(c,"fxshow",{display:ee}),I&&(ze.hidden=!Qe),Qe&&Je([c],!0),ae.done(function(){Qe||Je([c]),re.remove(c,"fxshow");for(D in ve)d.style(c,D,ve[D])})),q=Ns(Qe?ze[D]:0,D,ae),D in ze||(ze[D]=q.start,Qe&&(q.end=q.start,q.start=0))}}function tc(c,y){var E,D,O,I,B;for(E in c)if(D=Fe(E),O=y[D],I=c[E],Array.isArray(I)&&(O=I[1],I=c[E]=I[0]),E!==D&&(c[D]=I,delete c[E]),B=d.cssHooks[D],B&&"expand"in B){I=B.expand(I),delete c[D];for(E in I)E in c||(c[E]=I[E],y[E]=O)}else y[D]=O}function Cr(c,y,E){var D,O,I=0,B=Cr.prefilters.length,X=d.Deferred().always(function(){delete q.elem}),q=function(){if(O)return!1;for(var Te=kn||As(),ae=Math.max(0,ee.startTime+ee.duration-Te),ve=ae/ee.duration||0,Ge=1-ve,Qe=0,ze=ee.tweens.length;Qe<ze;Qe++)ee.tweens[Qe].run(Ge);return X.notifyWith(c,[ee,Ge,ae]),Ge<1&&ze?ae:(ze||X.notifyWith(c,[ee,1,0]),X.resolveWith(c,[ee]),!1)},ee=X.promise({elem:c,props:d.extend({},y),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},E),originalProperties:y,originalOptions:E,startTime:kn||As(),duration:E.duration,tweens:[],createTween:function(Te,ae){var ve=d.Tween(c,ee.opts,Te,ae,ee.opts.specialEasing[Te]||ee.opts.easing);return ee.tweens.push(ve),ve},stop:function(Te){var ae=0,ve=Te?ee.tweens.length:0;if(O)return this;for(O=!0;ae<ve;ae++)ee.tweens[ae].run(1);return Te?(X.notifyWith(c,[ee,1,0]),X.resolveWith(c,[ee,Te])):X.rejectWith(c,[ee,Te]),this}}),se=ee.props;for(tc(se,ee.opts.specialEasing);I<B;I++)if(D=Cr.prefilters[I].call(ee,c,se,ee.opts),D)return m(D.stop)&&(d._queueHooks(ee.elem,ee.opts.queue).stop=D.stop.bind(D)),D;return d.map(se,Ns,ee),m(ee.opts.start)&&ee.opts.start.call(c,ee),ee.progress(ee.opts.progress).done(ee.opts.done,ee.opts.complete).fail(ee.opts.fail).always(ee.opts.always),d.fx.timer(d.extend(q,{elem:c,anim:ee,queue:ee.opts.queue})),ee}d.Animation=d.extend(Cr,{tweeners:{"*":[function(c,y){var E=this.createTween(c,y);return Ke(E.elem,c,he.exec(y),E),E}]},tweener:function(c,y){m(c)?(y=c,c=["*"]):c=c.match(K);for(var E,D=0,O=c.length;D<O;D++)E=c[D],Cr.tweeners[E]=Cr.tweeners[E]||[],Cr.tweeners[E].unshift(y)},prefilters:[ec],prefilter:function(c,y){y?Cr.prefilters.unshift(c):Cr.prefilters.push(c)}}),d.speed=function(c,y,E){var D=c&&typeof c=="object"?d.extend({},c):{complete:E||!E&&y||m(c)&&c,duration:c,easing:E&&y||y&&!m(y)&&y};return d.fx.off?D.duration=0:typeof D.duration!="number"&&(D.duration in d.fx.speeds?D.duration=d.fx.speeds[D.duration]:D.duration=d.fx.speeds._default),(D.queue==null||D.queue===!0)&&(D.queue="fx"),D.old=D.complete,D.complete=function(){m(D.old)&&D.old.call(this),D.queue&&d.dequeue(this,D.queue)},D},d.fn.extend({fadeTo:function(c,y,E,D){return this.filter(ge).css("opacity",0).show().end().animate({opacity:y},c,E,D)},animate:function(c,y,E,D){var O=d.isEmptyObject(c),I=d.speed(y,E,D),B=function(){var X=Cr(this,d.extend({},c),I);(O||re.get(this,"finish"))&&X.stop(!0)};return B.finish=B,O||I.queue===!1?this.each(B):this.queue(I.queue,B)},stop:function(c,y,E){var D=function(O){var I=O.stop;delete O.stop,I(E)};return typeof c!="string"&&(E=y,y=c,c=void 0),y&&this.queue(c||"fx",[]),this.each(function(){var O=!0,I=c!=null&&c+"queueHooks",B=d.timers,X=re.get(this);if(I)X[I]&&X[I].stop&&D(X[I]);else for(I in X)X[I]&&X[I].stop&&Jf.test(I)&&D(X[I]);for(I=B.length;I--;)B[I].elem===this&&(c==null||B[I].queue===c)&&(B[I].anim.stop(E),O=!1,B.splice(I,1));(O||!E)&&d.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var y,E=re.get(this),D=E[c+"queue"],O=E[c+"queueHooks"],I=d.timers,B=D?D.length:0;for(E.finish=!0,d.queue(this,c,[]),O&&O.stop&&O.stop.call(this,!0),y=I.length;y--;)I[y].elem===this&&I[y].queue===c&&(I[y].anim.stop(!0),I.splice(y,1));for(y=0;y<B;y++)D[y]&&D[y].finish&&D[y].finish.call(this);delete E.finish})}}),d.each(["toggle","show","hide"],function(c,y){var E=d.fn[y];d.fn[y]=function(D,O,I){return D==null||typeof D=="boolean"?E.apply(this,arguments):this.animate(ni(y,!0),D,O,I)}}),d.each({slideDown:ni("show"),slideUp:ni("hide"),slideToggle:ni("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,y){d.fn[c]=function(E,D,O){return this.animate(y,E,D,O)}}),d.timers=[],d.fx.tick=function(){var c,y=0,E=d.timers;for(kn=Date.now();y<E.length;y++)c=E[y],!c()&&E[y]===c&&E.splice(y--,1);E.length||d.fx.stop(),kn=void 0},d.fx.timer=function(c){d.timers.push(c),d.fx.start()},d.fx.interval=13,d.fx.start=function(){ri||(ri=!0,lo())},d.fx.stop=function(){ri=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(c,y){return c=d.fx&&d.fx.speeds[c]||c,y=y||"fx",this.queue(y,function(E,D){var O=e.setTimeout(E,c);D.stop=function(){e.clearTimeout(O)}})},function(){var c=b.createElement("input"),y=b.createElement("select"),E=y.appendChild(b.createElement("option"));c.type="checkbox",g.checkOn=c.value!=="",g.optSelected=E.selected,c=b.createElement("input"),c.value="t",c.type="radio",g.radioValue=c.value==="t"}();var Ms,ha=d.expr.attrHandle;d.fn.extend({attr:function(c,y){return ce(this,d.attr,c,y,arguments.length>1)},removeAttr:function(c){return this.each(function(){d.removeAttr(this,c)})}}),d.extend({attr:function(c,y,E){var D,O,I=c.nodeType;if(!(I===3||I===8||I===2)){if(typeof c.getAttribute>"u")return d.prop(c,y,E);if((I!==1||!d.isXMLDoc(c))&&(O=d.attrHooks[y.toLowerCase()]||(d.expr.match.bool.test(y)?Ms:void 0)),E!==void 0){if(E===null){d.removeAttr(c,y);return}return O&&"set"in O&&(D=O.set(c,E,y))!==void 0?D:(c.setAttribute(y,E+""),E)}return O&&"get"in O&&(D=O.get(c,y))!==null?D:(D=d.find.attr(c,y),D??void 0)}},attrHooks:{type:{set:function(c,y){if(!g.radioValue&&y==="radio"&&R(c,"input")){var E=c.value;return c.setAttribute("type",y),E&&(c.value=E),y}}}},removeAttr:function(c,y){var E,D=0,O=y&&y.match(K);if(O&&c.nodeType===1)for(;E=O[D++];)c.removeAttribute(E)}}),Ms={set:function(c,y,E){return y===!1?d.removeAttr(c,E):c.setAttribute(E,E),E}},d.each(d.expr.match.bool.source.match(/\w+/g),function(c,y){var E=ha[y]||d.find.attr;ha[y]=function(D,O,I){var B,X,q=O.toLowerCase();return I||(X=ha[q],ha[q]=B,B=E(D,O,I)!=null?q:null,ha[q]=X),B}});var rc=/^(?:input|select|textarea|button)$/i,nc=/^(?:a|area)$/i;d.fn.extend({prop:function(c,y){return ce(this,d.prop,c,y,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[d.propFix[c]||c]})}}),d.extend({prop:function(c,y,E){var D,O,I=c.nodeType;if(!(I===3||I===8||I===2))return(I!==1||!d.isXMLDoc(c))&&(y=d.propFix[y]||y,O=d.propHooks[y]),E!==void 0?O&&"set"in O&&(D=O.set(c,E,y))!==void 0?D:c[y]=E:O&&"get"in O&&(D=O.get(c,y))!==null?D:c[y]},propHooks:{tabIndex:{get:function(c){var y=d.find.attr(c,"tabindex");return y?parseInt(y,10):rc.test(c.nodeName)||nc.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(d.propHooks.selected={get:function(c){var y=c.parentNode;return y&&y.parentNode&&y.parentNode.selectedIndex,null},set:function(c){var y=c.parentNode;y&&(y.selectedIndex,y.parentNode&&y.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function cn(c){var y=c.match(K)||[];return y.join(" ")}function hn(c){return c.getAttribute&&c.getAttribute("class")||""}function fo(c){return Array.isArray(c)?c:typeof c=="string"?c.match(K)||[]:[]}d.fn.extend({addClass:function(c){var y,E,D,O,I,B;return m(c)?this.each(function(X){d(this).addClass(c.call(this,X,hn(this)))}):(y=fo(c),y.length?this.each(function(){if(D=hn(this),E=this.nodeType===1&&" "+cn(D)+" ",E){for(I=0;I<y.length;I++)O=y[I],E.indexOf(" "+O+" ")<0&&(E+=O+" ");B=cn(E),D!==B&&this.setAttribute("class",B)}}):this)},removeClass:function(c){var y,E,D,O,I,B;return m(c)?this.each(function(X){d(this).removeClass(c.call(this,X,hn(this)))}):arguments.length?(y=fo(c),y.length?this.each(function(){if(D=hn(this),E=this.nodeType===1&&" "+cn(D)+" ",E){for(I=0;I<y.length;I++)for(O=y[I];E.indexOf(" "+O+" ")>-1;)E=E.replace(" "+O+" "," ");B=cn(E),D!==B&&this.setAttribute("class",B)}}):this):this.attr("class","")},toggleClass:function(c,y){var E,D,O,I,B=typeof c,X=B==="string"||Array.isArray(c);return m(c)?this.each(function(q){d(this).toggleClass(c.call(this,q,hn(this),y),y)}):typeof y=="boolean"&&X?y?this.addClass(c):this.removeClass(c):(E=fo(c),this.each(function(){if(X)for(I=d(this),O=0;O<E.length;O++)D=E[O],I.hasClass(D)?I.removeClass(D):I.addClass(D);else(c===void 0||B==="boolean")&&(D=hn(this),D&&re.set(this,"__className__",D),this.setAttribute&&this.setAttribute("class",D||c===!1?"":re.get(this,"__className__")||""))}))},hasClass:function(c){var y,E,D=0;for(y=" "+c+" ";E=this[D++];)if(E.nodeType===1&&(" "+cn(hn(E))+" ").indexOf(y)>-1)return!0;return!1}});var ac=/\r/g;d.fn.extend({val:function(c){var y,E,D,O=this[0];return arguments.length?(D=m(c),this.each(function(I){var B;this.nodeType===1&&(D?B=c.call(this,I,d(this).val()):B=c,B==null?B="":typeof B=="number"?B+="":Array.isArray(B)&&(B=d.map(B,function(X){return X==null?"":X+""})),y=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!y||!("set"in y)||y.set(this,B,"value")===void 0)&&(this.value=B))})):O?(y=d.valHooks[O.type]||d.valHooks[O.nodeName.toLowerCase()],y&&"get"in y&&(E=y.get(O,"value"))!==void 0?E:(E=O.value,typeof E=="string"?E.replace(ac,""):E??"")):void 0}}),d.extend({valHooks:{option:{get:function(c){var y=d.find.attr(c,"value");return y??cn(d.text(c))}},select:{get:function(c){var y,E,D,O=c.options,I=c.selectedIndex,B=c.type==="select-one",X=B?null:[],q=B?I+1:O.length;for(I<0?D=q:D=B?I:0;D<q;D++)if(E=O[D],(E.selected||D===I)&&!E.disabled&&(!E.parentNode.disabled||!R(E.parentNode,"optgroup"))){if(y=d(E).val(),B)return y;X.push(y)}return X},set:function(c,y){for(var E,D,O=c.options,I=d.makeArray(y),B=O.length;B--;)D=O[B],(D.selected=d.inArray(d.valHooks.option.get(D),I)>-1)&&(E=!0);return E||(c.selectedIndex=-1),I}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(c,y){if(Array.isArray(y))return c.checked=d.inArray(d(c).val(),y)>-1}},g.checkOn||(d.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})}),g.focusin="onfocusin"in e;var Os=/^(?:focusinfocus|focusoutblur)$/,Is=function(c){c.stopPropagation()};d.extend(d.event,{trigger:function(c,y,E,D){var O,I,B,X,q,ee,se,Te,ae=[E||b],ve=h.call(c,"type")?c.type:c,Ge=h.call(c,"namespace")?c.namespace.split("."):[];if(I=Te=B=E=E||b,!(E.nodeType===3||E.nodeType===8)&&!Os.test(ve+d.event.triggered)&&(ve.indexOf(".")>-1&&(Ge=ve.split("."),ve=Ge.shift(),Ge.sort()),q=ve.indexOf(":")<0&&"on"+ve,c=c[d.expando]?c:new d.Event(ve,typeof c=="object"&&c),c.isTrigger=D?2:3,c.namespace=Ge.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+Ge.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=E),y=y==null?[c]:d.makeArray(y,[c]),se=d.event.special[ve]||{},!(!D&&se.trigger&&se.trigger.apply(E,y)===!1))){if(!D&&!se.noBubble&&!w(E)){for(X=se.delegateType||ve,Os.test(X+ve)||(I=I.parentNode);I;I=I.parentNode)ae.push(I),B=I;B===(E.ownerDocument||b)&&ae.push(B.defaultView||B.parentWindow||e)}for(O=0;(I=ae[O++])&&!c.isPropagationStopped();)Te=I,c.type=O>1?X:se.bindType||ve,ee=(re.get(I,"events")||Object.create(null))[c.type]&&re.get(I,"handle"),ee&&ee.apply(I,y),ee=q&&I[q],ee&&ee.apply&&Le(I)&&(c.result=ee.apply(I,y),c.result===!1&&c.preventDefault());return c.type=ve,!D&&!c.isDefaultPrevented()&&(!se._default||se._default.apply(ae.pop(),y)===!1)&&Le(E)&&q&&m(E[ve])&&!w(E)&&(B=E[q],B&&(E[q]=null),d.event.triggered=ve,c.isPropagationStopped()&&Te.addEventListener(ve,Is),E[ve](),c.isPropagationStopped()&&Te.removeEventListener(ve,Is),d.event.triggered=void 0,B&&(E[q]=B)),c.result}},simulate:function(c,y,E){var D=d.extend(new d.Event,E,{type:c,isSimulated:!0});d.event.trigger(D,null,y)}}),d.fn.extend({trigger:function(c,y){return this.each(function(){d.event.trigger(c,y,this)})},triggerHandler:function(c,y){var E=this[0];if(E)return d.event.trigger(c,y,E,!0)}}),g.focusin||d.each({focus:"focusin",blur:"focusout"},function(c,y){var E=function(D){d.event.simulate(y,D.target,d.event.fix(D))};d.event.special[y]={setup:function(){var D=this.ownerDocument||this.document||this,O=re.access(D,y);O||D.addEventListener(c,E,!0),re.access(D,y,(O||0)+1)},teardown:function(){var D=this.ownerDocument||this.document||this,O=re.access(D,y)-1;O?re.access(D,y,O):(D.removeEventListener(c,E,!0),re.remove(D,y))}}});var va=e.location,ks={guid:Date.now()},co=/\?/;d.parseXML=function(c){var y,E;if(!c||typeof c!="string")return null;try{y=new e.DOMParser().parseFromString(c,"text/xml")}catch{}return E=y&&y.getElementsByTagName("parsererror")[0],(!y||E)&&d.error("Invalid XML: "+(E?d.map(E.childNodes,function(D){return D.textContent}).join(`
`):c)),y};var ic=/\[\]$/,Rs=/\r?\n/g,oc=/^(?:submit|button|image|reset|file)$/i,sc=/^(?:input|select|textarea|keygen)/i;function ho(c,y,E,D){var O;if(Array.isArray(y))d.each(y,function(I,B){E||ic.test(c)?D(c,B):ho(c+"["+(typeof B=="object"&&B!=null?I:"")+"]",B,E,D)});else if(!E&&L(y)==="object")for(O in y)ho(c+"["+O+"]",y[O],E,D);else D(c,y)}d.param=function(c,y){var E,D=[],O=function(I,B){var X=m(B)?B():B;D[D.length]=encodeURIComponent(I)+"="+encodeURIComponent(X??"")};if(c==null)return"";if(Array.isArray(c)||c.jquery&&!d.isPlainObject(c))d.each(c,function(){O(this.name,this.value)});else for(E in c)ho(E,c[E],y,O);return D.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=d.prop(this,"elements");return c?d.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!d(this).is(":disabled")&&sc.test(this.nodeName)&&!oc.test(c)&&(this.checked||!tt.test(c))}).map(function(c,y){var E=d(this).val();return E==null?null:Array.isArray(E)?d.map(E,function(D){return{name:y.name,value:D.replace(Rs,`\r
`)}}):{name:y.name,value:E.replace(Rs,`\r
`)}}).get()}});var uc=/%20/g,lc=/#.*$/,fc=/([?&])_=[^&]*/,cc=/^(.*?):[ \t]*([^\r\n]*)$/mg,hc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vc=/^(?:GET|HEAD)$/,dc=/^\/\//,Ps={},vo={},Bs="*/".concat("*"),go=b.createElement("a");go.href=va.href;function Fs(c){return function(y,E){typeof y!="string"&&(E=y,y="*");var D,O=0,I=y.toLowerCase().match(K)||[];if(m(E))for(;D=I[O++];)D[0]==="+"?(D=D.slice(1)||"*",(c[D]=c[D]||[]).unshift(E)):(c[D]=c[D]||[]).push(E)}}function zs(c,y,E,D){var O={},I=c===vo;function B(X){var q;return O[X]=!0,d.each(c[X]||[],function(ee,se){var Te=se(y,E,D);if(typeof Te=="string"&&!I&&!O[Te])return y.dataTypes.unshift(Te),B(Te),!1;if(I)return!(q=Te)}),q}return B(y.dataTypes[0])||!O["*"]&&B("*")}function po(c,y){var E,D,O=d.ajaxSettings.flatOptions||{};for(E in y)y[E]!==void 0&&((O[E]?c:D||(D={}))[E]=y[E]);return D&&d.extend(!0,c,D),c}function gc(c,y,E){for(var D,O,I,B,X=c.contents,q=c.dataTypes;q[0]==="*";)q.shift(),D===void 0&&(D=c.mimeType||y.getResponseHeader("Content-Type"));if(D){for(O in X)if(X[O]&&X[O].test(D)){q.unshift(O);break}}if(q[0]in E)I=q[0];else{for(O in E){if(!q[0]||c.converters[O+" "+q[0]]){I=O;break}B||(B=O)}I=I||B}if(I)return I!==q[0]&&q.unshift(I),E[I]}function pc(c,y,E,D){var O,I,B,X,q,ee={},se=c.dataTypes.slice();if(se[1])for(B in c.converters)ee[B.toLowerCase()]=c.converters[B];for(I=se.shift();I;)if(c.responseFields[I]&&(E[c.responseFields[I]]=y),!q&&D&&c.dataFilter&&(y=c.dataFilter(y,c.dataType)),q=I,I=se.shift(),I){if(I==="*")I=q;else if(q!=="*"&&q!==I){if(B=ee[q+" "+I]||ee["* "+I],!B){for(O in ee)if(X=O.split(" "),X[1]===I&&(B=ee[q+" "+X[0]]||ee["* "+X[0]],B)){B===!0?B=ee[O]:ee[O]!==!0&&(I=X[0],se.unshift(X[1]));break}}if(B!==!0)if(B&&c.throws)y=B(y);else try{y=B(y)}catch(Te){return{state:"parsererror",error:B?Te:"No conversion from "+q+" to "+I}}}}return{state:"success",data:y}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:va.href,type:"GET",isLocal:hc.test(va.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,y){return y?po(po(c,d.ajaxSettings),y):po(d.ajaxSettings,c)},ajaxPrefilter:Fs(Ps),ajaxTransport:Fs(vo),ajax:function(c,y){typeof c=="object"&&(y=c,c=void 0),y=y||{};var E,D,O,I,B,X,q,ee,se,Te,ae=d.ajaxSetup({},y),ve=ae.context||ae,Ge=ae.context&&(ve.nodeType||ve.jquery)?d(ve):d.event,Qe=d.Deferred(),ze=d.Callbacks("once memory"),Mt=ae.statusCode||{},Lt={},fr={},ct="canceled",Ze={readyState:0,getResponseHeader:function(nt){var Tt;if(q){if(!I)for(I={};Tt=cc.exec(O);)I[Tt[1].toLowerCase()+" "]=(I[Tt[1].toLowerCase()+" "]||[]).concat(Tt[2]);Tt=I[nt.toLowerCase()+" "]}return Tt==null?null:Tt.join(", ")},getAllResponseHeaders:function(){return q?O:null},setRequestHeader:function(nt,Tt){return q==null&&(nt=fr[nt.toLowerCase()]=fr[nt.toLowerCase()]||nt,Lt[nt]=Tt),this},overrideMimeType:function(nt){return q==null&&(ae.mimeType=nt),this},statusCode:function(nt){var Tt;if(nt)if(q)Ze.always(nt[Ze.status]);else for(Tt in nt)Mt[Tt]=[Mt[Tt],nt[Tt]];return this},abort:function(nt){var Tt=nt||ct;return E&&E.abort(Tt),ir(0,Tt),this}};if(Qe.promise(Ze),ae.url=((c||ae.url||va.href)+"").replace(dc,va.protocol+"//"),ae.type=y.method||y.type||ae.method||ae.type,ae.dataTypes=(ae.dataType||"*").toLowerCase().match(K)||[""],ae.crossDomain==null){X=b.createElement("a");try{X.href=ae.url,X.href=X.href,ae.crossDomain=go.protocol+"//"+go.host!=X.protocol+"//"+X.host}catch{ae.crossDomain=!0}}if(ae.data&&ae.processData&&typeof ae.data!="string"&&(ae.data=d.param(ae.data,ae.traditional)),zs(Ps,ae,y,Ze),q)return Ze;ee=d.event&&ae.global,ee&&d.active++===0&&d.event.trigger("ajaxStart"),ae.type=ae.type.toUpperCase(),ae.hasContent=!vc.test(ae.type),D=ae.url.replace(lc,""),ae.hasContent?ae.data&&ae.processData&&(ae.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ae.data=ae.data.replace(uc,"+")):(Te=ae.url.slice(D.length),ae.data&&(ae.processData||typeof ae.data=="string")&&(D+=(co.test(D)?"&":"?")+ae.data,delete ae.data),ae.cache===!1&&(D=D.replace(fc,"$1"),Te=(co.test(D)?"&":"?")+"_="+ks.guid+++Te),ae.url=D+Te),ae.ifModified&&(d.lastModified[D]&&Ze.setRequestHeader("If-Modified-Since",d.lastModified[D]),d.etag[D]&&Ze.setRequestHeader("If-None-Match",d.etag[D])),(ae.data&&ae.hasContent&&ae.contentType!==!1||y.contentType)&&Ze.setRequestHeader("Content-Type",ae.contentType),Ze.setRequestHeader("Accept",ae.dataTypes[0]&&ae.accepts[ae.dataTypes[0]]?ae.accepts[ae.dataTypes[0]]+(ae.dataTypes[0]!=="*"?", "+Bs+"; q=0.01":""):ae.accepts["*"]);for(se in ae.headers)Ze.setRequestHeader(se,ae.headers[se]);if(ae.beforeSend&&(ae.beforeSend.call(ve,Ze,ae)===!1||q))return Ze.abort();if(ct="abort",ze.add(ae.complete),Ze.done(ae.success),Ze.fail(ae.error),E=zs(vo,ae,y,Ze),!E)ir(-1,"No Transport");else{if(Ze.readyState=1,ee&&Ge.trigger("ajaxSend",[Ze,ae]),q)return Ze;ae.async&&ae.timeout>0&&(B=e.setTimeout(function(){Ze.abort("timeout")},ae.timeout));try{q=!1,E.send(Lt,ir)}catch(nt){if(q)throw nt;ir(-1,nt)}}function ir(nt,Tt,ga,ai){var cr,vn,dn,or,Wr,yr=Tt;q||(q=!0,B&&e.clearTimeout(B),E=void 0,O=ai||"",Ze.readyState=nt>0?4:0,cr=nt>=200&&nt<300||nt===304,ga&&(or=gc(ae,Ze,ga)),!cr&&d.inArray("script",ae.dataTypes)>-1&&d.inArray("json",ae.dataTypes)<0&&(ae.converters["text script"]=function(){}),or=pc(ae,or,Ze,cr),cr?(ae.ifModified&&(Wr=Ze.getResponseHeader("Last-Modified"),Wr&&(d.lastModified[D]=Wr),Wr=Ze.getResponseHeader("etag"),Wr&&(d.etag[D]=Wr)),nt===204||ae.type==="HEAD"?yr="nocontent":nt===304?yr="notmodified":(yr=or.state,vn=or.data,dn=or.error,cr=!dn)):(dn=yr,(nt||!yr)&&(yr="error",nt<0&&(nt=0))),Ze.status=nt,Ze.statusText=(Tt||yr)+"",cr?Qe.resolveWith(ve,[vn,yr,Ze]):Qe.rejectWith(ve,[Ze,yr,dn]),Ze.statusCode(Mt),Mt=void 0,ee&&Ge.trigger(cr?"ajaxSuccess":"ajaxError",[Ze,ae,cr?vn:dn]),ze.fireWith(ve,[Ze,yr]),ee&&(Ge.trigger("ajaxComplete",[Ze,ae]),--d.active||d.event.trigger("ajaxStop")))}return Ze},getJSON:function(c,y,E){return d.get(c,y,E,"json")},getScript:function(c,y){return d.get(c,void 0,y,"script")}}),d.each(["get","post"],function(c,y){d[y]=function(E,D,O,I){return m(D)&&(I=I||O,O=D,D=void 0),d.ajax(d.extend({url:E,type:y,dataType:I,data:D,success:O},d.isPlainObject(E)&&E))}}),d.ajaxPrefilter(function(c){var y;for(y in c.headers)y.toLowerCase()==="content-type"&&(c.contentType=c.headers[y]||"")}),d._evalUrl=function(c,y,E){return d.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(D){d.globalEval(D,y,E)}})},d.fn.extend({wrapAll:function(c){var y;return this[0]&&(m(c)&&(c=c.call(this[0])),y=d(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&y.insertBefore(this[0]),y.map(function(){for(var E=this;E.firstElementChild;)E=E.firstElementChild;return E}).append(this)),this},wrapInner:function(c){return m(c)?this.each(function(y){d(this).wrapInner(c.call(this,y))}):this.each(function(){var y=d(this),E=y.contents();E.length?E.wrapAll(c):y.append(c)})},wrap:function(c){var y=m(c);return this.each(function(E){d(this).wrapAll(y?c.call(this,E):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(c){return!d.expr.pseudos.visible(c)},d.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var yc={0:200,1223:204},da=d.ajaxSettings.xhr();g.cors=!!da&&"withCredentials"in da,g.ajax=da=!!da,d.ajaxTransport(function(c){var y,E;if(g.cors||da&&!c.crossDomain)return{send:function(D,O){var I,B=c.xhr();if(B.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(I in c.xhrFields)B[I]=c.xhrFields[I];c.mimeType&&B.overrideMimeType&&B.overrideMimeType(c.mimeType),!c.crossDomain&&!D["X-Requested-With"]&&(D["X-Requested-With"]="XMLHttpRequest");for(I in D)B.setRequestHeader(I,D[I]);y=function(X){return function(){y&&(y=E=B.onload=B.onerror=B.onabort=B.ontimeout=B.onreadystatechange=null,X==="abort"?B.abort():X==="error"?typeof B.status!="number"?O(0,"error"):O(B.status,B.statusText):O(yc[B.status]||B.status,B.statusText,(B.responseType||"text")!=="text"||typeof B.responseText!="string"?{binary:B.response}:{text:B.responseText},B.getAllResponseHeaders()))}},B.onload=y(),E=B.onerror=B.ontimeout=y("error"),B.onabort!==void 0?B.onabort=E:B.onreadystatechange=function(){B.readyState===4&&e.setTimeout(function(){y&&E()})},y=y("abort");try{B.send(c.hasContent&&c.data||null)}catch(X){if(y)throw X}},abort:function(){y&&y()}}}),d.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return d.globalEval(c),c}}}),d.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),d.ajaxTransport("script",function(c){if(c.crossDomain||c.scriptAttrs){var y,E;return{send:function(D,O){y=d("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",E=function(I){y.remove(),E=null,I&&O(I.type==="error"?404:200,I.type)}),b.head.appendChild(y[0])},abort:function(){E&&E()}}}});var Gs=[],yo=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Gs.pop()||d.expando+"_"+ks.guid++;return this[c]=!0,c}}),d.ajaxPrefilter("json jsonp",function(c,y,E){var D,O,I,B=c.jsonp!==!1&&(yo.test(c.url)?"url":typeof c.data=="string"&&(c.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&yo.test(c.data)&&"data");if(B||c.dataTypes[0]==="jsonp")return D=c.jsonpCallback=m(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,B?c[B]=c[B].replace(yo,"$1"+D):c.jsonp!==!1&&(c.url+=(co.test(c.url)?"&":"?")+c.jsonp+"="+D),c.converters["script json"]=function(){return I||d.error(D+" was not called"),I[0]},c.dataTypes[0]="json",O=e[D],e[D]=function(){I=arguments},E.always(function(){O===void 0?d(e).removeProp(D):e[D]=O,c[D]&&(c.jsonpCallback=y.jsonpCallback,Gs.push(D)),I&&m(O)&&O(I[0]),I=O=void 0}),"script"}),g.createHTMLDocument=function(){var c=b.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",c.childNodes.length===2}(),d.parseHTML=function(c,y,E){if(typeof c!="string")return[];typeof y=="boolean"&&(E=y,y=!1);var D,O,I;return y||(g.createHTMLDocument?(y=b.implementation.createHTMLDocument(""),D=y.createElement("base"),D.href=b.location.href,y.head.appendChild(D)):y=b),O=G.exec(c),I=!E&&[],O?[y.createElement(O[1])]:(O=tr([c],y,I),I&&I.length&&d(I).remove(),d.merge([],O.childNodes))},d.fn.load=function(c,y,E){var D,O,I,B=this,X=c.indexOf(" ");return X>-1&&(D=cn(c.slice(X)),c=c.slice(0,X)),m(y)?(E=y,y=void 0):y&&typeof y=="object"&&(O="POST"),B.length>0&&d.ajax({url:c,type:O||"GET",dataType:"html",data:y}).done(function(q){I=arguments,B.html(D?d("<div>").append(d.parseHTML(q)).find(D):q)}).always(E&&function(q,ee){B.each(function(){E.apply(this,I||[q.responseText,ee,q])})}),this},d.expr.pseudos.animated=function(c){return d.grep(d.timers,function(y){return c===y.elem}).length},d.offset={setOffset:function(c,y,E){var D,O,I,B,X,q,ee,se=d.css(c,"position"),Te=d(c),ae={};se==="static"&&(c.style.position="relative"),X=Te.offset(),I=d.css(c,"top"),q=d.css(c,"left"),ee=(se==="absolute"||se==="fixed")&&(I+q).indexOf("auto")>-1,ee?(D=Te.position(),B=D.top,O=D.left):(B=parseFloat(I)||0,O=parseFloat(q)||0),m(y)&&(y=y.call(c,E,d.extend({},X))),y.top!=null&&(ae.top=y.top-X.top+B),y.left!=null&&(ae.left=y.left-X.left+O),"using"in y?y.using.call(c,ae):Te.css(ae)}},d.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(O){d.offset.setOffset(this,c,O)});var y,E,D=this[0];if(D)return D.getClientRects().length?(y=D.getBoundingClientRect(),E=D.ownerDocument.defaultView,{top:y.top+E.pageYOffset,left:y.left+E.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var c,y,E,D=this[0],O={top:0,left:0};if(d.css(D,"position")==="fixed")y=D.getBoundingClientRect();else{for(y=this.offset(),E=D.ownerDocument,c=D.offsetParent||E.documentElement;c&&(c===E.body||c===E.documentElement)&&d.css(c,"position")==="static";)c=c.parentNode;c&&c!==D&&c.nodeType===1&&(O=d(c).offset(),O.top+=d.css(c,"borderTopWidth",!0),O.left+=d.css(c,"borderLeftWidth",!0))}return{top:y.top-O.top-d.css(D,"marginTop",!0),left:y.left-O.left-d.css(D,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&d.css(c,"position")==="static";)c=c.offsetParent;return c||ne})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,y){var E=y==="pageYOffset";d.fn[c]=function(D){return ce(this,function(O,I,B){var X;if(w(O)?X=O:O.nodeType===9&&(X=O.defaultView),B===void 0)return X?X[y]:O[I];X?X.scrollTo(E?X.pageXOffset:B,E?B:X.pageYOffset):O[I]=B},c,D,arguments.length)}}),d.each(["top","left"],function(c,y){d.cssHooks[y]=In(g.pixelPosition,function(E,D){if(D)return D=Tr(E,y),oa.test(D)?d(E).position()[y]+"px":D})}),d.each({Height:"height",Width:"width"},function(c,y){d.each({padding:"inner"+c,content:y,"":"outer"+c},function(E,D){d.fn[D]=function(O,I){var B=arguments.length&&(E||typeof O!="boolean"),X=E||(O===!0||I===!0?"margin":"border");return ce(this,function(q,ee,se){var Te;return w(q)?D.indexOf("outer")===0?q["inner"+c]:q.document.documentElement["client"+c]:q.nodeType===9?(Te=q.documentElement,Math.max(q.body["scroll"+c],Te["scroll"+c],q.body["offset"+c],Te["offset"+c],Te["client"+c])):se===void 0?d.css(q,ee,X):d.style(q,ee,se,X)},y,B?O:void 0,B)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,y){d.fn[y]=function(E){return this.on(y,E)}}),d.fn.extend({bind:function(c,y,E){return this.on(c,null,y,E)},unbind:function(c,y){return this.off(c,null,y)},delegate:function(c,y,E,D){return this.on(y,c,E,D)},undelegate:function(c,y,E){return arguments.length===1?this.off(c,"**"):this.off(y,c||"**",E)},hover:function(c,y){return this.mouseenter(c).mouseleave(y||c)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,y){d.fn[y]=function(E,D){return arguments.length>0?this.on(y,null,E,D):this.trigger(y)}});var mc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(c,y){var E,D,O;if(typeof y=="string"&&(E=c[y],y=c,c=E),!!m(c))return D=o.call(arguments,2),O=function(){return c.apply(y||this,D.concat(o.call(arguments)))},O.guid=c.guid=c.guid||d.guid++,O},d.holdReady=function(c){c?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=R,d.isFunction=m,d.isWindow=w,d.camelCase=Fe,d.type=L,d.now=Date.now,d.isNumeric=function(c){var y=d.type(c);return(y==="number"||y==="string")&&!isNaN(c-parseFloat(c))},d.trim=function(c){return c==null?"":(c+"").replace(mc,"$1")};var bc=e.jQuery,wc=e.$;return d.noConflict=function(c){return e.$===d&&(e.$=wc),c&&e.jQuery===d&&(e.jQuery=bc),d},typeof r>"u"&&(e.jQuery=e.$=d),d})}(f1)),Hi}/*!
Copyright (c) The Cytoscape Consortium

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the “Software”), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/(function(t){(function(){var e=function(i,o){!i||!o||(o.fn.cyPanzoom=o.fn.cytoscapePanzoom=function(a){return n.apply(this,[a,i,o]),this},i("core","panzoom",function(a){return n.apply(this,[a,i,o]),this}))},r={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},n=function(i,o,a){var s=this,u=a.extend(!0,{},r,i),l=i,f={destroy:function(){var h=a(s.container()),p=h.find(".cy-panzoom");p.data("winbdgs").forEach(function(v){a(window).unbind(v.evt,v.fn)}),p.data("cybdgs").forEach(function(v){s.off(v.evt,v.fn)}),p.remove()},init:function(){return a(s.container()).each(function(){var h=a(this);h.cytoscape=o;var p=[],v=a(window),g=function(fe,re){p.push({evt:fe,fn:re}),v.bind(fe,re)},m=function(fe,re){for(var we=0;we<p.length;we++){var Ee=p[we];if(Ee.evt===fe&&Ee.fn===re){p.splice(we,1);break}}v.unbind(fe,re)},w=[],b=function(fe,re){w.push({evt:fe,fn:re}),s.on(fe,re)},T=a('<div class="cy-panzoom"></div>');h.prepend(T),T.css("position","absolute"),T.data("winbdgs",p),T.data("cybdgs",w),u.zoomOnly&&T.addClass("cy-panzoom-zoom-only");var x=a('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+u.zoomInIcon+'"></span></div>');T.append(x);var L=a('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+u.zoomOutIcon+'"></span></div>');T.append(L);var N=a('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+u.resetIcon+'"></span></div>');T.append(N);var d=a('<div class="cy-panzoom-slider"></div>');T.append(d),d.append('<div class="cy-panzoom-slider-background"></div>');var C=a('<div class="cy-panzoom-slider-handle"><span class="icon '+u.sliderHandleIcon+'"></span></div>');d.append(C);var A=a('<div class="cy-panzoom-no-zoom-tick"></div>');d.append(A);var S=a('<div class="cy-panzoom-panner"></div>');T.append(S);var M=a('<div class="cy-panzoom-panner-handle"></div>');S.append(M);var k=a('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),R=a('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),G=a('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),P=a('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');S.append(k).append(R).append(G).append(P);var Y=a('<div class="cy-panzoom-pan-indicator"></div>');S.append(Y);function H(fe){var re={x:fe.originalEvent.pageX-S.offset().left-S.width()/2,y:fe.originalEvent.pageY-S.offset().top-S.height()/2},we=u.panDragAreaSize,Ee=Math.sqrt(re.x*re.x+re.y*re.y),Ae=Math.min(Ee/we,1);if(Ee<u.panInactiveArea)return{x:NaN,y:NaN};re={x:re.x/Ee,y:re.y/Ee},Ae=Math.max(u.panMinPercentSpeed,Ae);var Be={x:-1*re.x*(Ae*u.panDistance),y:-1*re.y*(Ae*u.panDistance)};return Be}function U(){clearInterval(le),m("mousemove",Q),Y.hide()}function W(fe){var re=fe,we=Math.sqrt(re.x*re.x+re.y*re.y),Ee={x:-1*re.x/we,y:-1*re.y/we},Ae=S.width(),Be=S.height(),ke=we/u.panDistance,Ie=Math.max(u.panIndicatorMinOpacity,ke),he=255-Math.round(Ie*255);Y.show().css({left:Ae/2*Ee.x+Ae/2,top:Be/2*Ee.y+Be/2,background:"rgb("+he+", "+he+", "+he+")"})}function _(){s.pan(),s.zoom(),ie=h.width()/2,oe=h.height()/2}var j=!1;function K(){j=!0,_()}function te(){j=!1}var ie,oe;function ue(fe){j||_(),s.zoom({level:fe,renderedPosition:{x:ie,y:oe}})}var le,Q=function(fe){fe.stopPropagation(),fe.preventDefault(),clearInterval(le);var re=H(fe);if(isNaN(re.x)||isNaN(re.y)){Y.hide();return}W(re),le=setInterval(function(){s.panBy(re)},u.panSpeed)};M.bind("mousedown",function(fe){Q(fe),g("mousemove",Q)}),M.bind("mouseup",function(){U()}),g("mouseup blur",function(){U()}),d.bind("mousedown",function(){return!1});var de=!1,ce=2;function De(fe,re){re===void 0&&(re=0);var we=ce,Ee=0+we,Ae=d.height()-C.height()-2*we,Be=fe.pageY-d.offset().top-re;Be<Ee&&(Be=Ee),Be>Ae&&(Be=Ae);var ke=1-(Be-Ee)/(Ae-Ee);C.css("top",Be);var Ie=u.minZoom,he=u.maxZoom,z=Math.log(Ie)/Math.log(he),ne=(1-z)*ke+z,me=Math.pow(he,ne);me<Ie?me=Ie:me>he&&(me=he),ue(me)}var Se,Ve;C.bind("mousedown",Se=function(fe){var re=fe.target===C[0]?fe.offsetY:0;de=!0,K(),C.addClass("active");var we=0;return g("mousemove",Ve=function(Ee){var Ae=+new Date;if(Ae>we+10)we=Ae;else return!1;return De(Ee,re),!1}),g("mouseup",function(){m("mousemove",Ve),de=!1,C.removeClass("active"),te()}),!1}),d.bind("mousedown",function(fe){fe.target!==C[0]&&(Se(fe),De(fe))});function Fe(){var fe=s.zoom(),re=u.minZoom,we=u.maxZoom,Ee=Math.log(re)/Math.log(we),Ae=Math.log(fe)/Math.log(we),Be=1-(Ae-Ee)/(1-Ee),ke=ce,Ie=d.height()-C.height()-2*ce,he=Be*(Ie-ke);he<ke&&(he=ke),he>Ie&&(he=Ie),C.css("top",he)}Fe(),b("zoom",function(){de||Fe()}),function(){var fe=1,re=u.minZoom,we=u.maxZoom,Ee=Math.log(re)/Math.log(we),Ae=Math.log(fe)/Math.log(we),Be=1-(Ae-Ee)/(1-Ee);if(Be>1||Be<0){A.hide();return}var ke=ce,Ie=d.height()-C.height()-2*ce,he=Be*(Ie-ke);he<ke&&(he=ke),he>Ie&&(he=Ie),A.css("top",he)}();function Le(fe,re){var we;fe.bind("mousedown",function(Ee){if(Ee.preventDefault(),Ee.stopPropagation(),Ee.button==0){var Ae=function(){var Be=s.zoom(),ke=s.zoom()*re;ke<u.minZoom&&(ke=u.minZoom),ke>u.maxZoom&&(ke=u.maxZoom),!(ke==u.maxZoom&&Be==u.maxZoom||ke==u.minZoom&&Be==u.minZoom)&&ue(ke)};return K(),Ae(),we=setInterval(Ae,u.zoomDelay),!1}}),g("mouseup blur",function(){clearInterval(we),te()})}Le(x,1+u.zoomFactor),Le(L,1-u.zoomFactor),N.bind("mousedown",function(fe){if(fe.button==0){var re=u.fitSelector?s.elements(u.fitSelector):s.elements();if(re.size()===0)s.reset();else{var we=typeof u.animateOnFit=="function"?u.animateOnFit.call():u.animateOnFit;we?s.animate({fit:{eles:re,padding:u.fitPadding}},{duration:u.fitAnimationDuration}):s.fit(re,u.fitPadding)}return!1}})})}};return f[l]?f[l].apply(this,Array.prototype.slice.call(arguments,1)):typeof l=="object"||!l?f.init.apply(this,arguments):(a.error("No such function `"+l+"` for jquery.cytoscapePanzoom"),a(this))};t.exports&&(t.exports=function(i,o){e(i,o||c1())}),typeof cytoscape<"u"&&typeof jQuery<"u"&&e(cytoscape,jQuery)})()})(l1);const h1=es;var v1=500;function d1(t){t===void 0&&(t=v1);var e=null;return this.on("click",function(r){e&&e===r.target?(e=null,r.preventDefault(),r.stopPropagation(),r.target.emit("dblclick",[r])):(e=r.target,setTimeout(function(){e&&e===r.target&&(e=null,r.target.emit("dblclick:timeout",[r]))},t))}),this}function Qf(t){if(t){var e="dblclick";t("core",e,d1)}}typeof window.cytoscape<"u"&&Qf(window.cytoscape);$(document).ready(function(){p1()});var Jt,Ss,jr,sr,ts=[];const g1="#777777";function p1(){$(document).on("shown.bs.modal",function(){dl()}),$('input[name="two_way"]').length===1&&dl(),$("#cy").length!==0&&(Ca.use(Qf),Ca.use(u1),Ca.use(h1),Ss=$("#cy"),Jt=Ca({container:document.getElementById("cy"),wheelSensitivity:.5,style:Ca.stylesheet().selector("node").css({label:"data(name)","background-image":"data(image)",height:80,width:80,"background-fit":"cover","border-color":$("#cy").parent().css("color"),"border-width":3,color:$("#cy").css("color"),"text-wrap":"wrap","text-margin-y":"-8px","text-background-opacity":1,"text-background-color":$("#cy").css("background-color"),"text-border-color":$("#cy").css("background-color"),"text-border-width":3,"text-border-opacity":1}).selector("edge").css({"line-color":"data(colour)","curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"data(shape)","target-arrow-color":"data(colour)",width:"data(attitude)","text-background-opacity":1,color:$("#cy").css("color"),"text-background-color":$("#cy").css("background-color"),"text-border-color":$("#cy").css("background-color"),"text-border-width":3,"text-border-opacity":1})}),Jt.panzoom({maxZoom:2,minZoom:.3}),Jt.dblclick(),y1())}function y1(){$.ajax({url:Ss.data("url"),type:"GET",dataType:"json",success:m1})}function m1(t){for(jr in t.entities){let e={group:"nodes",data:{id:t.entities[jr].id,name:t.entities[jr].name,image:t.entities[jr].image,link:t.entities[jr].link}};ts.push(e)}for(sr in t.relations){let e={group:"edges",data:{source:t.relations[sr].source,target:t.relations[sr].target,name:t.relations[sr].text,colour:t.relations[sr].colour,attitude:t.relations[sr].attitude,shape:t.relations[sr].shape,edit_url:t.relations[sr].edit_url}};e.data.coluor||(e.data.coluor=g1),e.data.attitude||(e.data.attitude=0),e.data.attitude=T1(e.data.attitude),ts.push(e)}b1()}function b1(){Jt.add(ts),Jt.nodes().forEach(function(t){t.connectedEdges().length==0&&w1(t)}),E1(),x1(),C1()}function w1(t){t.hide()}function E1(){Jt.elements().layout({name:"cose-bilkent",idealEdgeLength:130,nodeDimensionsIncludeLabels:!0}).run()}function x1(){Jt.on("tap","node",function(t){let e=t.target.data();e.link&&(window.location=e.link)}),Jt.nodes().on("mouseover",function(t){jr=Jt.getElementById(t.target.id()),jr.addClass("node-hover")}),Jt.nodes().on("mouseout",function(){jr.removeClass("node-hover")}),Jt.on("tap","edge",function(t){let e=t.target.data().edit_url;e&&$.ajax({url:e}).done(function(r){$("#entity-modal .modal-content").html(r),$("#entity-modal").modal()})}),Jt.edges().on("mouseover",function(t){sr=Jt.getElementById(t.target.id()),sr.style("label",sr._private.data.name),sr.style("overlay-opacity",.1)}),Jt.edges().on("mouseout",function(){sr.style("label",""),sr.style("overlay-opacity",0)})}function T1(t){return(t+100)/100*2+2}async function C1(){let t=!0;for(;t;)Jt.nodes(":backgrounding").length==0?t=!1:await sleep(300);$("#spinner").hide(),Ss.show()}function dl(){$('input[name="two_way"]').on("click",function(){$("#two-way-relation").toggle()})}
